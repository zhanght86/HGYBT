09:08:29,083 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line -1: Premature end of file.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
09:12:11,708 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.transformToRTF(TransformerImpl.java:1988)
	at org.apache.xalan.transformer.TransformerImpl.transformToRTF(TransformerImpl.java:1910)
	at org.apache.xalan.templates.ElemVariable.getValue(ElemVariable.java:312)
	at org.apache.xalan.templates.ElemVariable.execute(ElemVariable.java:248)
	at org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes(ElemApplyTemplates.java:395)
	at org.apache.xalan.templates.ElemApplyTemplates.execute(ElemApplyTemplates.java:178)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemIf.execute(ElemIf.java:162)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes(ElemApplyTemplates.java:395)
	at org.apache.xalan.templates.ElemApplyTemplates.execute(ElemApplyTemplates.java:178)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at com.sinosoft.midplat.util.XmlTransferTest.transferXml(XmlTransferTest.java:40)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:68)
09:12:11,768 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
09:16:42,772 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.transformToRTF(TransformerImpl.java:1988)
	at org.apache.xalan.transformer.TransformerImpl.transformToRTF(TransformerImpl.java:1910)
	at org.apache.xalan.templates.ElemVariable.getValue(ElemVariable.java:312)
	at org.apache.xalan.templates.ElemVariable.execute(ElemVariable.java:248)
	at org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes(ElemApplyTemplates.java:395)
	at org.apache.xalan.templates.ElemApplyTemplates.execute(ElemApplyTemplates.java:178)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemIf.execute(ElemIf.java:162)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes(ElemApplyTemplates.java:395)
	at org.apache.xalan.templates.ElemApplyTemplates.execute(ElemApplyTemplates.java:178)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at com.sinosoft.midplat.util.XmlTransferTest.transferXml(XmlTransferTest.java:40)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:68)
09:16:42,809 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
09:32:12,321 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line -1: Premature end of file.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
09:33:41,697 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line -1: Premature end of file.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
09:34:17,565 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line -1: Premature end of file.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
09:34:55,456 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line -1: Premature end of file.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
09:35:28,564 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line -1: Premature end of file.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:70)
09:59:26,958 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line -1: Premature end of file.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:74)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:74)
17:52:03,429 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line -1: Premature end of file.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:90)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:90)
18:02:09,553 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line -1: Premature end of file.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:90)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:90)
18:02:46,739 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line -1: Premature end of file.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:90)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Premature end of file.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:55)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:90)
18:09:59,298 INFO test.BocTest(77) - 贵州银行请求报文：<?xml version="1.0"?>
<InsuReq>
   <!--中国银行保费试算请求报文-->
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20160628</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
</InsuReq>


18:09:59,301 INFO test.BocTest(78) - 请求报文长度为：4024个字节
18:09:59,301 INFO test.BocTest(88) - 消息头长度为:8
18:10:01,012 INFO test.BocTest(106) - ---------------------------------------------------
18:10:01,014 INFO test.BocTest(107) - 报文字节 长度为:00000376
18:10:01,017 INFO test.BocTest(109) - 交易结束，共耗费：1.713秒,1713毫秒
18:10:01,046 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: Content is not allowed in prolog.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at com.sinosoft.midplat.boc.test.BocTest.main(BocTest.java:110)
Caused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at com.sinosoft.midplat.boc.test.BocTest.main(BocTest.java:110)
19:01:19,746 INFO test.BOCSocketTest(102) - Socket连接10.9.3.124:52004
19:01:56,797 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:02:46,452 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:03:16,556 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@41e3a0ec
19:03:16,742 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:03:16,746 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:03:16,747 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:03:16,823 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:03:16,824 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:03:16,824 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:03:16,864 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,494) and length=23579 bytes!
19:03:17,025 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:03:17,082 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:03:17,083 INFO common.Log4jPrint(20) - End reset System.out!
19:03:17,104 INFO net.SocketConf(27) - Into SocketConf.load()...
19:03:17,105 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:03:17,106 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,503) and length=671 bytes!
19:03:17,109 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:03:17,110 INFO net.SocketConf(60) - Out SocketConf.load()!
19:03:17,210 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:03:17,211 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35001; class=com.sinosoft.midplat.abc.AbcYbt
19:03:17,340 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:03:17,341 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:03:17,342 INFO net.SocketListenerF5$Server(140) - 监听端口 35001
19:03:17,373 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:03:17,373 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:03:17,373 INFO net.SocketListenerF5$Server(140) - 监听端口 35017
19:03:17,443 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:03:17,444 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:03:17,444 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:03:17,665 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:03:17,665 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:03:17,665 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:03:30,851 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:03:30,863 INFO boc.BocConf(22) - Into BocConf.load()...
19:03:30,863 INFO test.BOCSocketTest(114) - 请求报文长度：4024
19:03:30,863 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
19:03:30,864 INFO test.BOCSocketTest(121) - 发送请求报文！
19:03:30,864 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,481) and length=3586 bytes!
19:03:30,865 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0020s
19:03:30,866 INFO test.BOCSocketTest(131) - 收到返回报文！
19:03:30,869 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
19:03:30,869 INFO boc.BocConf(47) - Out BocConf.load()!
19:03:30,903 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:03:31,060 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:03:33,194 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:03:33,242 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:03:33,292 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
19:03:33,342 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
19:03:33,344 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:03:33,345 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
19:03:33,368 INFO net.BocNetImpl(34) - 请求报文长度：4024
19:03:33,547 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:03:33,547 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:03:33,608 INFO common.SaveMessage(59) - 662_3_201_in.xml IO输出耗时:0.06s
19:03:33,609 INFO net.BocNetImpl(67) - 保存非标准报文完毕！662_3_201_in.xml
19:03:33,610 INFO net.BocNetImpl(70) - 交易标示201
19:03:33,610 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
19:03:33,611 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
19:03:33,628 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
19:03:33,629 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <!--中国银行保费试算请求报文-->
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20160628</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>662_3_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


19:03:33,714 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:03:33,714 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
19:03:33,715 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:06:10,338) and length=15351 bytes!
19:03:35,027 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
19:03:35,041 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:03:35,060 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:03:35,524 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>662_3_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20160628</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


19:03:35,525 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
19:03:35,525 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
19:03:35,609 INFO service.NewContInput(33) - Into NewContInput.service()...
19:03:35,609 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:03:35,692 INFO common.Log4jPrint(20) - 进程名：662
19:03:35,692 INFO common.Log4jPrint(20) - trancom:3
19:03:35,693 INFO common.Log4jPrint(20) - FuncFlag:201
19:03:35,693 INFO common.Log4jPrint(20) - mHeadEle.getChildText662_3_201_in.xml
19:03:35,737 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:03:35,737 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 662,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','662_3_201_in.xml',20161122,190335,20161122,190335 )
19:03:35,756 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:03:35,756 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=190015
19:03:35,937 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:03:35,937 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:03:35,937 INFO common.XslCache(62) - conf file modified at (2016-11-21 17:22:42,550) and length=15584 bytes!
19:03:36,043 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:03:36,043 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:03:36,044 INFO common.RuleXml(198) - Into RuleXml.load()...
19:03:36,044 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:03:36,044 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,502) and length=10207 bytes!
19:03:36,049 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:03:36,050 INFO common.RuleXml(215) - Out RuleXml.load()!
19:03:36,050 INFO common.RuleParser(49) - Into RuleParser.check()...
19:03:36,050 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:03:36,088 INFO common.Log4jPrint(20) - 对邮编进行校验
19:03:36,113 INFO common.Log4jPrint(20) - 对邮编进行校验
19:03:36,114 INFO common.Log4jPrint(20) - 返回的结果是:0
19:03:36,118 INFO common.Log4jPrint(20) - 对邮编进行校验
19:03:36,124 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg><msg>投保人18位身份证号与投保人性别不匹配</msg><msg>被保人18位身份证号与被保人性别不匹配</msg></rules>

19:03:36,128 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:75)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:03:36,228 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:03:36,228 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:03:36,229 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=662,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='662_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=190335,ModifyDate=20161122,ModifyTime=190336,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=662
19:03:36,244 INFO service.NewContInput(200) - Out NewContInput.service()!
19:03:36,244 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
19:03:36,244 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>投保日期必须为当天</Desc>
   </Head>
</TranData>


19:03:36,276 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:03:36,276 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl...
19:03:36,277 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:05:04,002) and length=1114 bytes!
19:03:36,280 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl!
19:03:36,282 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><InsuReq><!-- 中国银行保费试算响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo><ApplyNo><xsl:value-of select="Body/ContNo" /></ApplyNo><Premium><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></Premium></Main></InsuReq></xsl:template></xsl:stylesheet>

19:03:36,283 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:03:36,285 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>190336</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>投保日期必须为当天</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


19:03:36,285 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
19:03:36,285 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
19:03:36,322 INFO common.SaveMessage(59) - 2016062807222537_1001_190336.xml IO输出耗时:0.0010s
19:03:36,322 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_190336.xml
19:03:36,323 INFO net.BocNetImpl(119) - 返回报文长度：370
19:03:36,324 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
19:03:36,324 INFO test.BOCSocketTest(143) - 返回报文长度：3
19:03:36,325 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：5.463s
19:03:36,362 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:03:36,362 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=662
19:03:36,404 INFO common.Log4jPrint(20) - -------------------------
19:03:36,404 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:03:36,405 INFO common.Log4jPrint(20) - -------------------------
19:03:36,414 INFO common.Log4jPrint(20) - i=1
19:03:36,442 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:03:36,442 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:03:36,443 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=662,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='3.07',Bak4=null,Bak5=null,InNoDoc='662_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=190335,ModifyDate=20161122,ModifyTime=190336,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='662_3_201_in.xml' where LogNo=662
19:03:36,473 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
19:03:38,089 INFO midplat.Ybt4Socket(170) - 处理总耗时：4.745s
19:03:38,091 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:06:27,465 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:06:27,475 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
19:06:27,475 INFO test.BOCSocketTest(114) - 请求报文长度：4024
19:06:27,475 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
19:06:27,475 INFO test.BOCSocketTest(121) - 发送请求报文！
19:06:27,475 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:06:27,475 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
19:06:27,475 INFO net.BocNetImpl(34) - 请求报文长度：4024
19:06:27,475 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
19:06:27,485 INFO test.BOCSocketTest(131) - 收到返回报文！
19:06:27,485 INFO common.SaveMessage(59) - 668_6_201_in.xml IO输出耗时:0.0s
19:06:27,485 INFO net.BocNetImpl(67) - 保存非标准报文完毕！668_6_201_in.xml
19:06:27,495 INFO net.BocNetImpl(70) - 交易标示201
19:06:27,495 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
19:06:27,496 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
19:06:27,496 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
19:06:27,496 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <!--中国银行保费试算请求报文-->
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20160628</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>668_6_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


19:06:27,506 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>668_6_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20160628</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


19:06:27,506 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
19:06:27,506 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
19:06:27,506 INFO service.NewContInput(33) - Into NewContInput.service()...
19:06:27,506 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:06:27,506 INFO common.Log4jPrint(20) - 进程名：668
19:06:27,506 INFO common.Log4jPrint(20) - trancom:3
19:06:27,506 INFO common.Log4jPrint(20) - FuncFlag:201
19:06:27,506 INFO common.Log4jPrint(20) - mHeadEle.getChildText668_6_201_in.xml
19:06:27,536 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:06:27,536 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 668,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','668_6_201_in.xml',20161122,190627,20161122,190627 )
19:06:27,546 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:06:27,546 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=190307
19:06:27,666 INFO common.RuleParser(49) - Into RuleParser.check()...
19:06:27,666 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:06:27,666 INFO common.Log4jPrint(20) - 对邮编进行校验
19:06:27,666 INFO common.Log4jPrint(20) - 对邮编进行校验
19:06:27,666 INFO common.Log4jPrint(20) - 返回的结果是:0
19:06:27,676 INFO common.Log4jPrint(20) - 对邮编进行校验
19:06:27,676 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg><msg>投保人18位身份证号与投保人性别不匹配</msg><msg>被保人18位身份证号与被保人性别不匹配</msg></rules>

19:06:27,676 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:75)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:06:27,706 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:06:27,706 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:06:27,706 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=668,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='668_6_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=190627,ModifyDate=20161122,ModifyTime=190627,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=668
19:06:27,726 INFO service.NewContInput(200) - Out NewContInput.service()!
19:06:27,726 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
19:06:27,726 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>投保日期必须为当天</Desc>
   </Head>
</TranData>


19:06:27,726 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>190627</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>投保日期必须为当天</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


19:06:27,726 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
19:06:27,726 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
19:06:27,726 INFO common.SaveMessage(59) - 2016062807222537_1001_190627.xml IO输出耗时:0.0s
19:06:27,726 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_190627.xml
19:06:27,726 INFO net.BocNetImpl(119) - 返回报文长度：370
19:06:27,726 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
19:06:27,726 INFO test.BOCSocketTest(143) - 返回报文长度：3
19:06:27,726 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：0.251s
19:06:27,756 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:06:27,756 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=668
19:06:27,816 INFO common.Log4jPrint(20) - -------------------------
19:06:27,816 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:06:27,816 INFO common.Log4jPrint(20) - -------------------------
19:06:27,826 INFO common.Log4jPrint(20) - i=1
19:06:27,856 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
19:06:27,876 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:06:27,876 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:06:27,876 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=668,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.351',Bak4=null,Bak5=null,InNoDoc='668_6_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=190627,ModifyDate=20161122,ModifyTime=190627,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='668_6_201_in.xml' where LogNo=668
19:06:27,886 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.411s
19:06:27,886 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:11:06,607 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:11:06,618 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
19:11:06,618 INFO test.BOCSocketTest(114) - 请求报文长度：4024
19:11:06,618 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
19:11:06,618 INFO test.BOCSocketTest(121) - 发送请求报文！
19:11:06,619 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:11:06,619 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
19:11:06,619 INFO net.BocNetImpl(34) - 请求报文长度：4024
19:11:06,620 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0020s
19:11:06,621 INFO test.BOCSocketTest(131) - 收到返回报文！
19:11:06,627 INFO common.SaveMessage(59) - 674_9_201_in.xml IO输出耗时:0.0020s
19:11:06,628 INFO net.BocNetImpl(67) - 保存非标准报文完毕！674_9_201_in.xml
19:11:06,629 INFO net.BocNetImpl(70) - 交易标示201
19:11:06,629 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
19:11:06,630 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
19:11:06,631 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
19:11:06,632 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <!--中国银行保费试算请求报文-->
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20160628</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>674_9_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


19:11:06,643 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>674_9_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20160628</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


19:11:06,644 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
19:11:06,644 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
19:11:06,644 INFO service.NewContInput(33) - Into NewContInput.service()...
19:11:06,645 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:11:06,645 INFO common.Log4jPrint(20) - 进程名：674
19:11:06,645 INFO common.Log4jPrint(20) - trancom:3
19:11:06,645 INFO common.Log4jPrint(20) - FuncFlag:201
19:11:06,646 INFO common.Log4jPrint(20) - mHeadEle.getChildText674_9_201_in.xml
19:11:06,706 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:11:06,706 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 674,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','674_9_201_in.xml',20161122,191106,20161122,191106 )
19:11:06,717 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:11:06,717 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=190746
19:11:06,773 INFO common.RuleParser(49) - Into RuleParser.check()...
19:11:06,773 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:11:06,778 INFO common.Log4jPrint(20) - 对邮编进行校验
19:11:06,779 INFO common.Log4jPrint(20) - 对邮编进行校验
19:11:06,779 INFO common.Log4jPrint(20) - 返回的结果是:0
19:11:06,781 INFO common.Log4jPrint(20) - 对邮编进行校验
19:11:06,785 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg><msg>投保人18位身份证号与投保人性别不匹配</msg><msg>被保人18位身份证号与被保人性别不匹配</msg></rules>

19:11:06,786 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:75)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:11:06,838 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:11:06,838 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:11:06,838 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=674,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='674_9_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=191106,ModifyDate=20161122,ModifyTime=191106,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=674
19:11:06,854 INFO service.NewContInput(200) - Out NewContInput.service()!
19:11:06,854 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
19:11:06,854 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>投保日期必须为当天</Desc>
   </Head>
</TranData>


19:11:06,856 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>191106</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>投保日期必须为当天</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


19:11:06,857 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
19:11:06,857 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
19:11:06,858 INFO common.SaveMessage(59) - 2016062807222537_1001_191106.xml IO输出耗时:0.0010s
19:11:06,858 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_191106.xml
19:11:06,859 INFO net.BocNetImpl(119) - 返回报文长度：370
19:11:06,859 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
19:11:06,859 INFO test.BOCSocketTest(143) - 返回报文长度：3
19:11:06,859 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：0.242s
19:11:06,887 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:11:06,887 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=674
19:11:06,906 INFO common.Log4jPrint(20) - -------------------------
19:11:06,907 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:11:06,907 INFO common.Log4jPrint(20) - -------------------------
19:11:06,914 INFO common.Log4jPrint(20) - i=1
19:11:06,943 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:11:06,944 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:11:06,944 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=674,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.295',Bak4=null,Bak5=null,InNoDoc='674_9_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=191106,ModifyDate=20161122,ModifyTime=191106,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='674_9_201_in.xml' where LogNo=674
19:11:06,956 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.337s
19:11:06,956 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:11:06,993 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
19:13:00,293 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:13:00,304 INFO test.BOCSocketTest(114) - 请求报文长度：3993
19:13:00,303 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
19:13:00,304 INFO test.BOCSocketTest(121) - 发送请求报文！
19:13:00,304 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
19:13:00,305 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:13:00,305 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
19:13:00,306 INFO net.BocNetImpl(34) - 请求报文长度：3993
19:13:00,306 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0020s
19:13:00,307 INFO test.BOCSocketTest(131) - 收到返回报文！
19:13:00,315 INFO common.SaveMessage(59) - 680_12_201_in.xml IO输出耗时:0.0030s
19:13:00,315 INFO net.BocNetImpl(67) - 保存非标准报文完毕！680_12_201_in.xml
19:13:00,316 INFO net.BocNetImpl(70) - 交易标示201
19:13:00,316 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
19:13:00,317 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
19:13:00,318 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
19:13:00,319 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20160628</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>680_12_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


19:13:00,330 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>680_12_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20160628</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


19:13:00,331 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
19:13:00,331 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
19:13:00,331 INFO service.NewContInput(33) - Into NewContInput.service()...
19:13:00,331 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:13:00,331 INFO common.Log4jPrint(20) - 进程名：680
19:13:00,332 INFO common.Log4jPrint(20) - trancom:3
19:13:00,332 INFO common.Log4jPrint(20) - FuncFlag:201
19:13:00,332 INFO common.Log4jPrint(20) - mHeadEle.getChildText680_12_201_in.xml
19:13:00,361 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:13:00,362 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 680,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','680_12_201_in.xml',20161122,191300,20161122,191300 )
19:13:00,372 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:13:00,373 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=190940
19:13:00,450 INFO common.RuleParser(49) - Into RuleParser.check()...
19:13:00,451 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:13:00,460 INFO common.Log4jPrint(20) - 对邮编进行校验
19:13:00,460 INFO common.Log4jPrint(20) - 对邮编进行校验
19:13:00,460 INFO common.Log4jPrint(20) - 返回的结果是:0
19:13:00,460 INFO common.Log4jPrint(20) - 对邮编进行校验
19:13:00,470 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg><msg>投保人18位身份证号与投保人性别不匹配</msg><msg>被保人18位身份证号与被保人性别不匹配</msg></rules>

19:13:00,470 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:75)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:13:00,512 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:13:00,514 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:13:00,515 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=680,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='680_12_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=191300,ModifyDate=20161122,ModifyTime=191300,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=680
19:13:00,535 INFO service.NewContInput(200) - Out NewContInput.service()!
19:13:00,535 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
19:13:00,535 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>投保日期必须为当天</Desc>
   </Head>
</TranData>


19:13:00,539 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>191300</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>投保日期必须为当天</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


19:13:00,539 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
19:13:00,539 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
19:13:00,541 INFO common.SaveMessage(59) - 2016062807222537_1001_191300.xml IO输出耗时:0.0010s
19:13:00,541 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_191300.xml
19:13:00,541 INFO net.BocNetImpl(119) - 返回报文长度：370
19:13:00,541 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
19:13:00,541 INFO test.BOCSocketTest(143) - 返回报文长度：3
19:13:00,541 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：0.238s
19:13:00,573 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:13:00,573 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=680
19:13:00,593 INFO common.Log4jPrint(20) - -------------------------
19:13:00,603 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:13:00,603 INFO common.Log4jPrint(20) - -------------------------
19:13:00,628 INFO common.Log4jPrint(20) - i=1
19:13:00,658 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:13:00,658 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:13:00,658 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=680,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.323',Bak4=null,Bak5=null,InNoDoc='680_12_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=191300,ModifyDate=20161122,ModifyTime=191300,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='680_12_201_in.xml' where LogNo=680
19:13:00,668 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.363s
19:13:00,668 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:13:00,678 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
19:14:48,168 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:14:48,178 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
19:14:48,178 INFO test.BOCSocketTest(114) - 请求报文长度：3684
19:14:48,179 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
19:14:48,179 INFO test.BOCSocketTest(121) - 发送请求报文！
19:14:48,179 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:14:48,180 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
19:14:48,180 INFO net.BocNetImpl(34) - 请求报文长度：3684
19:14:48,181 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0020s
19:14:48,182 INFO test.BOCSocketTest(131) - 收到返回报文！
19:14:48,187 INFO common.SaveMessage(59) - 686_15_201_in.xml IO输出耗时:0.0020s
19:14:48,187 INFO net.BocNetImpl(67) - 保存非标准报文完毕！686_15_201_in.xml
19:14:48,188 INFO net.BocNetImpl(70) - 交易标示201
19:14:48,188 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
19:14:48,189 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
19:14:48,190 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
19:14:48,191 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20160628</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>686_15_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


19:14:48,201 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>686_15_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20160628</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


19:14:48,201 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
19:14:48,201 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
19:14:48,201 INFO service.NewContInput(33) - Into NewContInput.service()...
19:14:48,202 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:14:48,202 INFO common.Log4jPrint(20) - 进程名：686
19:14:48,202 INFO common.Log4jPrint(20) - trancom:3
19:14:48,202 INFO common.Log4jPrint(20) - FuncFlag:201
19:14:48,203 INFO common.Log4jPrint(20) - mHeadEle.getChildText686_15_201_in.xml
19:14:48,269 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:14:48,270 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 686,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','686_15_201_in.xml',20161122,191448,20161122,191448 )
19:14:48,291 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:14:48,293 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=191128
19:14:48,352 INFO common.RuleParser(49) - Into RuleParser.check()...
19:14:48,352 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:14:48,357 INFO common.Log4jPrint(20) - 对邮编进行校验
19:14:48,358 INFO common.Log4jPrint(20) - 对邮编进行校验
19:14:48,358 INFO common.Log4jPrint(20) - 返回的结果是:0
19:14:48,360 INFO common.Log4jPrint(20) - 对邮编进行校验
19:14:48,364 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg><msg>投保人18位身份证号与投保人性别不匹配</msg><msg>被保人18位身份证号与被保人性别不匹配</msg></rules>

19:14:48,364 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:75)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:14:48,401 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:14:48,401 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:14:48,402 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=686,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='686_15_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=191448,ModifyDate=20161122,ModifyTime=191448,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=686
19:14:48,452 INFO service.NewContInput(200) - Out NewContInput.service()!
19:14:48,452 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
19:14:48,453 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>投保日期必须为当天</Desc>
   </Head>
</TranData>


19:14:48,457 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>191448</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>投保日期必须为当天</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


19:14:48,458 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
19:14:48,458 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
19:14:48,461 INFO common.SaveMessage(59) - 2016062807222537_1001_191448.xml IO输出耗时:0.0020s
19:14:48,461 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_191448.xml
19:14:48,461 INFO net.BocNetImpl(119) - 返回报文长度：370
19:14:48,462 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
19:14:48,462 INFO test.BOCSocketTest(143) - 返回报文长度：3
19:14:48,463 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：0.285s
19:14:48,504 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:14:48,504 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=686
19:14:48,537 INFO common.Log4jPrint(20) - -------------------------
19:14:48,537 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:14:48,538 INFO common.Log4jPrint(20) - -------------------------
19:14:48,558 INFO common.Log4jPrint(20) - i=1
19:14:48,594 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
19:14:48,602 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:14:48,602 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:14:48,602 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=686,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.379',Bak4=null,Bak5=null,InNoDoc='686_15_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=191448,ModifyDate=20161122,ModifyTime=191448,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='686_15_201_in.xml' where LogNo=686
19:14:48,642 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.463s
19:14:48,642 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:26:43,060 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@6c1989b5
19:26:43,060 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:26:43,070 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:26:43,070 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:26:43,070 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:26:43,070 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:26:43,070 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:26:43,081 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,494) and length=23579 bytes!
19:26:43,144 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:26:43,144 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:26:43,144 INFO common.Log4jPrint(20) - End reset System.out!
19:26:43,154 INFO net.SocketConf(27) - Into SocketConf.load()...
19:26:43,154 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:26:43,154 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,503) and length=671 bytes!
19:26:43,154 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:26:43,154 INFO net.SocketConf(60) - Out SocketConf.load()!
19:26:43,174 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:26:43,174 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35001; class=com.sinosoft.midplat.abc.AbcYbt
19:26:43,184 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:26:43,184 INFO net.SocketListenerF5$Server(140) - 监听端口 35001
19:26:43,184 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:26:43,194 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:26:43,194 INFO net.SocketListenerF5$Server(140) - 监听端口 35017
19:26:43,194 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:26:43,194 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:26:43,194 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:26:43,194 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:26:43,204 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:26:43,204 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:26:43,204 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:26:49,339 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:26:49,359 INFO boc.BocConf(22) - Into BocConf.load()...
19:26:49,359 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
19:26:49,359 INFO test.BOCSocketTest(114) - 请求报文长度：3684
19:26:49,359 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,481) and length=3586 bytes!
19:26:49,359 INFO test.BOCSocketTest(121) - 发送请求报文！
19:26:49,359 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
19:26:49,359 INFO test.BOCSocketTest(131) - 收到返回报文！
19:26:49,359 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
19:26:49,359 INFO boc.BocConf(47) - Out BocConf.load()!
19:26:49,380 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:26:49,381 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:26:49,901 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:26:49,951 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:26:50,011 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
19:26:50,024 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
19:26:50,025 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:26:50,026 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
19:26:50,030 INFO net.BocNetImpl(34) - 请求报文长度：3684
19:26:50,163 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:26:50,163 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:26:50,173 INFO common.SaveMessage(59) - 692_3_201_in.xml IO输出耗时:0.01s
19:26:50,173 INFO net.BocNetImpl(67) - 保存非标准报文完毕！692_3_201_in.xml
19:26:50,173 INFO net.BocNetImpl(70) - 交易标示201
19:26:50,173 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
19:26:50,173 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
19:26:50,173 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
19:26:50,173 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20161122</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>692_3_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


19:26:50,183 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:26:50,183 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
19:26:50,183 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:06:10,338) and length=15351 bytes!
19:26:50,463 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
19:26:50,473 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:26:50,484 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:26:50,624 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>692_3_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20161122</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


19:26:50,624 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
19:26:50,624 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
19:26:50,624 INFO service.NewContInput(33) - Into NewContInput.service()...
19:26:50,624 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:26:50,634 INFO common.Log4jPrint(20) - 进程名：692
19:26:50,634 INFO common.Log4jPrint(20) - trancom:3
19:26:50,634 INFO common.Log4jPrint(20) - FuncFlag:201
19:26:50,634 INFO common.Log4jPrint(20) - mHeadEle.getChildText692_3_201_in.xml
19:26:50,684 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:26:50,684 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 692,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','692_3_201_in.xml',20161122,192650,20161122,192650 )
19:26:50,704 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:26:50,704 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=192330
19:26:50,774 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:26:50,774 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:26:50,774 INFO common.XslCache(62) - conf file modified at (2016-11-21 17:22:42,550) and length=15584 bytes!
19:26:50,814 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:26:50,814 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:26:50,814 INFO common.RuleXml(198) - Into RuleXml.load()...
19:26:50,814 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:26:50,814 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,502) and length=10207 bytes!
19:26:50,814 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:26:50,814 INFO common.RuleXml(215) - Out RuleXml.load()!
19:26:50,814 INFO common.RuleParser(49) - Into RuleParser.check()...
19:26:50,814 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:26:50,824 INFO common.Log4jPrint(20) - 对邮编进行校验
19:26:50,824 INFO common.Log4jPrint(20) - 对邮编进行校验
19:26:50,824 INFO common.Log4jPrint(20) - 返回的结果是:0
19:26:50,824 INFO common.Log4jPrint(20) - 对邮编进行校验
19:26:50,834 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>被保人18位身份证号与被保人性别不匹配</msg></rules>

19:26:50,834 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 被保人18位身份证号与被保人性别不匹配
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:75)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:26:50,884 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:26:50,884 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:26:50,884 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=692,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='被保人18位身份证号与被保人性别不匹配',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='692_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=192650,ModifyDate=20161122,ModifyTime=192650,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=692
19:26:50,894 INFO service.NewContInput(200) - Out NewContInput.service()!
19:26:50,894 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
19:26:50,894 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>被保人18位身份证号与被保人性别不匹配</Desc>
   </Head>
</TranData>


19:26:50,894 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:26:50,894 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl...
19:26:50,894 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:05:04,002) and length=1114 bytes!
19:26:50,904 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl!
19:26:50,904 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><InsuReq><!-- 中国银行保费试算响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo><ApplyNo><xsl:value-of select="Body/ContNo" /></ApplyNo><Premium><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></Premium></Main></InsuReq></xsl:template></xsl:stylesheet>

19:26:50,904 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:26:50,914 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>192650</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>被保人18位身份证号与被保人性别不匹配</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


19:26:50,914 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
19:26:50,914 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
19:26:50,914 INFO common.SaveMessage(59) - 2016062807222537_1001_192650.xml IO输出耗时:0.0s
19:26:50,914 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_192650.xml
19:26:50,914 INFO net.BocNetImpl(119) - 返回报文长度：388
19:26:50,914 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
19:26:50,914 INFO test.BOCSocketTest(143) - 返回报文长度：3
19:26:50,914 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：1.555s
19:26:50,935 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:26:50,935 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=692
19:26:50,955 INFO common.Log4jPrint(20) - -------------------------
19:26:50,955 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:26:50,955 INFO common.Log4jPrint(20) - -------------------------
19:26:50,965 INFO common.Log4jPrint(20) - i=1
19:26:50,995 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:26:50,995 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:26:50,995 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=692,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='被保人18位身份证号与被保人性别不匹配',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.94',Bak4=null,Bak5=null,InNoDoc='692_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=192650,ModifyDate=20161122,ModifyTime=192650,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='692_3_201_in.xml' where LogNo=692
19:26:51,015 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.99s
19:26:51,015 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:26:51,039 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
19:28:57,354 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@8c3c315
19:28:57,364 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:28:57,364 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:28:57,364 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:28:57,364 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:28:57,364 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:28:57,402 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:28:57,404 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,494) and length=23579 bytes!
19:28:57,464 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:28:57,464 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:28:57,464 INFO common.Log4jPrint(20) - End reset System.out!
19:28:57,474 INFO net.SocketConf(27) - Into SocketConf.load()...
19:28:57,474 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:28:57,474 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,503) and length=671 bytes!
19:28:57,474 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:28:57,474 INFO net.SocketConf(60) - Out SocketConf.load()!
19:28:57,484 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:28:57,484 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35001; class=com.sinosoft.midplat.abc.AbcYbt
19:28:57,494 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:28:57,494 INFO net.SocketListenerF5$Server(140) - 监听端口 35001
19:28:57,494 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:28:57,504 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:28:57,504 INFO net.SocketListenerF5$Server(140) - 监听端口 35017
19:28:57,504 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:28:57,504 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:28:57,504 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:28:57,504 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:28:57,514 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:28:57,514 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:28:57,514 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:29:00,591 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:29:00,601 INFO boc.BocConf(22) - Into BocConf.load()...
19:29:00,601 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
19:29:00,601 INFO test.BOCSocketTest(114) - 请求报文长度：3684
19:29:00,601 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,481) and length=3586 bytes!
19:29:00,601 INFO test.BOCSocketTest(121) - 发送请求报文！
19:29:00,601 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
19:29:00,601 INFO test.BOCSocketTest(131) - 收到返回报文！
19:29:00,601 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
19:29:00,611 INFO boc.BocConf(47) - Out BocConf.load()!
19:29:00,622 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:29:00,622 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:29:01,077 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:29:01,120 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:29:01,170 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
19:29:01,180 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
19:29:01,190 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:29:01,190 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
19:29:01,200 INFO net.BocNetImpl(34) - 请求报文长度：3684
19:29:01,320 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:29:01,320 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:29:01,330 INFO common.SaveMessage(59) - 698_3_201_in.xml IO输出耗时:0.01s
19:29:01,330 INFO net.BocNetImpl(67) - 保存非标准报文完毕！698_3_201_in.xml
19:29:01,330 INFO net.BocNetImpl(70) - 交易标示201
19:29:01,330 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
19:29:01,330 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
19:29:01,330 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
19:29:01,340 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20161122</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>698_3_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


19:29:01,340 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:29:01,340 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
19:29:01,340 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:06:10,338) and length=15351 bytes!
19:29:01,600 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
19:29:01,610 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:29:01,620 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:29:01,741 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>698_3_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20161122</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080021</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


19:29:01,741 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
19:29:01,741 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
19:29:01,751 INFO service.NewContInput(33) - Into NewContInput.service()...
19:29:01,751 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:29:01,761 INFO common.Log4jPrint(20) - 进程名：698
19:29:01,761 INFO common.Log4jPrint(20) - trancom:3
19:29:01,761 INFO common.Log4jPrint(20) - FuncFlag:201
19:29:01,761 INFO common.Log4jPrint(20) - mHeadEle.getChildText698_3_201_in.xml
19:29:01,781 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:29:01,791 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 698,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','698_3_201_in.xml',20161122,192901,20161122,192901 )
19:29:01,801 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:29:01,811 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=192541
19:29:01,891 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:29:01,891 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:29:01,891 INFO common.XslCache(62) - conf file modified at (2016-11-21 17:22:42,550) and length=15584 bytes!
19:29:01,931 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:29:01,931 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:29:01,931 INFO common.RuleXml(198) - Into RuleXml.load()...
19:29:01,931 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:29:01,931 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,502) and length=10207 bytes!
19:29:01,941 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:29:01,941 INFO common.RuleXml(215) - Out RuleXml.load()!
19:29:01,941 INFO common.RuleParser(49) - Into RuleParser.check()...
19:29:01,941 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:29:01,941 INFO common.Log4jPrint(20) - 对邮编进行校验
19:29:01,941 INFO common.Log4jPrint(20) - 对邮编进行校验
19:29:01,941 INFO common.Log4jPrint(20) - 返回的结果是:0
19:29:01,951 INFO common.Log4jPrint(20) - 对邮编进行校验
19:29:01,951 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保人18位身份证号与投保人性别不匹配</msg></rules>

19:29:01,951 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保人18位身份证号与投保人性别不匹配
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:75)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:29:02,001 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:29:02,001 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:29:02,001 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=698,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人18位身份证号与投保人性别不匹配',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='698_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=192901,ModifyDate=20161122,ModifyTime=192901,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=698
19:29:02,021 INFO service.NewContInput(200) - Out NewContInput.service()!
19:29:02,021 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
19:29:02,021 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>投保人18位身份证号与投保人性别不匹配</Desc>
   </Head>
</TranData>


19:29:02,032 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:29:02,033 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl...
19:29:02,034 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:05:04,002) and length=1114 bytes!
19:29:02,038 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl!
19:29:02,041 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><InsuReq><!-- 中国银行保费试算响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo><ApplyNo><xsl:value-of select="Body/ContNo" /></ApplyNo><Premium><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></Premium></Main></InsuReq></xsl:template></xsl:stylesheet>

19:29:02,041 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:29:02,044 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>192902</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>投保人18位身份证号与投保人性别不匹配</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


19:29:02,044 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
19:29:02,044 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
19:29:02,044 INFO common.SaveMessage(59) - 2016062807222537_1001_192902.xml IO输出耗时:0.0s
19:29:02,044 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_192902.xml
19:29:02,044 INFO net.BocNetImpl(119) - 返回报文长度：388
19:29:02,054 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
19:29:02,054 INFO test.BOCSocketTest(143) - 返回报文长度：3
19:29:02,054 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：1.453s
19:29:02,118 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:29:02,118 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=698
19:29:02,148 INFO common.Log4jPrint(20) - -------------------------
19:29:02,148 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:29:02,148 INFO common.Log4jPrint(20) - -------------------------
19:29:02,158 INFO common.Log4jPrint(20) - i=1
19:29:02,178 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
19:29:02,188 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:29:02,188 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:29:02,188 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=698,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人18位身份证号与投保人性别不匹配',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.968',Bak4=null,Bak5=null,InNoDoc='698_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=192901,ModifyDate=20161122,ModifyTime=192901,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='698_3_201_in.xml' where LogNo=698
19:29:02,208 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.008s
19:29:02,208 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:30:16,807 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@6c1989b5
19:30:16,815 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:30:16,819 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:30:16,819 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:30:16,821 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:30:16,822 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:30:16,822 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:30:16,825 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,494) and length=23579 bytes!
19:30:16,891 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:30:16,902 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:30:16,902 INFO common.Log4jPrint(20) - End reset System.out!
19:30:16,902 INFO net.SocketConf(27) - Into SocketConf.load()...
19:30:16,902 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:30:16,902 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,503) and length=671 bytes!
19:30:16,912 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:30:16,913 INFO net.SocketConf(60) - Out SocketConf.load()!
19:30:16,929 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:30:16,929 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35001; class=com.sinosoft.midplat.abc.AbcYbt
19:30:16,937 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:30:16,937 INFO net.SocketListenerF5$Server(140) - 监听端口 35001
19:30:16,938 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:30:16,942 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:30:16,942 INFO net.SocketListenerF5$Server(140) - 监听端口 35017
19:30:16,942 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:30:16,946 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:30:16,946 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:30:16,946 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:30:16,946 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:30:16,946 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:30:16,946 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:30:21,707 INFO test.BocTest(77) - 贵州银行请求报文：<?xml version="1.0"?>
<InsuReq>
   <!--中国银行保费试算请求报文-->
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20160628</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
</InsuReq>


19:30:21,707 INFO test.BocTest(78) - 请求报文长度为：4024个字节
19:30:21,707 INFO test.BocTest(88) - 消息头长度为:8
19:30:25,953 INFO test.BocTest(106) - ---------------------------------------------------
19:30:25,954 INFO test.BocTest(107) - 报文字节 长度为:00000376
19:30:25,958 INFO test.BocTest(109) - 交易结束，共耗费：4.249秒,4249毫秒
19:30:25,992 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: Content is not allowed in prolog.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at com.sinosoft.midplat.boc.test.BocTest.main(BocTest.java:110)
Caused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at com.sinosoft.midplat.boc.test.BocTest.main(BocTest.java:110)
19:30:40,683 INFO test.BocTest(77) - 贵州银行请求报文：<?xml version="1.0"?>
<InsuReq>
   <!--中国银行保费试算请求报文-->
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20160628</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080021</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
</InsuReq>


19:30:40,683 INFO test.BocTest(78) - 请求报文长度为：4024个字节
19:30:40,683 INFO test.BocTest(88) - 消息头长度为:8
19:30:46,506 INFO test.BocTest(106) - ---------------------------------------------------
19:30:46,516 INFO test.BocTest(107) - 报文字节 长度为:00000376
19:30:46,516 INFO test.BocTest(109) - 交易结束，共耗费：5.833秒,5833毫秒
19:30:46,553 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: Content is not allowed in prolog.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at com.sinosoft.midplat.boc.test.BocTest.main(BocTest.java:110)
Caused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at com.sinosoft.midplat.boc.test.BocTest.main(BocTest.java:110)
19:31:11,227 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:31:11,237 INFO boc.BocConf(22) - Into BocConf.load()...
19:31:11,237 INFO test.BOCSocketTest(114) - 请求报文长度：3684
19:31:11,237 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
19:31:11,247 INFO test.BOCSocketTest(121) - 发送请求报文！
19:31:11,247 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,481) and length=3586 bytes!
19:31:11,247 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.01s
19:31:11,247 INFO test.BOCSocketTest(131) - 收到返回报文！
19:31:11,247 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
19:31:11,247 INFO boc.BocConf(47) - Out BocConf.load()!
19:31:11,257 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:31:11,268 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:31:11,758 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:31:11,808 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:31:11,878 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
19:31:11,898 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
19:31:11,898 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:31:11,898 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
19:31:11,908 INFO net.BocNetImpl(34) - 请求报文长度：3684
19:31:12,028 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:31:12,028 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:31:12,039 INFO common.SaveMessage(59) - 704_3_201_in.xml IO输出耗时:0.011s
19:31:12,039 INFO net.BocNetImpl(67) - 保存非标准报文完毕！704_3_201_in.xml
19:31:12,040 INFO net.BocNetImpl(70) - 交易标示201
19:31:12,040 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
19:31:12,041 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
19:31:12,046 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
19:31:12,047 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20161122</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>704_3_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


19:31:12,051 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:31:12,051 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
19:31:12,052 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:06:10,338) and length=15351 bytes!
19:31:12,352 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
19:31:12,365 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:31:12,365 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:31:12,515 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>704_3_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20161122</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


19:31:12,515 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
19:31:12,515 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
19:31:12,515 INFO service.NewContInput(33) - Into NewContInput.service()...
19:31:12,515 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:31:12,525 INFO common.Log4jPrint(20) - 进程名：704
19:31:12,525 INFO common.Log4jPrint(20) - trancom:3
19:31:12,525 INFO common.Log4jPrint(20) - FuncFlag:201
19:31:12,525 INFO common.Log4jPrint(20) - mHeadEle.getChildText704_3_201_in.xml
19:31:12,565 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:31:12,565 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 704,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','704_3_201_in.xml',20161122,193112,20161122,193112 )
19:31:12,575 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:31:12,575 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=192752
19:31:12,625 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:31:12,635 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:31:12,635 INFO common.XslCache(62) - conf file modified at (2016-11-21 17:22:42,550) and length=15584 bytes!
19:31:12,655 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:31:12,655 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:31:12,655 INFO common.RuleXml(198) - Into RuleXml.load()...
19:31:12,655 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:31:12,655 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,502) and length=10207 bytes!
19:31:12,665 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:31:12,665 INFO common.RuleXml(215) - Out RuleXml.load()!
19:31:12,665 INFO common.RuleParser(49) - Into RuleParser.check()...
19:31:12,665 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:31:12,685 INFO common.Log4jPrint(20) - 对邮编进行校验
19:31:12,685 INFO common.Log4jPrint(20) - 对邮编进行校验
19:31:12,685 INFO common.Log4jPrint(20) - 返回的结果是:0
19:31:12,685 INFO common.Log4jPrint(20) - 对邮编进行校验
19:31:12,695 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

19:31:12,695 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
19:31:12,695 INFO common.RuleParser(62) - Out RuleParser.check()!
19:31:12,705 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
19:31:12,705 INFO common.SaveMessage(59) - 704_6_0_inSvc.xml IO输出耗时:0.0s
19:31:12,705 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！704_6_0_inSvc.xml
19:31:12,705 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:31:12,705 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:31:13,606 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
19:31:14,295 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
19:31:14,315 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
19:31:14,315 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
19:31:14,315 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
19:31:14,315 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
19:31:14,315 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
19:31:14,315 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:31:14,355 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
19:31:14,355 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYwNjI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTIzMTM1PC9UcmFuVGltZT48Tm9kZU5vPjAyMTE2PC9Ob2RlTm8+PEJhbmtDb2RlPkJPQzwvQmFua0NvZGU+PFRlbGxlck5vPjIxOTUxNzI8L1RlbGxlck5vPjxUcmFuTm8+MjAxNjA2MjgwNzIyMjUzNzwvVHJhbk5vPjxab25lTm8+MDAxMDwvWm9uZU5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjM8L1RyYW5Db20+PEZ1bmNGbGFnPjIwMTwvRnVuY0ZsYWc+PEFnZW50Q29tIC8+PEFnZW50Q29kZSAvPjxJbk5vRG9jPjcwNF8zXzIwMV9pbi54bWw8L0luTm9Eb2M+PFNlcnZpY2VJZD4wPC9TZXJ2aWNlSWQ+PC9IZWFkPjxCb2R5PjxTYWxlQ2hhbm5lbD4wPC9TYWxlQ2hhbm5lbD48UHJvcG9zYWxQcnRObz4xMDAwMzAwMDAxODQyMDY8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjExMjI8L1BvbEFwcGx5RGF0ZT48QWNjTm8+MzE4MTY0MTAyMzM3PC9BY2NObz48QWNjTmFtZT66+r3cPC9BY2NOYW1lPjxHZXRQb2xNb2RlPjE8L0dldFBvbE1vZGU+PEhlYWx0aE5vdGljZT5OPC9IZWFsdGhOb3RpY2U+PFNhbGVOYW1lPtXF0608L1NhbGVOYW1lPjxTYWxlU3RhZmY+NDI5OTAyOTwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vIC8+PEx2MUJyTm8gLz48QXBwbnQ+PE5hbWU+uvq93DwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk1ODAyMDg8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjExMDEwNzE5NTgwMjA4MDAzMTwvSURObz48SWRFeHBEYXRlPjIxMDAxMjMxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5IC8+PEFkZHJlc3NDb250ZW50PrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObyAvPjxNb2JpbGVJdGxEc3RjTm8gLz48TmF0aW9uYWxpdHlDb2RlIC8+PEFkZHJlc3M+sbG+qcrQyq++sMm9x/jR7tevwrc4usXUujG2sDItNDAxusU8L0FkZHJlc3M+PFppcENvZGU+MTAwMDQzPC9aaXBDb2RlPjxQaG9uZT42ODUyODYzMTwvUGhvbmU+PE1vYmlsZT4xODYwMDI4MzE4MDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+NDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxEZW5UeXBlPjA8L0RlblR5cGU+PC9BcHBudD48SW5zdXJlZD48TmFtZT66+r3cPC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTU4MDIwODwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MTEwMTA3MTk1ODAyMDgwMD"
19:31:14,355 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:31:14,355 DEBUG httpclient.Wire(70) - >> "4f5[\r][\n]"
19:31:14,355 DEBUG httpclient.Wire(84) - >> "MxPC9JRE5vPjxJZEV4cERhdGU+MjEwMDEyMzE8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHkgLz48QWRkcmVzc0NvbnRlbnQ+sbG+qcrQyq++sMm9x/jR7tevwrc4usXUujG2sDItNDAxusU8L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vIC8+PE1vYmlsZUl0bERzdGNObyAvPjxOYXRpb25hbGl0eUNvZGU+MDE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzPrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA0MzwvWmlwQ29kZT48UGhvbmU+Njg1Mjg2MzE8L1Bob25lPjxNb2JpbGU+MTg2MDAyODMxODA8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxSY2duWXJJbmNtQW0gLz48Q292U3VtQW10IC8+PFJpc2tBc3Nlc3NtZW50UmVzdWx0IC8+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZSAvPjxQcmVtaXVtQnVkZ2V0IC8+PC9JbnN1cmVkPjxSaXNrPjxSaXNrQ29kZT42MDEwPC9SaXNrQ29kZT48TWFpblJpc2tDb2RlPjYwMTA8L01haW5SaXNrQ29kZT48Umlza05hbWUgLz48QWdJbnNQa2dJRCAvPjxBbW50PjA8L0FtbnQ+PFByZW0+MzAwMDAwMDA8L1ByZW0+PE11bHQ+MDwvTXVsdD48UGF5TW9kZT5CPC9QYXlNb2RlPjxQYXlJbnR2PjA8L1BheUludHY+PFBheUVuZFllYXI+MDwvUGF5RW5kWWVhcj48UGF5RW5kWWVhckZsYWc+QTwvUGF5RW5kWWVhckZsYWc+PEdldEludHYgLz48R2V0WWVhckZsYWcgLz48Qm9udXNHZXRNb2RlIC8+PFN1YkZsYWcgLz48R2V0WWVhciAvPjxJbnN1WWVhckZsYWc+WTwvSW5zdVllYXJGbGFnPjxJbnN1WWVhcj41PC9JbnN1WWVhcj48R2V0QmFua0NvZGUgLz48R2V0QmFua0FjY05vIC8+PEdldEFjY05hbWUgLz48QXV0b1BheUZsYWcgLz48L1Jpc2s+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
19:31:14,355 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:31:14,365 DEBUG httpclient.Wire(84) - >> "0"
19:31:14,365 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:31:14,365 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:31:15,890 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:31:15,890 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:31:15,900 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
19:31:15,900 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
19:31:15,900 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
19:31:15,900 DEBUG httpclient.Wire(70) - << "Date: Tue, 22 Nov 2016 11:31:30 GMT[\r][\n]"
19:31:15,900 DEBUG httpclient.Wire(70) - << "[\r][\n]"
19:31:15,961 DEBUG httpclient.Wire(84) - << "1"
19:31:15,961 DEBUG httpclient.Wire(84) - << "d"
19:31:15,961 DEBUG httpclient.Wire(84) - << "b"
19:31:15,961 DEBUG httpclient.Wire(84) - << "[\r]"
19:31:15,961 DEBUG httpclient.Wire(70) - << "[\n]"
19:31:15,961 DEBUG httpclient.Wire(84) - << "<?xm"
19:31:15,971 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
19:31:15,971 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+QWdlbnRDb23U2rG+z7XNs9bQsru05tTaPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
19:31:15,991 INFO net.CallWebsvcAtomSvc(109) - 投保单号100030000184206录单核保(service)耗时：3.286s
19:31:15,991 INFO common.SaveMessage(59) - 704_9_0_outSvc.xml IO输出耗时:0.0s
19:31:16,001 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！704_9_0_outSvc.xml
19:31:16,001 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
19:31:16,001 INFO common.Log4jPrint(20) - -----------------------------------------------
19:31:16,001 INFO service.NewContInput(105) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
19:31:16,001 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: AgentCom在本系统中不存在
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:112)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:31:16,035 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:31:16,035 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:31:16,035 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=704,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=3,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='704_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=193112,ModifyDate=20161122,ModifyTime=193116,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=704
19:31:16,065 INFO service.NewContInput(200) - Out NewContInput.service()!
19:31:16,065 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
19:31:16,065 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>AgentCom在本系统中不存在</Desc>
   </Head>
</TranData>


19:31:16,065 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:31:16,065 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl...
19:31:16,065 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:05:04,002) and length=1114 bytes!
19:31:16,065 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl!
19:31:16,065 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><InsuReq><!-- 中国银行保费试算响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo><ApplyNo><xsl:value-of select="Body/ContNo" /></ApplyNo><Premium><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></Premium></Main></InsuReq></xsl:template></xsl:stylesheet>

19:31:16,065 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:31:16,075 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>193116</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>AgentCom在本系统中不存在</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


19:31:16,075 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
19:31:16,075 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
19:31:16,075 INFO common.SaveMessage(59) - 2016062807222537_1001_193116.xml IO输出耗时:0.0s
19:31:16,075 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_193116.xml
19:31:16,075 INFO net.BocNetImpl(119) - 返回报文长度：376
19:31:16,075 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
19:31:16,075 INFO test.BOCSocketTest(143) - 返回报文长度：3
19:31:16,075 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：4.838s
19:31:16,163 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:31:16,163 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=704
19:31:16,193 INFO common.Log4jPrint(20) - -------------------------
19:31:16,193 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:31:16,193 INFO common.Log4jPrint(20) - -------------------------
19:31:16,203 INFO common.Log4jPrint(20) - i=1
19:31:16,203 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
19:31:16,246 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:31:16,246 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:31:16,246 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=704,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=3,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='4.305',Bak4=null,Bak5=null,InNoDoc='704_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=193112,ModifyDate=20161122,ModifyTime=193116,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='704_3_201_in.xml' where LogNo=704
19:31:16,276 INFO midplat.Ybt4Socket(170) - 处理总耗时：4.378s
19:31:16,276 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:34:16,925 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:34:16,925 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
19:34:16,925 INFO common.XslCache(62) - conf file modified at (2016-11-22 19:34:16,855) and length=15398 bytes!
19:34:16,986 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
19:34:17,006 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><!--  <AgentCom /> --><AgentCom>1104000004</AgentCom><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:34:17,006 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:34:32,333 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@76933bcb
19:34:32,343 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:34:32,353 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:34:32,353 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:34:32,353 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:34:32,353 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:34:32,353 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:34:32,353 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,494) and length=23579 bytes!
19:34:32,424 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:34:32,434 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:34:32,434 INFO common.Log4jPrint(20) - End reset System.out!
19:34:32,434 INFO net.SocketConf(27) - Into SocketConf.load()...
19:34:32,434 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:34:32,434 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,503) and length=671 bytes!
19:34:32,434 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:34:32,434 INFO net.SocketConf(60) - Out SocketConf.load()!
19:34:32,454 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:34:32,454 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35001; class=com.sinosoft.midplat.abc.AbcYbt
19:34:32,464 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:34:32,464 INFO net.SocketListenerF5$Server(140) - 监听端口 35001
19:34:32,464 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:34:32,464 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:34:32,464 INFO net.SocketListenerF5$Server(140) - 监听端口 35017
19:34:32,464 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:34:32,474 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:34:32,474 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:34:32,474 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:34:32,474 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:34:32,474 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:34:32,474 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:34:37,288 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:34:37,298 INFO boc.BocConf(22) - Into BocConf.load()...
19:34:37,298 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
19:34:37,298 INFO test.BOCSocketTest(114) - 请求报文长度：3684
19:34:37,298 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,481) and length=3586 bytes!
19:34:37,298 INFO test.BOCSocketTest(121) - 发送请求报文！
19:34:37,298 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
19:34:37,298 INFO test.BOCSocketTest(131) - 收到返回报文！
19:34:37,298 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
19:34:37,298 INFO boc.BocConf(47) - Out BocConf.load()!
19:34:37,308 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:34:37,319 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:34:37,839 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:34:37,909 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:34:37,959 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
19:34:37,969 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
19:34:37,969 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:34:37,969 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
19:34:37,979 INFO net.BocNetImpl(34) - 请求报文长度：3684
19:34:38,105 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:34:38,105 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:34:38,115 INFO common.SaveMessage(59) - 710_3_201_in.xml IO输出耗时:0.01s
19:34:38,115 INFO net.BocNetImpl(67) - 保存非标准报文完毕！710_3_201_in.xml
19:34:38,115 INFO net.BocNetImpl(70) - 交易标示201
19:34:38,115 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
19:34:38,115 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
19:34:38,125 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
19:34:38,125 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20161122</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>710_3_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


19:34:38,125 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:34:38,125 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
19:34:38,125 INFO common.XslCache(62) - conf file modified at (2016-11-22 19:34:16,855) and length=15398 bytes!
19:34:38,405 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
19:34:38,426 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><!--  <AgentCom /> --><AgentCom>1104000004</AgentCom><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:34:38,426 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:34:38,566 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom>1104000004</AgentCom>
      <AgentCode />
      <InNoDoc>710_3_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20161122</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


19:34:38,566 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
19:34:38,566 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
19:34:38,566 INFO service.NewContInput(33) - Into NewContInput.service()...
19:34:38,566 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:34:38,576 INFO common.Log4jPrint(20) - 进程名：710
19:34:38,576 INFO common.Log4jPrint(20) - trancom:3
19:34:38,576 INFO common.Log4jPrint(20) - FuncFlag:201
19:34:38,576 INFO common.Log4jPrint(20) - mHeadEle.getChildText710_3_201_in.xml
19:34:38,606 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:34:38,606 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 710,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','710_3_201_in.xml',20161122,193438,20161122,193438 )
19:34:38,626 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:34:38,626 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=193118
19:34:38,716 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:34:38,716 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:34:38,716 INFO common.XslCache(62) - conf file modified at (2016-11-21 17:22:42,550) and length=15584 bytes!
19:34:38,756 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:34:38,756 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:34:38,756 INFO common.RuleXml(198) - Into RuleXml.load()...
19:34:38,756 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:34:38,756 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:03:03,502) and length=10207 bytes!
19:34:38,766 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:34:38,766 INFO common.RuleXml(215) - Out RuleXml.load()!
19:34:38,766 INFO common.RuleParser(49) - Into RuleParser.check()...
19:34:38,766 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:34:38,776 INFO common.Log4jPrint(20) - 对邮编进行校验
19:34:38,776 INFO common.Log4jPrint(20) - 对邮编进行校验
19:34:38,776 INFO common.Log4jPrint(20) - 返回的结果是:0
19:34:38,776 INFO common.Log4jPrint(20) - 对邮编进行校验
19:34:38,776 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

19:34:38,776 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
19:34:38,776 INFO common.RuleParser(62) - Out RuleParser.check()!
19:34:38,786 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
19:34:38,796 INFO common.SaveMessage(59) - 710_6_0_inSvc.xml IO输出耗时:0.01s
19:34:38,796 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！710_6_0_inSvc.xml
19:34:38,796 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:34:38,796 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:34:39,016 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
19:34:39,390 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
19:34:39,400 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
19:34:39,410 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
19:34:39,410 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
19:34:39,410 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
19:34:39,410 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
19:34:39,410 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:34:39,430 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
19:34:39,430 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYwNjI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTIzMTM1PC9UcmFuVGltZT48Tm9kZU5vPjAyMTE2PC9Ob2RlTm8+PEJhbmtDb2RlPkJPQzwvQmFua0NvZGU+PFRlbGxlck5vPjIxOTUxNzI8L1RlbGxlck5vPjxUcmFuTm8+MjAxNjA2MjgwNzIyMjUzNzwvVHJhbk5vPjxab25lTm8+MDAxMDwvWm9uZU5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjM8L1RyYW5Db20+PEZ1bmNGbGFnPjIwMTwvRnVuY0ZsYWc+PEFnZW50Q29tPjExMDQwMDAwMDQ8L0FnZW50Q29tPjxBZ2VudENvZGUgLz48SW5Ob0RvYz43MTBfM18yMDFfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48U2FsZUNoYW5uZWw+MDwvU2FsZUNoYW5uZWw+PFByb3Bvc2FsUHJ0Tm8+MTAwMDMwMDAwMTg0MjA2PC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMTIyPC9Qb2xBcHBseURhdGU+PEFjY05vPjMxODE2NDEwMjMzNzwvQWNjTm8+PEFjY05hbWU+uvq93DwvQWNjTmFtZT48R2V0UG9sTW9kZT4xPC9HZXRQb2xNb2RlPjxIZWFsdGhOb3RpY2U+TjwvSGVhbHRoTm90aWNlPjxTYWxlTmFtZT7VxdOtPC9TYWxlTmFtZT48U2FsZVN0YWZmPjQyOTkwMjk8L1NhbGVTdGFmZj48U2FsZUNlcnRObyAvPjxMdjFCck5vIC8+PEFwcG50PjxOYW1lPrr6vdw8L05hbWU+PFNleD4wPC9TZXg+PEJpcnRoZGF5PjE5NTgwMjA4PC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4xMTAxMDcxOTU4MDIwODAwMzE8L0lETm8+PElkRXhwRGF0ZT4yMTAwMTIzMTwvSWRFeHBEYXRlPjxOYXRpb25hbGl0eSAvPjxBZGRyZXNzQ29udGVudD6xsb6pytDKr76wyb3H+NHu16/Ctzi6xdS6MbawMi00MDG6xTwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8gLz48TW9iaWxlSXRsRHN0Y05vIC8+PE5hdGlvbmFsaXR5Q29kZSAvPjxBZGRyZXNzPrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA0MzwvWmlwQ29kZT48UGhvbmU+Njg1Mjg2MzE8L1Bob25lPjxNb2JpbGU+MTg2MDAyODMxODA8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxZZWFyU2FsYXJ5PjQ8L1llYXJTYWxhcnk+PEZhbWlseVllYXJTYWxhcnk+MDwvRmFtaWx5WWVhclNhbGFyeT48UmVsYVRvSW5zdXJlZD4wMDwvUmVsYVRvSW5zdXJlZD48RGVuVHlwZT4wPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+uvq93DwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk1ODAyMDg8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE"
19:34:39,480 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:34:39,480 DEBUG httpclient.Wire(70) - >> "50d[\r][\n]"
19:34:39,480 DEBUG httpclient.Wire(84) - >> "5vPjExMDEwNzE5NTgwMjA4MDAzMTwvSURObz48SWRFeHBEYXRlPjIxMDAxMjMxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5IC8+PEFkZHJlc3NDb250ZW50PrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObyAvPjxNb2JpbGVJdGxEc3RjTm8gLz48TmF0aW9uYWxpdHlDb2RlPjAxNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcz6xsb6pytDKr76wyb3H+NHu16/Ctzi6xdS6MbawMi00MDG6xTwvQWRkcmVzcz48WmlwQ29kZT4xMDAwNDM8L1ppcENvZGU+PFBob25lPjY4NTI4NjMxPC9QaG9uZT48TW9iaWxlPjE4NjAwMjgzMTgwPC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48UmNnbllySW5jbUFtIC8+PENvdlN1bUFtdCAvPjxSaXNrQXNzZXNzbWVudFJlc3VsdCAvPjxSaXNrQXNzZXNzbWVudEVuZERhdGUgLz48UHJlbWl1bUJ1ZGdldCAvPjwvSW5zdXJlZD48Umlzaz48Umlza0NvZGU+NjAxMDwvUmlza0NvZGU+PE1haW5SaXNrQ29kZT42MDEwPC9NYWluUmlza0NvZGU+PFJpc2tOYW1lIC8+PEFnSW5zUGtnSUQgLz48QW1udD4wPC9BbW50PjxQcmVtPjMwMDAwMDAwPC9QcmVtPjxNdWx0PjA8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjA8L1BheUVuZFllYXI+PFBheUVuZFllYXJGbGFnPkE8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnIC8+PC9SaXNrPjwvQm9keT48L1RyYW5EYXRhPg0K</arg0></service></soapenv:Body></soapenv:Envelope>"
19:34:39,480 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:34:39,480 DEBUG httpclient.Wire(84) - >> "0"
19:34:39,480 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:34:39,480 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:34:41,249 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:34:41,249 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:34:41,249 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
19:34:41,249 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
19:34:41,249 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
19:34:41,259 DEBUG httpclient.Wire(70) - << "Date: Tue, 22 Nov 2016 11:34:56 GMT[\r][\n]"
19:34:41,259 DEBUG httpclient.Wire(70) - << "[\r][\n]"
19:34:41,282 DEBUG httpclient.Wire(84) - << "1"
19:34:41,291 DEBUG httpclient.Wire(84) - << "d"
19:34:41,292 DEBUG httpclient.Wire(84) - << "b"
19:34:41,292 DEBUG httpclient.Wire(84) - << "[\r]"
19:34:41,292 DEBUG httpclient.Wire(70) - << "[\n]"
19:34:41,293 DEBUG httpclient.Wire(84) - << "<?xm"
19:34:41,293 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
19:34:41,303 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+QWdlbnRDb23U2rG+z7XNs9bQsru05tTaPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
19:34:41,313 INFO net.CallWebsvcAtomSvc(109) - 投保单号100030000184206录单核保(service)耗时：2.517s
19:34:41,313 INFO common.SaveMessage(59) - 710_9_0_outSvc.xml IO输出耗时:0.0s
19:34:41,313 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！710_9_0_outSvc.xml
19:34:41,313 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
19:34:41,313 INFO common.Log4jPrint(20) - -----------------------------------------------
19:34:41,313 INFO service.NewContInput(105) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
19:34:41,313 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: AgentCom在本系统中不存在
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:112)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:34:41,348 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:34:41,348 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:34:41,348 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=710,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=2,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='710_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=193438,ModifyDate=20161122,ModifyTime=193441,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=710
19:34:41,357 INFO service.NewContInput(200) - Out NewContInput.service()!
19:34:41,357 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
19:34:41,357 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>AgentCom在本系统中不存在</Desc>
   </Head>
</TranData>


19:34:41,367 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:34:41,367 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl...
19:34:41,367 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:05:04,002) and length=1114 bytes!
19:34:41,367 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl!
19:34:41,367 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><InsuReq><!-- 中国银行保费试算响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo><ApplyNo><xsl:value-of select="Body/ContNo" /></ApplyNo><Premium><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></Premium></Main></InsuReq></xsl:template></xsl:stylesheet>

19:34:41,367 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:34:41,377 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>193441</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>AgentCom在本系统中不存在</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


19:34:41,377 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
19:34:41,377 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
19:34:41,377 INFO common.SaveMessage(59) - 2016062807222537_1001_193441.xml IO输出耗时:0.0s
19:34:41,377 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_193441.xml
19:34:41,377 INFO net.BocNetImpl(119) - 返回报文长度：376
19:34:41,377 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
19:34:41,377 INFO test.BOCSocketTest(143) - 返回报文长度：3
19:34:41,377 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：4.079s
19:34:41,408 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:34:41,408 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=710
19:34:41,428 INFO common.Log4jPrint(20) - -------------------------
19:34:41,428 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:34:41,428 INFO common.Log4jPrint(20) - -------------------------
19:34:41,438 INFO common.Log4jPrint(20) - i=1
19:34:41,488 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:34:41,488 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:34:41,488 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=710,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=2,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='3.469',Bak4=null,Bak5=null,InNoDoc='710_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=193438,ModifyDate=20161122,ModifyTime=193441,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='710_3_201_in.xml' where LogNo=710
19:34:41,508 INFO midplat.Ybt4Socket(170) - 处理总耗时：3.539s
19:34:41,508 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:34:41,518 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
19:37:04,280 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7f328c7a
19:37:04,290 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:37:04,290 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:37:04,290 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:37:04,290 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:37:04,290 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:37:04,352 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:37:04,354 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:37:02,452) and length=23579 bytes!
19:37:04,414 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:37:04,424 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:37:04,424 INFO common.Log4jPrint(20) - End reset System.out!
19:37:04,424 INFO net.SocketConf(27) - Into SocketConf.load()...
19:37:04,424 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:37:04,424 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:37:02,455) and length=671 bytes!
19:37:04,424 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:37:04,434 INFO net.SocketConf(60) - Out SocketConf.load()!
19:37:04,444 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:37:04,444 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35001; class=com.sinosoft.midplat.abc.AbcYbt
19:37:04,454 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:37:04,454 INFO net.SocketListenerF5$Server(140) - 监听端口 35001
19:37:04,454 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:37:04,464 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:37:04,464 INFO net.SocketListenerF5$Server(140) - 监听端口 35017
19:37:04,464 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:37:04,474 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:37:04,474 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:37:04,474 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:37:04,474 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:37:04,474 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:37:04,474 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:37:11,431 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
19:37:11,441 INFO boc.BocConf(22) - Into BocConf.load()...
19:37:11,441 INFO test.BOCSocketTest(114) - 请求报文长度：3684
19:37:11,441 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
19:37:11,441 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:37:02,450) and length=3586 bytes!
19:37:11,441 INFO test.BOCSocketTest(121) - 发送请求报文！
19:37:11,441 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
19:37:11,451 INFO test.BOCSocketTest(131) - 收到返回报文！
19:37:11,451 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
19:37:11,451 INFO boc.BocConf(47) - Out BocConf.load()!
19:37:11,462 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:37:11,472 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:37:11,965 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:37:12,012 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:37:12,054 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
19:37:12,074 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
19:37:12,074 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:37:12,074 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
19:37:12,084 INFO net.BocNetImpl(34) - 请求报文长度：3684
19:37:12,214 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:37:12,214 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:37:12,225 INFO common.SaveMessage(59) - 716_3_201_in.xml IO输出耗时:0.011s
19:37:12,225 INFO net.BocNetImpl(67) - 保存非标准报文完毕！716_3_201_in.xml
19:37:12,225 INFO net.BocNetImpl(70) - 交易标示201
19:37:12,225 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
19:37:12,225 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
19:37:12,235 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
19:37:12,235 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20161122</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>716_3_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


19:37:12,235 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:37:12,235 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
19:37:12,235 INFO common.XslCache(62) - conf file modified at (2016-11-22 19:36:37,250) and length=15351 bytes!
19:37:12,505 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
19:37:12,515 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:37:12,515 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:37:12,646 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>716_3_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20161122</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


19:37:12,646 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
19:37:12,646 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
19:37:12,646 INFO service.NewContInput(33) - Into NewContInput.service()...
19:37:12,646 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:37:12,656 INFO common.Log4jPrint(20) - 进程名：716
19:37:12,656 INFO common.Log4jPrint(20) - trancom:3
19:37:12,656 INFO common.Log4jPrint(20) - FuncFlag:201
19:37:12,656 INFO common.Log4jPrint(20) - mHeadEle.getChildText716_3_201_in.xml
19:37:12,706 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:37:12,706 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 716,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','716_3_201_in.xml',20161122,193712,20161122,193712 )
19:37:12,716 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:37:12,716 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=193352
19:37:12,796 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:37:12,796 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:37:12,796 INFO common.XslCache(62) - conf file modified at (2016-11-21 17:22:42,550) and length=15584 bytes!
19:37:12,846 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:37:12,846 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:37:12,846 INFO common.RuleXml(198) - Into RuleXml.load()...
19:37:12,846 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:37:12,846 INFO common.XmlConf(62) - conf file modified at (2016-11-22 19:37:02,454) and length=10207 bytes!
19:37:12,846 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:37:12,846 INFO common.RuleXml(215) - Out RuleXml.load()!
19:37:12,846 INFO common.RuleParser(49) - Into RuleParser.check()...
19:37:12,846 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:37:12,856 INFO common.Log4jPrint(20) - 对邮编进行校验
19:37:12,856 INFO common.Log4jPrint(20) - 对邮编进行校验
19:37:12,856 INFO common.Log4jPrint(20) - 返回的结果是:0
19:37:12,856 INFO common.Log4jPrint(20) - 对邮编进行校验
19:37:12,856 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

19:37:12,856 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
19:37:12,856 INFO common.RuleParser(62) - Out RuleParser.check()!
19:37:12,866 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
19:37:12,866 INFO common.SaveMessage(59) - 716_6_0_inSvc.xml IO输出耗时:0.0s
19:37:12,866 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！716_6_0_inSvc.xml
19:37:12,866 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:37:12,866 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:37:13,090 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
19:37:13,850 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
19:37:13,891 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
19:37:13,891 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
19:37:13,891 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
19:37:13,891 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
19:37:13,891 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
19:37:13,891 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:37:13,911 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
19:37:13,911 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYwNjI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTIzMTM1PC9UcmFuVGltZT48Tm9kZU5vPjAyMTE2PC9Ob2RlTm8+PEJhbmtDb2RlPkJPQzwvQmFua0NvZGU+PFRlbGxlck5vPjIxOTUxNzI8L1RlbGxlck5vPjxUcmFuTm8+MjAxNjA2MjgwNzIyMjUzNzwvVHJhbk5vPjxab25lTm8+MDAxMDwvWm9uZU5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjM8L1RyYW5Db20+PEZ1bmNGbGFnPjIwMTwvRnVuY0ZsYWc+PEFnZW50Q29tIC8+PEFnZW50Q29kZSAvPjxJbk5vRG9jPjcxNl8zXzIwMV9pbi54bWw8L0luTm9Eb2M+PFNlcnZpY2VJZD4wPC9TZXJ2aWNlSWQ+PC9IZWFkPjxCb2R5PjxTYWxlQ2hhbm5lbD4wPC9TYWxlQ2hhbm5lbD48UHJvcG9zYWxQcnRObz4xMDAwMzAwMDAxODQyMDY8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjExMjI8L1BvbEFwcGx5RGF0ZT48QWNjTm8+MzE4MTY0MTAyMzM3PC9BY2NObz48QWNjTmFtZT66+r3cPC9BY2NOYW1lPjxHZXRQb2xNb2RlPjE8L0dldFBvbE1vZGU+PEhlYWx0aE5vdGljZT5OPC9IZWFsdGhOb3RpY2U+PFNhbGVOYW1lPtXF0608L1NhbGVOYW1lPjxTYWxlU3RhZmY+NDI5OTAyOTwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vIC8+PEx2MUJyTm8gLz48QXBwbnQ+PE5hbWU+uvq93DwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk1ODAyMDg8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjExMDEwNzE5NTgwMjA4MDAzMTwvSURObz48SWRFeHBEYXRlPjIxMDAxMjMxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5IC8+PEFkZHJlc3NDb250ZW50PrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObyAvPjxNb2JpbGVJdGxEc3RjTm8gLz48TmF0aW9uYWxpdHlDb2RlIC8+PEFkZHJlc3M+sbG+qcrQyq++sMm9x/jR7tevwrc4usXUujG2sDItNDAxusU8L0FkZHJlc3M+PFppcENvZGU+MTAwMDQzPC9aaXBDb2RlPjxQaG9uZT42ODUyODYzMTwvUGhvbmU+PE1vYmlsZT4xODYwMDI4MzE4MDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+NDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxEZW5UeXBlPjA8L0RlblR5cGU+PC9BcHBudD48SW5zdXJlZD48TmFtZT66+r3cPC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTU4MDIwODwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MTEwMTA3MTk1ODAyMDgwMD"
19:37:13,911 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:37:13,911 DEBUG httpclient.Wire(70) - >> "4f5[\r][\n]"
19:37:13,911 DEBUG httpclient.Wire(84) - >> "MxPC9JRE5vPjxJZEV4cERhdGU+MjEwMDEyMzE8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHkgLz48QWRkcmVzc0NvbnRlbnQ+sbG+qcrQyq++sMm9x/jR7tevwrc4usXUujG2sDItNDAxusU8L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vIC8+PE1vYmlsZUl0bERzdGNObyAvPjxOYXRpb25hbGl0eUNvZGU+MDE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzPrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA0MzwvWmlwQ29kZT48UGhvbmU+Njg1Mjg2MzE8L1Bob25lPjxNb2JpbGU+MTg2MDAyODMxODA8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxSY2duWXJJbmNtQW0gLz48Q292U3VtQW10IC8+PFJpc2tBc3Nlc3NtZW50UmVzdWx0IC8+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZSAvPjxQcmVtaXVtQnVkZ2V0IC8+PC9JbnN1cmVkPjxSaXNrPjxSaXNrQ29kZT42MDEwPC9SaXNrQ29kZT48TWFpblJpc2tDb2RlPjYwMTA8L01haW5SaXNrQ29kZT48Umlza05hbWUgLz48QWdJbnNQa2dJRCAvPjxBbW50PjA8L0FtbnQ+PFByZW0+MzAwMDAwMDA8L1ByZW0+PE11bHQ+MDwvTXVsdD48UGF5TW9kZT5CPC9QYXlNb2RlPjxQYXlJbnR2PjA8L1BheUludHY+PFBheUVuZFllYXI+MDwvUGF5RW5kWWVhcj48UGF5RW5kWWVhckZsYWc+QTwvUGF5RW5kWWVhckZsYWc+PEdldEludHYgLz48R2V0WWVhckZsYWcgLz48Qm9udXNHZXRNb2RlIC8+PFN1YkZsYWcgLz48R2V0WWVhciAvPjxJbnN1WWVhckZsYWc+WTwvSW5zdVllYXJGbGFnPjxJbnN1WWVhcj41PC9JbnN1WWVhcj48R2V0QmFua0NvZGUgLz48R2V0QmFua0FjY05vIC8+PEdldEFjY05hbWUgLz48QXV0b1BheUZsYWcgLz48L1Jpc2s+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
19:37:13,911 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:37:13,911 DEBUG httpclient.Wire(84) - >> "0"
19:37:13,911 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:37:13,911 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:37:16,227 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:37:16,227 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:37:16,227 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
19:37:16,227 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
19:37:16,227 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
19:37:16,237 DEBUG httpclient.Wire(70) - << "Date: Tue, 22 Nov 2016 11:37:31 GMT[\r][\n]"
19:37:16,237 DEBUG httpclient.Wire(70) - << "[\r][\n]"
19:37:16,258 DEBUG httpclient.Wire(84) - << "1"
19:37:16,258 DEBUG httpclient.Wire(84) - << "d"
19:37:16,258 DEBUG httpclient.Wire(84) - << "b"
19:37:16,268 DEBUG httpclient.Wire(84) - << "[\r]"
19:37:16,268 DEBUG httpclient.Wire(70) - << "[\n]"
19:37:16,268 DEBUG httpclient.Wire(84) - << "<?xm"
19:37:16,278 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
19:37:16,288 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+QWdlbnRDb23U2rG+z7XNs9bQsru05tTaPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
19:37:16,288 INFO net.CallWebsvcAtomSvc(109) - 投保单号100030000184206录单核保(service)耗时：3.422s
19:37:16,288 INFO common.SaveMessage(59) - 716_9_0_outSvc.xml IO输出耗时:0.0s
19:37:16,288 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！716_9_0_outSvc.xml
19:37:16,288 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
19:37:16,288 INFO common.Log4jPrint(20) - -----------------------------------------------
19:37:16,288 INFO service.NewContInput(105) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
19:37:16,298 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: AgentCom在本系统中不存在
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:112)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:37:16,338 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:37:16,338 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:37:16,338 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=716,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=3,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='716_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=193712,ModifyDate=20161122,ModifyTime=193716,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=716
19:37:16,358 INFO service.NewContInput(200) - Out NewContInput.service()!
19:37:16,358 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
19:37:16,358 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>AgentCom在本系统中不存在</Desc>
   </Head>
</TranData>


19:37:16,368 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:37:16,368 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl...
19:37:16,368 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:05:04,002) and length=1114 bytes!
19:37:16,368 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl!
19:37:16,368 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><InsuReq><!-- 中国银行保费试算响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo><ApplyNo><xsl:value-of select="Body/ContNo" /></ApplyNo><Premium><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></Premium></Main></InsuReq></xsl:template></xsl:stylesheet>

19:37:16,368 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:37:16,368 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>193716</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>AgentCom在本系统中不存在</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


19:37:16,368 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
19:37:16,368 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
19:37:16,378 INFO common.SaveMessage(59) - 2016062807222537_1001_193716.xml IO输出耗时:0.01s
19:37:16,378 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_193716.xml
19:37:16,378 INFO net.BocNetImpl(119) - 返回报文长度：376
19:37:16,378 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
19:37:16,378 INFO test.BOCSocketTest(143) - 返回报文长度：3
19:37:16,378 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：4.937s
19:37:16,409 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:37:16,409 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=716
19:37:16,439 INFO common.Log4jPrint(20) - -------------------------
19:37:16,439 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:37:16,439 INFO common.Log4jPrint(20) - -------------------------
19:37:16,439 INFO common.Log4jPrint(20) - i=1
19:37:16,509 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
19:37:16,519 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:37:16,519 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:37:16,519 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=716,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=3,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='4.365',Bak4=null,Bak5=null,InNoDoc='716_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=193712,ModifyDate=20161122,ModifyTime=193716,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='716_3_201_in.xml' where LogNo=716
19:37:16,540 INFO midplat.Ybt4Socket(170) - 处理总耗时：4.466s
19:37:16,540 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:51:05,004 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
19:51:05,019 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
19:51:05,019 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@52fc9d2b
19:51:05,019 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:51:05,019 INFO common.Log4jPrint(20) - Start revert System.out...
19:51:05,019 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:51:05,019 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
19:51:05,035 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:51:05,035 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35017
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:10:26,441 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@460c5e9c
20:10:26,461 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:10:26,461 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:10:26,461 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:10:26,461 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:10:26,461 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:10:26,471 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:10:26,471 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,751) and length=23579 bytes!
20:10:26,542 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:10:26,552 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:10:26,552 INFO common.Log4jPrint(20) - End reset System.out!
20:10:26,552 INFO net.SocketConf(27) - Into SocketConf.load()...
20:10:26,552 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:10:26,552 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,753) and length=671 bytes!
20:10:26,552 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:10:26,552 INFO net.SocketConf(60) - Out SocketConf.load()!
20:10:26,572 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:10:26,572 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35001; class=com.sinosoft.midplat.abc.AbcYbt
20:10:26,572 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:10:26,572 INFO net.SocketListenerF5$Server(140) - 监听端口 35001
20:10:26,572 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:10:26,582 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:10:26,582 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:10:26,582 INFO net.SocketListenerF5$Server(140) - 监听端口 35017
20:10:26,582 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:10:26,582 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:10:26,582 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:10:26,592 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:10:26,592 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:10:26,592 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:10:32,680 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
20:10:32,690 INFO boc.BocConf(22) - Into BocConf.load()...
20:10:32,690 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
20:10:32,690 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,748) and length=3586 bytes!
20:10:32,700 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
20:10:32,700 INFO boc.BocConf(47) - Out BocConf.load()!
20:10:32,700 INFO test.BOCSocketTest(114) - 请求报文长度：3684
20:10:32,700 INFO test.BOCSocketTest(121) - 发送请求报文！
20:10:32,700 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.01s
20:10:32,700 INFO test.BOCSocketTest(131) - 收到返回报文！
20:10:32,711 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:10:32,721 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:10:33,205 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:10:33,265 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:10:33,305 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
20:10:33,325 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
20:10:33,325 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:10:33,325 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
20:10:33,335 INFO net.BocNetImpl(34) - 请求报文长度：3684
20:10:33,465 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:10:33,465 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:10:33,475 INFO common.SaveMessage(59) - 722_3_201_in.xml IO输出耗时:0.01s
20:10:33,475 INFO net.BocNetImpl(67) - 保存非标准报文完毕！722_3_201_in.xml
20:10:33,475 INFO net.BocNetImpl(70) - 交易标示201
20:10:33,475 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
20:10:33,475 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
20:10:33,485 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
20:10:33,485 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20161122</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>722_3_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


20:10:33,485 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:10:33,485 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
20:10:33,485 INFO common.XslCache(62) - conf file modified at (2016-11-22 19:36:37,250) and length=15351 bytes!
20:10:33,755 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
20:10:33,765 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

20:10:33,775 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:10:33,897 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>722_3_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20161122</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


20:10:33,897 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
20:10:33,897 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
20:10:33,907 INFO service.NewContInput(33) - Into NewContInput.service()...
20:10:33,907 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:10:33,917 INFO common.Log4jPrint(20) - 进程名：722
20:10:33,917 INFO common.Log4jPrint(20) - trancom:3
20:10:33,917 INFO common.Log4jPrint(20) - FuncFlag:201
20:10:33,917 INFO common.Log4jPrint(20) - mHeadEle.getChildText722_3_201_in.xml
20:10:33,947 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:10:33,947 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 722,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','722_3_201_in.xml',20161122,201033,20161122,201033 )
20:10:33,957 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:10:33,957 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=200713
20:10:34,037 INFO common.RuleXsl(155) - Into RuleXsl.load()...
20:10:34,037 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
20:10:34,047 INFO common.XslCache(62) - conf file modified at (2016-11-21 17:22:42,550) and length=15584 bytes!
20:10:34,089 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
20:10:34,089 INFO common.RuleXsl(179) - Out RuleXsl.load()!
20:10:34,090 INFO common.RuleXml(198) - Into RuleXml.load()...
20:10:34,090 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
20:10:34,090 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,753) and length=10207 bytes!
20:10:34,095 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
20:10:34,095 INFO common.RuleXml(215) - Out RuleXml.load()!
20:10:34,096 INFO common.RuleParser(49) - Into RuleParser.check()...
20:10:34,096 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:10:34,102 INFO common.Log4jPrint(20) - 对邮编进行校验
20:10:34,103 INFO common.Log4jPrint(20) - 对邮编进行校验
20:10:34,103 INFO common.Log4jPrint(20) - 返回的结果是:0
20:10:34,105 INFO common.Log4jPrint(20) - 对邮编进行校验
20:10:34,108 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:10:34,108 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:10:34,108 INFO common.RuleParser(62) - Out RuleParser.check()!
20:10:34,114 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
20:10:34,116 INFO common.SaveMessage(59) - 722_6_0_inSvc.xml IO输出耗时:0.0020s
20:10:34,116 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！722_6_0_inSvc.xml
20:10:34,117 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:10:34,117 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:10:34,372 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
20:10:34,782 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
20:10:34,792 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
20:10:34,792 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
20:10:34,792 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
20:10:34,792 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
20:10:34,792 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
20:10:34,802 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:10:34,822 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:10:34,822 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYwNjI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTIzMTM1PC9UcmFuVGltZT48Tm9kZU5vPjAyMTE2PC9Ob2RlTm8+PEJhbmtDb2RlPkJPQzwvQmFua0NvZGU+PFRlbGxlck5vPjIxOTUxNzI8L1RlbGxlck5vPjxUcmFuTm8+MjAxNjA2MjgwNzIyMjUzNzwvVHJhbk5vPjxab25lTm8+MDAxMDwvWm9uZU5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjM8L1RyYW5Db20+PEZ1bmNGbGFnPjIwMTwvRnVuY0ZsYWc+PEFnZW50Q29tIC8+PEFnZW50Q29kZSAvPjxJbk5vRG9jPjcyMl8zXzIwMV9pbi54bWw8L0luTm9Eb2M+PFNlcnZpY2VJZD4wPC9TZXJ2aWNlSWQ+PC9IZWFkPjxCb2R5PjxTYWxlQ2hhbm5lbD4wPC9TYWxlQ2hhbm5lbD48UHJvcG9zYWxQcnRObz4xMDAwMzAwMDAxODQyMDY8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjExMjI8L1BvbEFwcGx5RGF0ZT48QWNjTm8+MzE4MTY0MTAyMzM3PC9BY2NObz48QWNjTmFtZT66+r3cPC9BY2NOYW1lPjxHZXRQb2xNb2RlPjE8L0dldFBvbE1vZGU+PEhlYWx0aE5vdGljZT5OPC9IZWFsdGhOb3RpY2U+PFNhbGVOYW1lPtXF0608L1NhbGVOYW1lPjxTYWxlU3RhZmY+NDI5OTAyOTwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vIC8+PEx2MUJyTm8gLz48QXBwbnQ+PE5hbWU+uvq93DwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk1ODAyMDg8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjExMDEwNzE5NTgwMjA4MDAzMTwvSURObz48SWRFeHBEYXRlPjIxMDAxMjMxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5IC8+PEFkZHJlc3NDb250ZW50PrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObyAvPjxNb2JpbGVJdGxEc3RjTm8gLz48TmF0aW9uYWxpdHlDb2RlIC8+PEFkZHJlc3M+sbG+qcrQyq++sMm9x/jR7tevwrc4usXUujG2sDItNDAxusU8L0FkZHJlc3M+PFppcENvZGU+MTAwMDQzPC9aaXBDb2RlPjxQaG9uZT42ODUyODYzMTwvUGhvbmU+PE1vYmlsZT4xODYwMDI4MzE4MDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+NDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxEZW5UeXBlPjA8L0RlblR5cGU+PC9BcHBudD48SW5zdXJlZD48TmFtZT66+r3cPC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTU4MDIwODwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MTEwMTA3MTk1ODAyMDgwMD"
20:10:34,822 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:10:34,822 DEBUG httpclient.Wire(70) - >> "4f5[\r][\n]"
20:10:34,822 DEBUG httpclient.Wire(84) - >> "MxPC9JRE5vPjxJZEV4cERhdGU+MjEwMDEyMzE8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHkgLz48QWRkcmVzc0NvbnRlbnQ+sbG+qcrQyq++sMm9x/jR7tevwrc4usXUujG2sDItNDAxusU8L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vIC8+PE1vYmlsZUl0bERzdGNObyAvPjxOYXRpb25hbGl0eUNvZGU+MDE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzPrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA0MzwvWmlwQ29kZT48UGhvbmU+Njg1Mjg2MzE8L1Bob25lPjxNb2JpbGU+MTg2MDAyODMxODA8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxSY2duWXJJbmNtQW0gLz48Q292U3VtQW10IC8+PFJpc2tBc3Nlc3NtZW50UmVzdWx0IC8+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZSAvPjxQcmVtaXVtQnVkZ2V0IC8+PC9JbnN1cmVkPjxSaXNrPjxSaXNrQ29kZT42MDEwPC9SaXNrQ29kZT48TWFpblJpc2tDb2RlPjYwMTA8L01haW5SaXNrQ29kZT48Umlza05hbWUgLz48QWdJbnNQa2dJRCAvPjxBbW50PjA8L0FtbnQ+PFByZW0+MzAwMDAwMDA8L1ByZW0+PE11bHQ+MDwvTXVsdD48UGF5TW9kZT5CPC9QYXlNb2RlPjxQYXlJbnR2PjA8L1BheUludHY+PFBheUVuZFllYXI+MDwvUGF5RW5kWWVhcj48UGF5RW5kWWVhckZsYWc+QTwvUGF5RW5kWWVhckZsYWc+PEdldEludHYgLz48R2V0WWVhckZsYWcgLz48Qm9udXNHZXRNb2RlIC8+PFN1YkZsYWcgLz48R2V0WWVhciAvPjxJbnN1WWVhckZsYWc+WTwvSW5zdVllYXJGbGFnPjxJbnN1WWVhcj41PC9JbnN1WWVhcj48R2V0QmFua0NvZGUgLz48R2V0QmFua0FjY05vIC8+PEdldEFjY05hbWUgLz48QXV0b1BheUZsYWcgLz48L1Jpc2s+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
20:10:34,822 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:10:34,822 DEBUG httpclient.Wire(84) - >> "0"
20:10:34,822 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:10:34,822 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:10:36,348 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:10:36,348 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:10:36,348 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
20:10:36,348 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
20:10:36,348 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
20:10:36,358 DEBUG httpclient.Wire(70) - << "Date: Tue, 22 Nov 2016 12:10:51 GMT[\r][\n]"
20:10:36,358 DEBUG httpclient.Wire(70) - << "[\r][\n]"
20:10:36,390 DEBUG httpclient.Wire(84) - << "1"
20:10:36,390 DEBUG httpclient.Wire(84) - << "d"
20:10:36,390 DEBUG httpclient.Wire(84) - << "b"
20:10:36,390 DEBUG httpclient.Wire(84) - << "[\r]"
20:10:36,390 DEBUG httpclient.Wire(70) - << "[\n]"
20:10:36,390 DEBUG httpclient.Wire(84) - << "<?xm"
20:10:36,400 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
20:10:36,400 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+QWdlbnRDb23U2rG+z7XNs9bQsru05tTaPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
20:10:36,410 INFO net.CallWebsvcAtomSvc(109) - 投保单号100030000184206录单核保(service)耗时：2.293s
20:10:36,410 INFO common.SaveMessage(59) - 722_9_0_outSvc.xml IO输出耗时:0.0s
20:10:36,420 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！722_9_0_outSvc.xml
20:10:36,420 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
20:10:36,420 INFO common.Log4jPrint(20) - -----------------------------------------------
20:10:36,420 INFO service.NewContInput(105) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
20:10:36,420 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: AgentCom在本系统中不存在
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:112)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:10:36,460 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:10:36,460 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:10:36,460 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=722,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=2,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='722_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=201033,ModifyDate=20161122,ModifyTime=201036,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=722
20:10:36,480 INFO service.NewContInput(200) - Out NewContInput.service()!
20:10:36,480 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
20:10:36,480 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>AgentCom在本系统中不存在</Desc>
   </Head>
</TranData>


20:10:36,480 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
20:10:36,480 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl...
20:10:36,480 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:05:04,002) and length=1114 bytes!
20:10:36,480 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl!
20:10:36,490 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><InsuReq><!-- 中国银行保费试算响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo><ApplyNo><xsl:value-of select="Body/ContNo" /></ApplyNo><Premium><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></Premium></Main></InsuReq></xsl:template></xsl:stylesheet>

20:10:36,490 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
20:10:36,490 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>201036</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>AgentCom在本系统中不存在</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


20:10:36,490 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
20:10:36,490 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
20:10:36,490 INFO common.SaveMessage(59) - 2016062807222537_1001_201036.xml IO输出耗时:0.0s
20:10:36,490 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_201036.xml
20:10:36,490 INFO net.BocNetImpl(119) - 返回报文长度：376
20:10:36,490 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
20:10:36,490 INFO test.BOCSocketTest(143) - 返回报文长度：3
20:10:36,490 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：3.8s
20:10:36,541 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:10:36,541 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=722
20:10:36,581 INFO common.Log4jPrint(20) - -------------------------
20:10:36,581 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:10:36,581 INFO common.Log4jPrint(20) - -------------------------
20:10:36,611 INFO common.Log4jPrint(20) - i=1
20:10:36,631 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:10:36,631 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:10:36,631 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=722,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=2,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='3.286',Bak4=null,Bak5=null,InNoDoc='722_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=201033,ModifyDate=20161122,ModifyTime=201036,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='722_3_201_in.xml' where LogNo=722
20:10:36,651 INFO midplat.Ybt4Socket(170) - 处理总耗时：3.326s
20:10:36,651 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:10:36,651 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
20:11:18,832 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
20:11:18,842 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
20:11:18,842 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
20:11:18,842 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:11:18,842 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
20:11:18,852 INFO test.BOCSocketTest(114) - 请求报文长度：3684
20:11:18,852 INFO test.BOCSocketTest(121) - 发送请求报文！
20:11:18,852 INFO net.BocNetImpl(34) - 请求报文长度：3684
20:11:18,852 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.01s
20:11:18,852 INFO test.BOCSocketTest(131) - 收到返回报文！
20:11:18,863 INFO common.SaveMessage(59) - 728_12_201_in.xml IO输出耗时:0.011s
20:11:18,863 INFO net.BocNetImpl(67) - 保存非标准报文完毕！728_12_201_in.xml
20:11:18,863 INFO net.BocNetImpl(70) - 交易标示201
20:11:18,863 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
20:11:18,863 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
20:11:18,863 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
20:11:18,863 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20161122</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>728_12_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


20:11:18,873 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>728_12_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20161122</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


20:11:18,873 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
20:11:18,873 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
20:11:18,873 INFO service.NewContInput(33) - Into NewContInput.service()...
20:11:18,873 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:11:18,873 INFO common.Log4jPrint(20) - 进程名：728
20:11:18,873 INFO common.Log4jPrint(20) - trancom:3
20:11:18,873 INFO common.Log4jPrint(20) - FuncFlag:201
20:11:18,873 INFO common.Log4jPrint(20) - mHeadEle.getChildText728_12_201_in.xml
20:11:18,903 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:11:18,903 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 728,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','728_12_201_in.xml',20161122,201118,20161122,201118 )
20:11:18,913 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:11:18,913 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=200758
20:11:18,963 INFO common.RuleParser(49) - Into RuleParser.check()...
20:11:18,963 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:11:18,973 INFO common.Log4jPrint(20) - 对邮编进行校验
20:11:18,973 INFO common.Log4jPrint(20) - 对邮编进行校验
20:11:18,973 INFO common.Log4jPrint(20) - 返回的结果是:0
20:11:18,973 INFO common.Log4jPrint(20) - 对邮编进行校验
20:11:18,973 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:11:18,983 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:11:18,983 INFO common.RuleParser(62) - Out RuleParser.check()!
20:11:18,983 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
20:11:18,983 INFO common.SaveMessage(59) - 728_15_0_inSvc.xml IO输出耗时:0.0s
20:11:18,983 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！728_15_0_inSvc.xml
20:11:18,983 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:11:18,983 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:11:19,033 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYwNjI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTIzMTM1PC9UcmFuVGltZT48Tm9kZU5vPjAyMTE2PC9Ob2RlTm8+PEJhbmtDb2RlPkJPQzwvQmFua0NvZGU+PFRlbGxlck5vPjIxOTUxNzI8L1RlbGxlck5vPjxUcmFuTm8+MjAxNjA2MjgwNzIyMjUzNzwvVHJhbk5vPjxab25lTm8+MDAxMDwvWm9uZU5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjM8L1RyYW5Db20+PEZ1bmNGbGFnPjIwMTwvRnVuY0ZsYWc+PEFnZW50Q29tIC8+PEFnZW50Q29kZSAvPjxJbk5vRG9jPjcyOF8xMl8yMDFfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48U2FsZUNoYW5uZWw+MDwvU2FsZUNoYW5uZWw+PFByb3Bvc2FsUHJ0Tm8+MTAwMDMwMDAwMTg0MjA2PC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMTIyPC9Qb2xBcHBseURhdGU+PEFjY05vPjMxODE2NDEwMjMzNzwvQWNjTm8+PEFjY05hbWU+uvq93DwvQWNjTmFtZT48R2V0UG9sTW9kZT4xPC9HZXRQb2xNb2RlPjxIZWFsdGhOb3RpY2U+TjwvSGVhbHRoTm90aWNlPjxTYWxlTmFtZT7VxdOtPC9TYWxlTmFtZT48U2FsZVN0YWZmPjQyOTkwMjk8L1NhbGVTdGFmZj48U2FsZUNlcnRObyAvPjxMdjFCck5vIC8+PEFwcG50PjxOYW1lPrr6vdw8L05hbWU+PFNleD4wPC9TZXg+PEJpcnRoZGF5PjE5NTgwMjA4PC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4xMTAxMDcxOTU4MDIwODAwMzE8L0lETm8+PElkRXhwRGF0ZT4yMTAwMTIzMTwvSWRFeHBEYXRlPjxOYXRpb25hbGl0eSAvPjxBZGRyZXNzQ29udGVudD6xsb6pytDKr76wyb3H+NHu16/Ctzi6xdS6MbawMi00MDG6xTwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8gLz48TW9iaWxlSXRsRHN0Y05vIC8+PE5hdGlvbmFsaXR5Q29kZSAvPjxBZGRyZXNzPrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA0MzwvWmlwQ29kZT48UGhvbmU+Njg1Mjg2MzE8L1Bob25lPjxNb2JpbGU+MTg2MDAyODMxODA8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxZZWFyU2FsYXJ5PjQ8L1llYXJTYWxhcnk+PEZhbWlseVllYXJTYWxhcnk+MDwvRmFtaWx5WWVhclNhbGFyeT48UmVsYVRvSW5zdXJlZD4wMDwvUmVsYVRvSW5zdXJlZD48RGVuVHlwZT4wPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+uvq93DwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk1ODAyMDg8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjExMDEwNzE5NTgwMjA4MD"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "4f5[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(84) - >> "AzMTwvSURObz48SWRFeHBEYXRlPjIxMDAxMjMxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5IC8+PEFkZHJlc3NDb250ZW50PrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObyAvPjxNb2JpbGVJdGxEc3RjTm8gLz48TmF0aW9uYWxpdHlDb2RlPjAxNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcz6xsb6pytDKr76wyb3H+NHu16/Ctzi6xdS6MbawMi00MDG6xTwvQWRkcmVzcz48WmlwQ29kZT4xMDAwNDM8L1ppcENvZGU+PFBob25lPjY4NTI4NjMxPC9QaG9uZT48TW9iaWxlPjE4NjAwMjgzMTgwPC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48UmNnbllySW5jbUFtIC8+PENvdlN1bUFtdCAvPjxSaXNrQXNzZXNzbWVudFJlc3VsdCAvPjxSaXNrQXNzZXNzbWVudEVuZERhdGUgLz48UHJlbWl1bUJ1ZGdldCAvPjwvSW5zdXJlZD48Umlzaz48Umlza0NvZGU+NjAxMDwvUmlza0NvZGU+PE1haW5SaXNrQ29kZT42MDEwPC9NYWluUmlza0NvZGU+PFJpc2tOYW1lIC8+PEFnSW5zUGtnSUQgLz48QW1udD4wPC9BbW50PjxQcmVtPjMwMDAwMDAwPC9QcmVtPjxNdWx0PjA8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjA8L1BheUVuZFllYXI+PFBheUVuZFllYXJGbGFnPkE8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnIC8+PC9SaXNrPjwvQm9keT48L1RyYW5EYXRhPg0K</arg0></service></soapenv:Body></soapenv:Envelope>"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(84) - >> "0"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:11:19,033 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:11:20,558 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:11:20,558 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:11:20,558 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
20:11:20,558 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
20:11:20,558 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
20:11:20,558 DEBUG httpclient.Wire(70) - << "Date: Tue, 22 Nov 2016 12:11:35 GMT[\r][\n]"
20:11:20,558 DEBUG httpclient.Wire(70) - << "[\r][\n]"
20:11:20,568 DEBUG httpclient.Wire(84) - << "1"
20:11:20,568 DEBUG httpclient.Wire(84) - << "d"
20:11:20,568 DEBUG httpclient.Wire(84) - << "b"
20:11:20,568 DEBUG httpclient.Wire(84) - << "[\r]"
20:11:20,568 DEBUG httpclient.Wire(70) - << "[\n]"
20:11:20,568 DEBUG httpclient.Wire(84) - << "<?xm"
20:11:20,568 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
20:11:20,568 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+QWdlbnRDb23U2rG+z7XNs9bQsru05tTaPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
20:11:20,568 INFO net.CallWebsvcAtomSvc(109) - 投保单号100030000184206录单核保(service)耗时：1.585s
20:11:20,579 INFO common.SaveMessage(59) - 728_18_0_outSvc.xml IO输出耗时:0.0s
20:11:20,579 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！728_18_0_outSvc.xml
20:11:20,579 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
20:11:20,579 INFO common.Log4jPrint(20) - -----------------------------------------------
20:11:20,579 INFO service.NewContInput(105) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
20:11:20,579 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: AgentCom在本系统中不存在
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:112)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:11:20,629 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:11:20,629 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:11:20,629 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=728,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='728_12_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=201118,ModifyDate=20161122,ModifyTime=201120,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=728
20:11:20,639 INFO service.NewContInput(200) - Out NewContInput.service()!
20:11:20,639 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
20:11:20,639 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>AgentCom在本系统中不存在</Desc>
   </Head>
</TranData>


20:11:20,649 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>201120</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>AgentCom在本系统中不存在</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


20:11:20,649 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
20:11:20,649 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
20:11:20,649 INFO common.SaveMessage(59) - 2016062807222537_1001_201120.xml IO输出耗时:0.0s
20:11:20,649 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_201120.xml
20:11:20,649 INFO net.BocNetImpl(119) - 返回报文长度：376
20:11:20,649 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
20:11:20,649 INFO test.BOCSocketTest(143) - 返回报文长度：3
20:11:20,649 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：1.807s
20:11:20,690 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:11:20,690 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=728
20:11:20,720 INFO common.Log4jPrint(20) - -------------------------
20:11:20,720 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:11:20,720 INFO common.Log4jPrint(20) - -------------------------
20:11:20,730 INFO common.Log4jPrint(20) - i=1
20:11:20,790 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:11:20,790 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:11:20,790 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=728,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='1.888',Bak4=null,Bak5=null,InNoDoc='728_12_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=201118,ModifyDate=20161122,ModifyTime=201120,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='728_12_201_in.xml' where LogNo=728
20:11:20,810 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
20:11:20,830 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.988s
20:11:20,830 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:14:42,371 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
20:14:42,381 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
20:14:42,382 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
20:14:42,382 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:14:42,383 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
20:14:42,385 INFO test.BOCSocketTest(114) - 请求报文长度：3684
20:14:42,386 INFO test.BOCSocketTest(121) - 发送请求报文！
20:14:42,387 INFO net.BocNetImpl(34) - 请求报文长度：3684
20:14:42,387 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0060s
20:14:42,388 INFO test.BOCSocketTest(131) - 收到返回报文！
20:14:42,400 INFO common.SaveMessage(59) - 734_21_201_in.xml IO输出耗时:0.0050s
20:14:42,400 INFO net.BocNetImpl(67) - 保存非标准报文完毕！734_21_201_in.xml
20:14:42,401 INFO net.BocNetImpl(70) - 交易标示201
20:14:42,401 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
20:14:42,402 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
20:14:42,402 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
20:14:42,403 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20161122</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>734_21_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


20:14:42,414 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>734_21_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20161122</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


20:14:42,414 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
20:14:42,415 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
20:14:42,415 INFO service.NewContInput(33) - Into NewContInput.service()...
20:14:42,415 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:14:42,415 INFO common.Log4jPrint(20) - 进程名：734
20:14:42,416 INFO common.Log4jPrint(20) - trancom:3
20:14:42,416 INFO common.Log4jPrint(20) - FuncFlag:201
20:14:42,416 INFO common.Log4jPrint(20) - mHeadEle.getChildText734_21_201_in.xml
20:14:42,454 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:14:42,455 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 734,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','734_21_201_in.xml',20161122,201442,20161122,201442 )
20:14:42,465 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:14:42,466 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=201122
20:14:42,579 INFO common.RuleParser(49) - Into RuleParser.check()...
20:14:42,580 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:14:42,590 INFO common.Log4jPrint(20) - 对邮编进行校验
20:14:42,591 INFO common.Log4jPrint(20) - 对邮编进行校验
20:14:42,592 INFO common.Log4jPrint(20) - 返回的结果是:0
20:14:42,596 INFO common.Log4jPrint(20) - 对邮编进行校验
20:14:42,603 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:14:42,603 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:14:42,604 INFO common.RuleParser(62) - Out RuleParser.check()!
20:14:42,608 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
20:14:42,612 INFO common.SaveMessage(59) - 734_24_0_inSvc.xml IO输出耗时:0.0030s
20:14:42,613 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！734_24_0_inSvc.xml
20:14:42,614 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:14:42,615 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:14:42,652 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
20:14:42,653 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
20:14:42,653 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
20:14:42,653 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
20:14:42,654 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
20:14:42,654 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
20:14:42,654 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:14:42,655 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:14:42,656 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYwNjI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTIzMTM1PC9UcmFuVGltZT48Tm9kZU5vPjAyMTE2PC9Ob2RlTm8+PEJhbmtDb2RlPkJPQzwvQmFua0NvZGU+PFRlbGxlck5vPjIxOTUxNzI8L1RlbGxlck5vPjxUcmFuTm8+MjAxNjA2MjgwNzIyMjUzNzwvVHJhbk5vPjxab25lTm8+MDAxMDwvWm9uZU5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjM8L1RyYW5Db20+PEZ1bmNGbGFnPjIwMTwvRnVuY0ZsYWc+PEFnZW50Q29tIC8+PEFnZW50Q29kZSAvPjxJbk5vRG9jPjczNF8yMV8yMDFfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48U2FsZUNoYW5uZWw+MDwvU2FsZUNoYW5uZWw+PFByb3Bvc2FsUHJ0Tm8+MTAwMDMwMDAwMTg0MjA2PC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMTIyPC9Qb2xBcHBseURhdGU+PEFjY05vPjMxODE2NDEwMjMzNzwvQWNjTm8+PEFjY05hbWU+uvq93DwvQWNjTmFtZT48R2V0UG9sTW9kZT4xPC9HZXRQb2xNb2RlPjxIZWFsdGhOb3RpY2U+TjwvSGVhbHRoTm90aWNlPjxTYWxlTmFtZT7VxdOtPC9TYWxlTmFtZT48U2FsZVN0YWZmPjQyOTkwMjk8L1NhbGVTdGFmZj48U2FsZUNlcnRObyAvPjxMdjFCck5vIC8+PEFwcG50PjxOYW1lPrr6vdw8L05hbWU+PFNleD4wPC9TZXg+PEJpcnRoZGF5PjE5NTgwMjA4PC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4xMTAxMDcxOTU4MDIwODAwMzE8L0lETm8+PElkRXhwRGF0ZT4yMTAwMTIzMTwvSWRFeHBEYXRlPjxOYXRpb25hbGl0eSAvPjxBZGRyZXNzQ29udGVudD6xsb6pytDKr76wyb3H+NHu16/Ctzi6xdS6MbawMi00MDG6xTwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8gLz48TW9iaWxlSXRsRHN0Y05vIC8+PE5hdGlvbmFsaXR5Q29kZSAvPjxBZGRyZXNzPrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA0MzwvWmlwQ29kZT48UGhvbmU+Njg1Mjg2MzE8L1Bob25lPjxNb2JpbGU+MTg2MDAyODMxODA8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxZZWFyU2FsYXJ5PjQ8L1llYXJTYWxhcnk+PEZhbWlseVllYXJTYWxhcnk+MDwvRmFtaWx5WWVhclNhbGFyeT48UmVsYVRvSW5zdXJlZD4wMDwvUmVsYVRvSW5zdXJlZD48RGVuVHlwZT4wPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+uvq93DwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk1ODAyMDg8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjExMDEwNzE5NTgwMjA4MD"
20:14:42,656 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:14:42,657 DEBUG httpclient.Wire(70) - >> "4f5[\r][\n]"
20:14:42,657 DEBUG httpclient.Wire(84) - >> "AzMTwvSURObz48SWRFeHBEYXRlPjIxMDAxMjMxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5IC8+PEFkZHJlc3NDb250ZW50PrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObyAvPjxNb2JpbGVJdGxEc3RjTm8gLz48TmF0aW9uYWxpdHlDb2RlPjAxNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcz6xsb6pytDKr76wyb3H+NHu16/Ctzi6xdS6MbawMi00MDG6xTwvQWRkcmVzcz48WmlwQ29kZT4xMDAwNDM8L1ppcENvZGU+PFBob25lPjY4NTI4NjMxPC9QaG9uZT48TW9iaWxlPjE4NjAwMjgzMTgwPC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48UmNnbllySW5jbUFtIC8+PENvdlN1bUFtdCAvPjxSaXNrQXNzZXNzbWVudFJlc3VsdCAvPjxSaXNrQXNzZXNzbWVudEVuZERhdGUgLz48UHJlbWl1bUJ1ZGdldCAvPjwvSW5zdXJlZD48Umlzaz48Umlza0NvZGU+NjAxMDwvUmlza0NvZGU+PE1haW5SaXNrQ29kZT42MDEwPC9NYWluUmlza0NvZGU+PFJpc2tOYW1lIC8+PEFnSW5zUGtnSUQgLz48QW1udD4wPC9BbW50PjxQcmVtPjMwMDAwMDAwPC9QcmVtPjxNdWx0PjA8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjA8L1BheUVuZFllYXI+PFBheUVuZFllYXJGbGFnPkE8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnIC8+PC9SaXNrPjwvQm9keT48L1RyYW5EYXRhPg0K</arg0></service></soapenv:Body></soapenv:Envelope>"
20:14:42,658 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:14:42,658 DEBUG httpclient.Wire(84) - >> "0"
20:14:42,658 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:14:42,658 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:14:44,388 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:14:44,390 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:14:44,391 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
20:14:44,392 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
20:14:44,393 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
20:14:44,394 DEBUG httpclient.Wire(70) - << "Date: Tue, 22 Nov 2016 12:14:59 GMT[\r][\n]"
20:14:44,395 DEBUG httpclient.Wire(70) - << "[\r][\n]"
20:14:44,396 DEBUG httpclient.Wire(84) - << "1"
20:14:44,397 DEBUG httpclient.Wire(84) - << "d"
20:14:44,398 DEBUG httpclient.Wire(84) - << "b"
20:14:44,399 DEBUG httpclient.Wire(84) - << "[\r]"
20:14:44,400 DEBUG httpclient.Wire(70) - << "[\n]"
20:14:44,401 DEBUG httpclient.Wire(84) - << "<?xm"
20:14:44,402 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
20:14:44,403 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+QWdlbnRDb23U2rG+z7XNs9bQsru05tTaPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
20:14:44,406 INFO net.CallWebsvcAtomSvc(109) - 投保单号100030000184206录单核保(service)耗时：1.791s
20:14:44,412 INFO common.SaveMessage(59) - 734_27_0_outSvc.xml IO输出耗时:0.0010s
20:14:44,413 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！734_27_0_outSvc.xml
20:14:44,413 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
20:14:44,414 INFO common.Log4jPrint(20) - -----------------------------------------------
20:14:44,415 INFO service.NewContInput(105) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
20:14:44,416 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: AgentCom在本系统中不存在
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:112)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:14:44,448 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:14:44,449 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:14:44,449 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=734,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=2,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='734_21_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=201442,ModifyDate=20161122,ModifyTime=201444,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=734
20:14:44,469 INFO service.NewContInput(200) - Out NewContInput.service()!
20:14:44,470 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
20:14:44,470 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>AgentCom在本系统中不存在</Desc>
   </Head>
</TranData>


20:14:44,473 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>201444</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>AgentCom在本系统中不存在</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


20:14:44,473 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
20:14:44,474 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
20:14:44,475 INFO common.SaveMessage(59) - 2016062807222537_1001_201444.xml IO输出耗时:0.0010s
20:14:44,476 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_201444.xml
20:14:44,476 INFO net.BocNetImpl(119) - 返回报文长度：376
20:14:44,476 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
20:14:44,476 INFO test.BOCSocketTest(143) - 返回报文长度：3
20:14:44,477 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：2.096s
20:14:44,508 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:14:44,508 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=734
20:14:44,534 INFO common.Log4jPrint(20) - -------------------------
20:14:44,534 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:14:44,535 INFO common.Log4jPrint(20) - -------------------------
20:14:44,542 INFO common.Log4jPrint(20) - i=1
20:14:44,575 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:14:44,575 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:14:44,575 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=734,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=2,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='2.16',Bak4=null,Bak5=null,InNoDoc='734_21_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=201442,ModifyDate=20161122,ModifyTime=201444,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='734_21_201_in.xml' where LogNo=734
20:14:44,587 INFO midplat.Ybt4Socket(170) - 处理总耗时：2.205s
20:14:44,587 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:14:44,623 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
20:16:40,374 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@6c43da1b
20:16:40,374 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:16:40,384 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:16:40,384 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:16:40,384 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:16:40,384 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:16:40,443 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:16:40,445 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,751) and length=23579 bytes!
20:16:40,505 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:16:40,515 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:16:40,515 INFO common.Log4jPrint(20) - End reset System.out!
20:16:40,515 INFO net.SocketConf(27) - Into SocketConf.load()...
20:16:40,515 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:16:40,525 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,753) and length=671 bytes!
20:16:40,525 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:16:40,525 INFO net.SocketConf(60) - Out SocketConf.load()!
20:16:40,545 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:16:40,545 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35001; class=com.sinosoft.midplat.abc.AbcYbt
20:16:40,555 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:16:40,555 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:16:40,555 INFO net.SocketListenerF5$Server(140) - 监听端口 35001
20:16:40,565 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:16:40,565 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:16:40,565 INFO net.SocketListenerF5$Server(140) - 监听端口 35017
20:16:40,565 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:16:40,565 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:16:40,575 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:16:40,575 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:16:40,575 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:16:40,575 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:16:42,223 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
20:16:42,233 INFO boc.BocConf(22) - Into BocConf.load()...
20:16:42,233 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
20:16:42,233 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,748) and length=3586 bytes!
20:16:42,243 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
20:16:42,243 INFO test.BOCSocketTest(114) - 请求报文长度：3684
20:16:42,243 INFO boc.BocConf(47) - Out BocConf.load()!
20:16:42,243 INFO test.BOCSocketTest(121) - 发送请求报文！
20:16:42,243 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.01s
20:16:42,243 INFO test.BOCSocketTest(131) - 收到返回报文！
20:16:42,254 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:16:42,254 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:16:43,230 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:16:43,909 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:16:43,970 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
20:16:43,990 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
20:16:43,990 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:16:43,990 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
20:16:44,010 INFO net.BocNetImpl(34) - 请求报文长度：3684
20:16:44,155 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:16:44,155 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:16:44,165 INFO common.SaveMessage(59) - 740_3_201_in.xml IO输出耗时:0.01s
20:16:44,165 INFO net.BocNetImpl(67) - 保存非标准报文完毕！740_3_201_in.xml
20:16:44,175 INFO net.BocNetImpl(70) - 交易标示201
20:16:44,175 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
20:16:44,175 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
20:16:44,175 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
20:16:44,175 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20161122</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>740_3_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


20:16:44,185 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:16:44,185 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
20:16:44,185 INFO common.XslCache(62) - conf file modified at (2016-11-22 19:36:37,250) and length=15351 bytes!
20:16:44,490 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
20:16:44,500 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

20:16:44,500 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:16:44,678 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>740_3_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20161122</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


20:16:44,678 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
20:16:44,678 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
20:16:44,688 INFO service.NewContInput(33) - Into NewContInput.service()...
20:16:44,688 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:16:44,698 INFO common.Log4jPrint(20) - 进程名：740
20:16:44,698 INFO common.Log4jPrint(20) - trancom:3
20:16:44,698 INFO common.Log4jPrint(20) - FuncFlag:201
20:16:44,698 INFO common.Log4jPrint(20) - mHeadEle.getChildText740_3_201_in.xml
20:16:44,718 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:16:44,718 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 740,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','740_3_201_in.xml',20161122,201644,20161122,201644 )
20:16:44,948 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:16:44,948 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=201324
20:16:45,029 INFO common.RuleXsl(155) - Into RuleXsl.load()...
20:16:45,029 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
20:16:45,029 INFO common.XslCache(62) - conf file modified at (2016-11-21 17:22:42,550) and length=15584 bytes!
20:16:45,082 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
20:16:45,082 INFO common.RuleXsl(179) - Out RuleXsl.load()!
20:16:45,082 INFO common.RuleXml(198) - Into RuleXml.load()...
20:16:45,082 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
20:16:45,082 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,753) and length=10207 bytes!
20:16:45,082 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
20:16:45,082 INFO common.RuleXml(215) - Out RuleXml.load()!
20:16:45,082 INFO common.RuleParser(49) - Into RuleParser.check()...
20:16:45,082 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:16:45,092 INFO common.Log4jPrint(20) - 对邮编进行校验
20:16:45,092 INFO common.Log4jPrint(20) - 对邮编进行校验
20:16:45,092 INFO common.Log4jPrint(20) - 返回的结果是:0
20:16:45,102 INFO common.Log4jPrint(20) - 对邮编进行校验
20:16:45,102 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:16:45,102 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:16:45,102 INFO common.RuleParser(62) - Out RuleParser.check()!
20:16:45,112 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
21:18:54,186 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@2182a70
21:18:54,186 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
21:18:54,186 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
21:18:54,186 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
21:18:54,202 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
21:18:54,202 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
21:18:54,202 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
21:18:54,202 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,751) and length=23579 bytes!
21:18:54,264 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
21:18:54,280 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
21:18:54,280 INFO common.Log4jPrint(20) - End reset System.out!
21:18:54,280 INFO net.SocketConf(27) - Into SocketConf.load()...
21:18:54,280 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
21:18:54,280 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,753) and length=671 bytes!
21:18:54,280 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
21:18:54,296 INFO net.SocketConf(60) - Out SocketConf.load()!
21:18:54,296 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
21:18:54,311 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35001; class=com.sinosoft.midplat.abc.AbcYbt
21:18:54,311 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
21:18:54,311 INFO net.SocketListenerF5$Server(140) - 监听端口 35001
21:18:54,311 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
21:18:54,327 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
21:18:54,327 INFO net.SocketListenerF5$Server(140) - 监听端口 35017
21:18:54,327 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
21:18:54,327 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
21:18:54,327 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
21:18:54,327 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
21:18:54,342 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
21:18:54,342 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
21:18:54,342 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
21:19:01,847 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
21:19:01,863 INFO boc.BocConf(22) - Into BocConf.load()...
21:19:01,863 INFO test.BOCSocketTest(114) - 请求报文长度：3684
21:19:01,863 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
21:19:01,863 INFO test.BOCSocketTest(121) - 发送请求报文！
21:19:01,863 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,748) and length=3586 bytes!
21:19:01,863 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
21:19:01,863 INFO test.BOCSocketTest(131) - 收到返回报文！
21:19:01,863 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
21:19:01,863 INFO boc.BocConf(47) - Out BocConf.load()!
21:19:01,878 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
21:19:01,894 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
21:19:02,394 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
21:19:02,456 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
21:19:02,503 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
21:19:02,519 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
21:19:02,519 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
21:19:02,519 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
21:19:02,534 INFO net.BocNetImpl(34) - 请求报文长度：3684
21:19:02,675 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
21:19:02,675 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
21:19:02,690 INFO common.SaveMessage(59) - 746_3_201_in.xml IO输出耗时:0.015s
21:19:02,690 INFO net.BocNetImpl(67) - 保存非标准报文完毕！746_3_201_in.xml
21:19:02,690 INFO net.BocNetImpl(70) - 交易标示201
21:19:02,690 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
21:19:02,690 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
21:19:02,690 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
21:19:02,690 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <BankCode>BOC</BankCode>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <Channel>1</Channel>
      <ApplyNo>100030000184206</ApplyNo>
      <!--申请顺序号(投保单号15位)-->
      <ApplyDate>20161122</ApplyDate>
      <BrName>中国银行北京石景山支行营业部</BrName>
      <BrCertID />
      <ManagerNo />
      <ManagerName />
      <SellTeller>4299029</SellTeller>
      <SellTellerName>张迎</SellTellerName>
      <SellCertID />
      <CertIDValidDate>00000000</CertIDValidDate>
   </Main>
   <Appnt>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <ResiType>0</ResiType>
      <FamilyIncome>0.00</FamilyIncome>
      <PremBudget>0.00</PremBudget>
      <WorkCompany />
      <RelaToInsured>01</RelaToInsured>
   </Appnt>
   <Insured>
      <Name>胡杰</Name>
      <Sex>0</Sex>
      <Birthday>19580208</Birthday>
      <IDType>01</IDType>
      <IDNo>110107195802080031</IDNo>
      <IDStartDate>20050529</IDStartDate>
      <IDEndDate>21001231</IDEndDate>
      <Marriage />
      <Nationality />
      <OfficePhone />
      <MobilePhone>18600283180</MobilePhone>
      <HomePhone>68528631</HomePhone>
      <MailAddr />
      <MailZipCode />
      <HomeAddr>北京市石景山区杨庄路8号院1栋2-401号</HomeAddr>
      <HomeZipCode>100043</HomeZipCode>
      <Email />
      <JobCode>990002</JobCode>
      <Income>40000.00</Income>
      <WorkCompany />
      <TellInfos>
         <Count>1</Count>
         <TellInfo>
            <Version>36</Version>
            <Code>001</Code>
            <Content>0.00</Content>
            <Remark />
         </TellInfo>
      </TellInfos>
   </Insured>
   <Objt>
      <InsuPropertyAddr />
      <InsuPropertyCode />
   </Objt>
   <Bnfs>
      <Indicator>Y</Indicator>
      <Count>0</Count>
   </Bnfs>
   <Invest>
      <Count>0</Count>
   </Invest>
   <Risks>
      <Count>1</Count>
      <Risk>
         <Code>6010</Code>
         <MainSubFlag>1</MainSubFlag>
         <Unit>0</Unit>
         <InsuAmount>0.00</InsuAmount>
         <Premium>300000.00</Premium>
         <PayEndYearFlag>01</PayEndYearFlag>
         <PayEndYear>0</PayEndYear>
         <InsuYearFlag>01</InsuYearFlag>
         <!--保障年期/年龄标志-->
         <InsuYear>5</InsuYear>
         <!--保障期间-->
      </Risk>
      <Appendix>
         <PayIntv>01</PayIntv>
         <GetYearFlag />
         <GetYear />
         <GetStartAge />
         <GetAccBankName />
         <GetAccName />
         <GetAcc />
         <PayAccBankName>中国银行</PayAccBankName>
         <PayAccName>胡杰</PayAccName>
         <PayAcc>318164102337</PayAcc>
         <PayMethod />
         <SendMethod>1</SendMethod>
         <HealthFlag>N</HealthFlag>
         <OccupationFlag />
         <SpecContent />
         <BonusPayMode />
         <BonusGetMode />
         <FullBonusGetMode />
         <AutoPayFlag />
         <SubFlag />
         <InvestDateInd />
         <AutoRenewFlag />
         <NorskPrem />
         <NorskAmt />
         <FirstRate />
         <SureRate />
         <DealType />
         <ArbitrationInst />
         <RiskAssess>Y</RiskAssess>
      </Appendix>
   </Risks>
   <Remark1>3CNY0</Remark1>
   <Remark2 />
   <Remark3 />
   <Remark4 />
   <BaseInfo>
      <BankCode>9006</BankCode>
      <ZoneNo>0010</ZoneNo>
      <BrNo />
      <TranNo>2016062807222537</TranNo>
      <FuncFlag>23</FuncFlag>
      <InsuID />
   </BaseInfo>
   <Head>
      <FuncFlag>201</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>746_3_201_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


21:19:02,690 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
21:19:02,690 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
21:19:02,690 INFO common.XslCache(62) - conf file modified at (2016-11-22 19:36:37,250) and length=15351 bytes!
21:19:02,987 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
21:19:03,002 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

21:19:03,002 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
21:19:03,144 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20160628</TranDate>
      <TranTime>123135</TranTime>
      <NodeNo>02116</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>2195172</TellerNo>
      <TranNo>2016062807222537</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>201</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>746_3_201_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000184206</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate>20161122</PolApplyDate>
      <AccNo>318164102337</AccNo>
      <AccName>胡杰</AccName>
      <GetPolMode>1</GetPolMode>
      <HealthNotice>N</HealthNotice>
      <SaleName>张迎</SaleName>
      <SaleStaff>4299029</SaleStaff>
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>4</YearSalary>
         <FamilyYearSalary>0</FamilyYearSalary>
         <RelaToInsured>00</RelaToInsured>
         <DenType>0</DenType>
      </Appnt>
      <Insured>
         <Name>胡杰</Name>
         <Sex>0</Sex>
         <Birthday>19580208</Birthday>
         <IDType>0</IDType>
         <IDNo>110107195802080031</IDNo>
         <IdExpDate>21001231</IdExpDate>
         <Nationality />
         <AddressContent>北京市石景山区杨庄路8号院1栋2-401号</AddressContent>
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address>北京市石景山区杨庄路8号院1栋2-401号</Address>
         <ZipCode>100043</ZipCode>
         <Phone>68528631</Phone>
         <Mobile>18600283180</Mobile>
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
      <Risk>
         <RiskCode>6010</RiskCode>
         <MainRiskCode>6010</MainRiskCode>
         <RiskName />
         <AgInsPkgID />
         <Amnt>0</Amnt>
         <Prem>30000000</Prem>
         <Mult>0</Mult>
         <PayMode>B</PayMode>
         <PayIntv>0</PayIntv>
         <PayEndYear>0</PayEndYear>
         <PayEndYearFlag>A</PayEndYearFlag>
         <GetIntv />
         <GetYearFlag />
         <BonusGetMode />
         <SubFlag />
         <GetYear />
         <InsuYearFlag>Y</InsuYearFlag>
         <InsuYear>5</InsuYear>
         <GetBankCode />
         <GetBankAccNo />
         <GetAccName />
         <AutoPayFlag />
      </Risk>
   </Body>
</TranData>


21:19:03,144 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
21:19:03,144 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
21:19:03,159 INFO service.NewContInput(33) - Into NewContInput.service()...
21:19:03,159 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
21:19:03,159 INFO common.Log4jPrint(20) - 进程名：746
21:19:03,159 INFO common.Log4jPrint(20) - trancom:3
21:19:03,159 INFO common.Log4jPrint(20) - FuncFlag:201
21:19:03,159 INFO common.Log4jPrint(20) - mHeadEle.getChildText746_3_201_in.xml
21:19:03,237 INFO common.Log4jPrint(20) - 进入更新后的InsPart
21:19:03,237 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 746,3,'0010','02116','2016062807222537','2195172',201,20160628,123135,'100030000184206',-1,-1,'127.0.0.1','746_3_201_in.xml',20161122,211903,20161122,211903 )
21:19:03,253 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
21:19:03,253 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000184206' and MakeDate>=20161122 and MakeTime>=211543
21:19:03,315 INFO common.RuleXsl(155) - Into RuleXsl.load()...
21:19:03,315 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
21:19:03,315 INFO common.XslCache(62) - conf file modified at (2016-11-21 17:22:42,550) and length=15584 bytes!
21:19:03,347 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
21:19:03,347 INFO common.RuleXsl(179) - Out RuleXsl.load()!
21:19:03,347 INFO common.RuleXml(198) - Into RuleXml.load()...
21:19:03,347 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
21:19:03,347 INFO common.XmlConf(62) - conf file modified at (2016-11-22 20:10:24,753) and length=10207 bytes!
21:19:03,347 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
21:19:03,347 INFO common.RuleXml(215) - Out RuleXml.load()!
21:19:03,347 INFO common.RuleParser(49) - Into RuleParser.check()...
21:19:03,362 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
21:19:03,362 INFO common.Log4jPrint(20) - 对邮编进行校验
21:19:03,362 INFO common.Log4jPrint(20) - 对邮编进行校验
21:19:03,362 INFO common.Log4jPrint(20) - 返回的结果是:0
21:19:03,362 INFO common.Log4jPrint(20) - 对邮编进行校验
21:19:03,362 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

21:19:03,362 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
21:19:03,362 INFO common.RuleParser(62) - Out RuleParser.check()!
21:19:03,378 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
21:19:03,378 INFO common.SaveMessage(59) - 746_6_0_inSvc.xml IO输出耗时:0.0s
21:19:03,378 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！746_6_0_inSvc.xml
21:19:03,393 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
21:19:03,393 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
21:19:03,643 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
21:19:04,719 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
21:19:04,783 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
21:19:04,783 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
21:19:04,783 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
21:19:04,783 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
21:19:04,783 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
21:19:04,783 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
21:19:04,814 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
21:19:04,814 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYwNjI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTIzMTM1PC9UcmFuVGltZT48Tm9kZU5vPjAyMTE2PC9Ob2RlTm8+PEJhbmtDb2RlPkJPQzwvQmFua0NvZGU+PFRlbGxlck5vPjIxOTUxNzI8L1RlbGxlck5vPjxUcmFuTm8+MjAxNjA2MjgwNzIyMjUzNzwvVHJhbk5vPjxab25lTm8+MDAxMDwvWm9uZU5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjM8L1RyYW5Db20+PEZ1bmNGbGFnPjIwMTwvRnVuY0ZsYWc+PEFnZW50Q29tIC8+PEFnZW50Q29kZSAvPjxJbk5vRG9jPjc0Nl8zXzIwMV9pbi54bWw8L0luTm9Eb2M+PFNlcnZpY2VJZD4wPC9TZXJ2aWNlSWQ+PC9IZWFkPjxCb2R5PjxTYWxlQ2hhbm5lbD4wPC9TYWxlQ2hhbm5lbD48UHJvcG9zYWxQcnRObz4xMDAwMzAwMDAxODQyMDY8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjExMjI8L1BvbEFwcGx5RGF0ZT48QWNjTm8+MzE4MTY0MTAyMzM3PC9BY2NObz48QWNjTmFtZT66+r3cPC9BY2NOYW1lPjxHZXRQb2xNb2RlPjE8L0dldFBvbE1vZGU+PEhlYWx0aE5vdGljZT5OPC9IZWFsdGhOb3RpY2U+PFNhbGVOYW1lPtXF0608L1NhbGVOYW1lPjxTYWxlU3RhZmY+NDI5OTAyOTwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vIC8+PEx2MUJyTm8gLz48QXBwbnQ+PE5hbWU+uvq93DwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk1ODAyMDg8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjExMDEwNzE5NTgwMjA4MDAzMTwvSURObz48SWRFeHBEYXRlPjIxMDAxMjMxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5IC8+PEFkZHJlc3NDb250ZW50PrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObyAvPjxNb2JpbGVJdGxEc3RjTm8gLz48TmF0aW9uYWxpdHlDb2RlIC8+PEFkZHJlc3M+sbG+qcrQyq++sMm9x/jR7tevwrc4usXUujG2sDItNDAxusU8L0FkZHJlc3M+PFppcENvZGU+MTAwMDQzPC9aaXBDb2RlPjxQaG9uZT42ODUyODYzMTwvUGhvbmU+PE1vYmlsZT4xODYwMDI4MzE4MDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+NDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxEZW5UeXBlPjA8L0RlblR5cGU+PC9BcHBudD48SW5zdXJlZD48TmFtZT66+r3cPC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTU4MDIwODwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MTEwMTA3MTk1ODAyMDgwMD"
21:19:04,814 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
21:19:04,814 DEBUG httpclient.Wire(70) - >> "4f5[\r][\n]"
21:19:04,814 DEBUG httpclient.Wire(84) - >> "MxPC9JRE5vPjxJZEV4cERhdGU+MjEwMDEyMzE8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHkgLz48QWRkcmVzc0NvbnRlbnQ+sbG+qcrQyq++sMm9x/jR7tevwrc4usXUujG2sDItNDAxusU8L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vIC8+PE1vYmlsZUl0bERzdGNObyAvPjxOYXRpb25hbGl0eUNvZGU+MDE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzPrGxvqnK0MqvvrDJvcf40e7Xr8K3OLrF1LoxtrAyLTQwMbrFPC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA0MzwvWmlwQ29kZT48UGhvbmU+Njg1Mjg2MzE8L1Bob25lPjxNb2JpbGU+MTg2MDAyODMxODA8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxSY2duWXJJbmNtQW0gLz48Q292U3VtQW10IC8+PFJpc2tBc3Nlc3NtZW50UmVzdWx0IC8+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZSAvPjxQcmVtaXVtQnVkZ2V0IC8+PC9JbnN1cmVkPjxSaXNrPjxSaXNrQ29kZT42MDEwPC9SaXNrQ29kZT48TWFpblJpc2tDb2RlPjYwMTA8L01haW5SaXNrQ29kZT48Umlza05hbWUgLz48QWdJbnNQa2dJRCAvPjxBbW50PjA8L0FtbnQ+PFByZW0+MzAwMDAwMDA8L1ByZW0+PE11bHQ+MDwvTXVsdD48UGF5TW9kZT5CPC9QYXlNb2RlPjxQYXlJbnR2PjA8L1BheUludHY+PFBheUVuZFllYXI+MDwvUGF5RW5kWWVhcj48UGF5RW5kWWVhckZsYWc+QTwvUGF5RW5kWWVhckZsYWc+PEdldEludHYgLz48R2V0WWVhckZsYWcgLz48Qm9udXNHZXRNb2RlIC8+PFN1YkZsYWcgLz48R2V0WWVhciAvPjxJbnN1WWVhckZsYWc+WTwvSW5zdVllYXJGbGFnPjxJbnN1WWVhcj41PC9JbnN1WWVhcj48R2V0QmFua0NvZGUgLz48R2V0QmFua0FjY05vIC8+PEdldEFjY05hbWUgLz48QXV0b1BheUZsYWcgLz48L1Jpc2s+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
21:19:04,814 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
21:19:04,814 DEBUG httpclient.Wire(84) - >> "0"
21:19:04,814 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
21:19:04,814 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
21:19:06,998 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
21:19:06,998 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
21:19:06,998 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
21:19:06,998 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
21:19:06,998 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
21:19:06,998 DEBUG httpclient.Wire(70) - << "Date: Tue, 22 Nov 2016 13:19:21 GMT[\r][\n]"
21:19:06,998 DEBUG httpclient.Wire(70) - << "[\r][\n]"
21:19:07,014 DEBUG httpclient.Wire(84) - << "1"
21:19:07,014 DEBUG httpclient.Wire(84) - << "d"
21:19:07,014 DEBUG httpclient.Wire(84) - << "b"
21:19:07,014 DEBUG httpclient.Wire(84) - << "[\r]"
21:19:07,014 DEBUG httpclient.Wire(70) - << "[\n]"
21:19:07,029 DEBUG httpclient.Wire(84) - << "<?xm"
21:19:07,030 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
21:19:07,046 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+QWdlbnRDb23U2rG+z7XNs9bQsru05tTaPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
21:19:07,046 INFO net.CallWebsvcAtomSvc(109) - 投保单号100030000184206录单核保(service)耗时：3.653s
21:19:07,046 INFO common.SaveMessage(59) - 746_9_0_outSvc.xml IO输出耗时:0.0s
21:19:07,046 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！746_9_0_outSvc.xml
21:19:07,046 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
21:19:07,046 INFO common.Log4jPrint(20) - -----------------------------------------------
21:19:07,046 INFO service.NewContInput(105) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
21:19:07,046 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: AgentCom在本系统中不存在
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:112)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
21:19:07,077 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:19:07,077 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:19:07,077 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=746,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=3,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='746_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=211903,ModifyDate=20161122,ModifyTime=211907,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=746
21:19:07,093 INFO service.NewContInput(200) - Out NewContInput.service()!
21:19:07,093 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
21:19:07,093 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>AgentCom在本系统中不存在</Desc>
   </Head>
</TranData>


21:19:07,093 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
21:19:07,093 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl...
21:19:07,093 INFO common.XslCache(62) - conf file modified at (2016-11-22 18:05:04,002) and length=1114 bytes!
21:19:07,108 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl!
21:19:07,108 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><InsuReq><!-- 中国银行保费试算响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo><ApplyNo><xsl:value-of select="Body/ContNo" /></ApplyNo><Premium><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></Premium></Main></InsuReq></xsl:template></xsl:stylesheet>

21:19:07,108 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
21:19:07,108 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161122</TranDate>
      <TranTime>211907</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>02116</BrNo>
      <TellerNo>2195172</TellerNo>
      <TransNo>2016062807222537</TransNo>
      <TranCode>1001</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>AgentCom在本系统中不存在</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


21:19:07,108 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
21:19:07,108 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
21:19:07,108 INFO common.SaveMessage(59) - 2016062807222537_1001_211907.xml IO输出耗时:0.0s
21:19:07,108 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807222537_1001_211907.xml
21:19:07,108 INFO net.BocNetImpl(119) - 返回报文长度：376
21:19:07,108 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
21:19:07,108 INFO test.BOCSocketTest(143) - 返回报文长度：3
21:19:07,108 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：5.245s
21:19:07,139 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:19:07,139 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=746
21:19:07,156 INFO common.Log4jPrint(20) - -------------------------
21:19:07,156 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
21:19:07,156 INFO common.Log4jPrint(20) - -------------------------
21:19:07,172 INFO common.Log4jPrint(20) - i=1
21:19:07,203 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:19:07,203 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:19:07,203 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=746,TranCom=3,ZoneNo='0010',NodeNo='02116',TranNo='2016062807222537',Operator='2195172',FuncFlag=201,TranDate=20160628,TranTime=123135,ProposalPrtNo='100030000184206',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='AgentCom在本系统中不存在',UsedTime=3,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='4.653',Bak4=null,Bak5=null,InNoDoc='746_3_201_in.xml',MakeDate=20161122,InDoc=null,OutDoc=null,MakeTime=211903,ModifyDate=20161122,ModifyTime=211907,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='746_3_201_in.xml' where LogNo=746
21:19:07,234 INFO midplat.Ybt4Socket(170) - 处理总耗时：4.715s
21:19:07,234 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
21:19:07,234 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
