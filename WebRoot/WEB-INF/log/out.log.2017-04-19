09:00:37,796 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@1276ff65
09:00:37,863 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:00:37,899 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
09:00:37,899 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
09:00:37,915 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:00:37,915 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
09:00:37,915 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
09:00:37,962 INFO common.XmlConf(80) - conf file modified at (2017-04-18 18:37:13,462) and length=24373 bytes!
09:00:38,262 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
09:00:38,300 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:00:38,331 INFO common.Log4jPrint(20) - End reset System.out!
09:00:38,347 INFO net.SocketConf(27) - Into SocketConf.load()...
09:00:38,347 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
09:00:38,347 INFO common.XmlConf(80) - conf file modified at (2017-04-18 18:37:13,486) and length=708 bytes!
09:00:38,363 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
09:00:38,363 INFO net.SocketConf(60) - Out SocketConf.load()!
09:00:38,462 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:00:38,478 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
09:00:38,532 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
09:00:38,532 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
09:00:38,532 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
09:00:38,547 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
09:00:38,547 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
09:00:38,547 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
09:00:38,547 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
09:00:38,547 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:00:38,547 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
09:00:38,579 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
09:00:38,579 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:00:38,579 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:00:38,601 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
09:00:38,601 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:00:38,601 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
09:01:08,882 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
09:01:08,882 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
09:01:08,885 INFO common.XmlConf(80) - conf file modified at (2017-04-18 18:37:13,488) and length=1938 bytes!
09:01:08,902 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
09:01:08,918 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

09:01:08,918 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
09:01:08,918 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
09:01:08,933 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
09:01:09,499 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
09:01:09,530 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
09:01:09,530 INFO midplat.Ybt4Socket(34) - TranLogNo:132384
09:01:09,530 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:01:09,584 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:01:09,584 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:01:09,584 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:01:09,600 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:01:09,600 DEBUG net.SpdbNetImpl(38) - 报文长度：3068
09:01:09,631 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:01:09,649 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:01:09,684 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:01:09,715 DEBUG common.SaveMessage(23) - SavePath_HOME = null
09:01:09,715 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
09:01:09,715 INFO common.SaveMessage(94) - 132387_3_null_out.xml IO输出耗时:0.0s
09:01:09,715 INFO net.SpdbNetImpl(130) - 保存报文完毕！132387_3_null_out.xml
09:01:09,715 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:01:09,715 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:01:09,715 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.send(SpdbNetImpl.java:153)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
09:01:09,816 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:01:09,816 INFO common.Log4jPrint(20) - null
09:01:09,816 INFO common.Log4jPrint(20) - null
09:01:09,816 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:01:09,816 INFO common.Log4jPrint(20) - i=0
09:01:09,853 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:01:09,869 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.285s
09:01:09,869 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:03:34,989 INFO midplat.Ybt4Socket(34) - TranLogNo:132390
09:03:34,989 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:03:34,989 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:03:34,990 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:03:34,992 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:03:34,996 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:03:34,996 DEBUG net.SpdbNetImpl(38) - 报文长度：3068
09:03:35,004 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:03:35,006 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:03:35,007 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:03:35,010 INFO common.SaveMessage(94) - 132393_6_null_out.xml IO输出耗时:0.0030s
09:03:35,011 INFO net.SpdbNetImpl(130) - 保存报文完毕！132393_6_null_out.xml
09:03:35,011 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:03:35,011 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:03:35,012 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.send(SpdbNetImpl.java:153)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
09:03:35,018 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:03:35,019 INFO common.Log4jPrint(20) - null
09:03:35,019 INFO common.Log4jPrint(20) - null
09:03:35,019 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:03:35,027 INFO common.Log4jPrint(20) - i=0
09:03:35,027 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:03:35,028 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.038s
09:03:35,028 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:10:06,888 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
09:10:06,988 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:10:07,022 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:10:07,023 DEBUG common.SysInfo(33) - BasePath = /D:/Software/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:10:07,025 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:10:07,025 DEBUG common.SysInfo(68) - Home = /D:/Software/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:10:07,025 INFO midplat.MidplatConf(35) - Start load /D:/Software/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:10:07,072 INFO common.XmlConf(80) - conf file modified at (2017-04-18 08:59:32,917) and length=24373 bytes!
09:10:07,297 INFO midplat.MidplatConf(51) - End load /D:/Software/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:10:07,358 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:10:07,359 INFO common.Log4jPrint(20) - End reset System.out!
09:10:07,364 INFO net.SocketConf(27) - Into SocketConf.load()...
09:10:07,365 INFO net.SocketConf(30) - Start load /D:/Software/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:10:07,366 INFO common.XmlConf(80) - conf file modified at (2017-04-18 08:59:33,001) and length=708 bytes!
09:10:07,375 INFO net.SocketConf(46) - End load /D:/Software/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:10:07,377 INFO net.SocketConf(60) - Out SocketConf.load()!
09:10:07,454 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:10:07,455 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
09:10:07,581 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
09:10:07,582 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
09:10:07,583 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
09:10:07,615 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
09:10:07,616 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
09:10:07,618 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
09:10:07,662 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
09:10:07,662 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:10:07,666 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
09:10:07,720 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
09:10:07,720 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:10:07,721 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:10:07,771 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
09:10:07,772 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:10:07,785 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
09:10:15,284 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:10:15,292 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
09:10:15,292 INFO spdb.SpdbConf(28) - Start load /D:/Software/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/spdb.xml...
09:10:15,305 INFO common.XmlConf(80) - conf file modified at (2017-04-18 08:59:33,017) and length=1938 bytes!
09:10:15,306 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:10:15,306 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
09:10:15,306 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:10:15,306 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.014s
09:10:15,306 INFO test.SPDBTestUI(104) - 收到返回报文！
09:10:15,322 INFO spdb.SpdbConf(44) - End load /D:/Software/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/spdb.xml!
09:10:15,384 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

09:10:15,384 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
09:10:15,461 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
09:10:15,546 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
09:10:16,681 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
09:10:16,732 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
09:10:16,797 INFO midplat.Ybt4Socket(34) - TranLogNo:132384
09:10:16,797 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:10:16,866 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:10:16,866 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:10:16,866 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:10:16,882 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:10:16,882 DEBUG net.SpdbNetImpl(38) - 报文长度：3068
09:10:16,913 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:10:16,929 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:10:17,029 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:10:17,082 DEBUG common.SaveMessage(23) - SavePath_HOME = null
09:10:17,082 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:10:17,098 INFO common.SaveMessage(94) - 132387_3_null_out.xml IO输出耗时:0.016s
09:10:17,098 INFO net.SpdbNetImpl(130) - 保存报文完毕！132387_3_null_out.xml
09:10:17,098 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:10:17,098 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:10:17,098 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.send(SpdbNetImpl.java:153)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
09:10:17,329 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:10:17,329 INFO common.Log4jPrint(20) - null
09:10:17,329 INFO common.Log4jPrint(20) - null
09:10:17,329 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:10:17,370 INFO common.Log4jPrint(20) - i=0
09:10:17,398 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:10:17,398 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.532s
09:10:17,398 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:15:59,949 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:15:59,964 INFO midplat.Ybt4Socket(34) - TranLogNo:132390
09:15:59,964 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:15:59,971 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:15:59,973 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:15:59,973 INFO test.SPDBTestUI(86) - 请求报文体长度：3118    
09:15:59,973 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003118    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>榛</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>涓</COUNTRY_CODE>
            <ADDR>涓娴峰娴涓板洪涓浜璺?18寮??03</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>榛</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>涓</COUNTRY_CODE>
            <ADDR>涓娴峰娴涓板洪涓浜璺?18寮??03</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:15:59,973 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:15:59,973 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0090s
09:15:59,973 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:15:59,973 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:15:59,973 INFO test.SPDBTestUI(104) - 收到返回报文！
09:15:59,973 DEBUG net.SpdbNetImpl(38) - 报文长度：3102
09:15:59,973 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:15:59,988 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:15:59,988 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:15:59,988 INFO common.SaveMessage(94) - 132393_6_null_out.xml IO输出耗时:0.0s
09:15:59,988 INFO net.SpdbNetImpl(130) - 保存报文完毕！132393_6_null_out.xml
09:15:59,988 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:15:59,988 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:15:59,988 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.send(SpdbNetImpl.java:153)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
09:16:00,045 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:16:00,045 INFO common.Log4jPrint(20) - null
09:16:00,045 INFO common.Log4jPrint(20) - null
09:16:00,046 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:16:00,080 INFO common.Log4jPrint(20) - i=0
09:16:00,080 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:16:00,080 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.107s
09:16:00,080 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:17:44,890 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@7129a843
09:17:44,937 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:17:44,943 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
09:17:44,943 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
09:17:44,943 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:17:44,943 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
09:17:44,943 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
09:17:44,974 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:16:27,473) and length=24373 bytes!
09:17:45,090 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
09:17:45,090 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:17:45,121 INFO common.Log4jPrint(20) - End reset System.out!
09:17:45,121 INFO net.SocketConf(27) - Into SocketConf.load()...
09:17:45,121 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
09:17:45,121 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:16:27,494) and length=708 bytes!
09:17:45,121 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
09:17:45,121 INFO net.SocketConf(60) - Out SocketConf.load()!
09:17:45,143 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:17:45,175 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
09:17:45,206 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
09:17:45,206 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
09:17:45,206 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
09:17:45,206 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
09:17:45,206 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
09:17:45,206 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
09:17:45,221 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
09:17:45,221 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
09:17:45,221 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:17:45,242 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
09:17:45,242 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:17:45,243 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:17:45,244 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
09:17:45,244 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:17:45,244 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
09:17:46,293 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
09:17:46,293 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
09:17:46,309 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@30317bdd
09:17:46,310 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
09:17:46,310 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
09:17:46,310 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
09:17:46,310 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
09:17:46,310 INFO common.Log4jPrint(20) - Start revert System.out...
09:17:46,310 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
09:17:46,310 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
09:17:47,048 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@7129a843
09:17:47,064 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:17:47,064 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
09:17:47,064 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
09:17:47,064 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:17:47,064 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
09:17:47,064 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
09:17:47,064 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:16:27,473) and length=24373 bytes!
09:17:47,110 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
09:17:47,110 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:17:47,110 INFO common.Log4jPrint(20) - End reset System.out!
09:17:47,126 INFO net.SocketConf(27) - Into SocketConf.load()...
09:17:47,126 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
09:17:47,126 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:16:27,494) and length=708 bytes!
09:17:47,126 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
09:17:47,126 INFO net.SocketConf(60) - Out SocketConf.load()!
09:17:47,148 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:17:47,148 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
09:17:47,148 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
09:17:47,148 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
09:17:47,148 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
09:17:47,148 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
09:17:47,148 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
09:17:47,148 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
09:17:47,148 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
09:17:47,148 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
09:17:47,148 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:17:47,164 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
09:17:47,164 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:17:47,164 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:17:47,164 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
09:17:47,164 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
09:17:47,164 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:19:14,709 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:19:14,732 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:19:14,732 INFO test.SPDBTestUI(86) - 请求报文体长度：3118    
09:19:14,732 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003118    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>榛</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>涓</COUNTRY_CODE>
            <ADDR>涓娴峰娴涓板洪涓浜璺?18寮??03</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>榛</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>涓</COUNTRY_CODE>
            <ADDR>涓娴峰娴涓板洪涓浜璺?18寮??03</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:19:14,732 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0s
09:19:14,732 INFO test.SPDBTestUI(104) - 收到返回报文！
09:19:14,794 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
09:19:14,794 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
09:19:14,805 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:16:27,506) and length=1938 bytes!
09:19:14,807 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
09:19:14,807 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

09:19:14,807 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
09:19:14,828 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
09:19:14,832 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
09:19:15,095 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
09:19:15,110 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
09:19:15,132 INFO midplat.Ybt4Socket(34) - TranLogNo:132384
09:19:15,132 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:19:15,163 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:19:15,163 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:19:15,163 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:19:15,179 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:19:15,179 DEBUG net.SpdbNetImpl(38) - 报文长度：3102
09:19:15,195 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:19:15,195 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:19:15,232 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:19:15,264 DEBUG common.SaveMessage(23) - SavePath_HOME = null
09:19:15,264 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
09:19:15,264 INFO common.SaveMessage(94) - 132387_3_null_out.xml IO输出耗时:0.0s
09:19:15,264 INFO net.SpdbNetImpl(130) - 保存报文完毕！132387_3_null_out.xml
09:19:15,264 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:19:15,264 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:19:15,264 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.send(SpdbNetImpl.java:153)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
09:19:15,380 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:19:15,380 INFO common.Log4jPrint(20) - null
09:19:15,380 INFO common.Log4jPrint(20) - null
09:19:15,380 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:19:15,395 INFO common.Log4jPrint(20) - i=0
09:19:15,395 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:19:15,395 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.232s
09:19:15,395 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:23:17,727 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:23:17,742 INFO midplat.Ybt4Socket(34) - TranLogNo:132390
09:23:17,742 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:23:17,749 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:23:17,749 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:23:17,749 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
09:23:17,750 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:23:17,751 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:23:17,750 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:23:17,754 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:23:17,754 DEBUG net.SpdbNetImpl(38) - 报文长度：3068
09:23:17,756 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.012s
09:23:17,758 INFO test.SPDBTestUI(104) - 收到返回报文！
09:23:17,764 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:23:17,764 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:23:17,764 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:23:17,764 INFO common.SaveMessage(94) - 132393_6_null_out.xml IO输出耗时:0.0s
09:23:17,764 INFO net.SpdbNetImpl(130) - 保存报文完毕！132393_6_null_out.xml
09:23:17,764 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:23:17,764 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:23:17,764 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.send(SpdbNetImpl.java:153)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
09:23:17,780 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:23:17,780 INFO common.Log4jPrint(20) - null
09:23:17,780 INFO common.Log4jPrint(20) - null
09:23:17,780 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:23:17,780 INFO common.Log4jPrint(20) - i=0
09:23:17,780 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:23:17,780 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.03s
09:23:17,780 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:25:17,301 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:25:17,316 INFO midplat.Ybt4Socket(34) - TranLogNo:132396
09:25:17,316 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:25:17,320 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:25:17,321 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:25:17,322 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
09:25:17,322 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:25:17,322 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:25:17,322 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:25:17,322 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:25:17,322 DEBUG net.SpdbNetImpl(38) - 报文长度：3068
09:25:17,322 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0060s
09:25:17,322 INFO test.SPDBTestUI(104) - 收到返回报文！
09:27:32,162 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:27:32,162 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:27:32,167 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:27:32,192 INFO common.SaveMessage(94) - 132399_9_null_out.xml IO输出耗时:0.0010s
09:27:32,193 INFO net.SpdbNetImpl(130) - 保存报文完毕！132399_9_null_out.xml
09:27:32,193 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:27:32,194 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:27:32,196 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.send(SpdbNetImpl.java:153)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
09:27:32,200 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:27:32,200 INFO common.Log4jPrint(20) - null
09:27:32,200 INFO common.Log4jPrint(20) - null
09:27:32,200 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:27:32,231 INFO common.Log4jPrint(20) - i=0
09:27:32,231 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:27:32,231 INFO midplat.Ybt4Socket(192) - 处理总耗时：134.909s
09:27:32,231 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:27:47,708 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:27:47,725 INFO midplat.Ybt4Socket(34) - TranLogNo:132402
09:27:47,726 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:27:47,727 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:27:47,727 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:27:47,727 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
09:27:47,730 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:27:47,729 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:27:47,731 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:27:47,733 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:27:47,734 DEBUG net.SpdbNetImpl(38) - 报文长度：3068
09:27:47,737 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0090s
09:27:47,739 INFO test.SPDBTestUI(104) - 收到返回报文！
09:27:51,125 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:27:51,141 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:27:51,141 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:27:51,141 INFO common.SaveMessage(94) - 132405_12_null_out.xml IO输出耗时:0.0s
09:27:51,151 INFO net.SpdbNetImpl(130) - 保存报文完毕！132405_12_null_out.xml
09:27:51,151 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:27:51,151 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:27:51,151 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
09:27:51,151 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
09:27:51,153 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
09:27:51,155 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:27:51,155 INFO common.Log4jPrint(20) - null
09:27:51,155 INFO common.Log4jPrint(20) - null
09:27:51,155 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:27:51,155 INFO common.Log4jPrint(20) - i=0
09:27:51,155 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:27:51,155 INFO midplat.Ybt4Socket(192) - 处理总耗时：3.425s
09:27:51,155 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:29:12,094 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:29:12,098 INFO midplat.Ybt4Socket(34) - TranLogNo:132408
09:29:12,098 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:29:12,111 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:29:12,112 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:29:12,112 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
09:29:12,113 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:29:12,113 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:29:12,113 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:29:12,113 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:29:12,113 DEBUG net.SpdbNetImpl(38) - 报文长度：3068
09:29:12,113 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.015s
09:29:12,113 INFO test.SPDBTestUI(104) - 收到返回报文！
09:31:17,878 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:31:49,978 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:31:49,978 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:31:49,985 INFO common.SaveMessage(94) - 132411_15_null_out.xml IO输出耗时:0.0020s
09:31:49,985 INFO net.SpdbNetImpl(130) - 保存报文完毕！132411_15_null_out.xml
09:31:49,985 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:31:49,985 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:31:49,985 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
09:31:49,985 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
09:31:49,988 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
09:31:49,990 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:31:49,990 INFO common.Log4jPrint(20) - null
09:31:49,990 INFO common.Log4jPrint(20) - null
09:31:49,990 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:31:50,006 INFO common.Log4jPrint(20) - i=0
09:31:50,007 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:31:50,008 INFO midplat.Ybt4Socket(192) - 处理总耗时：157.895s
09:31:50,008 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:32:02,951 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:32:02,967 INFO midplat.Ybt4Socket(34) - TranLogNo:132414
09:32:02,968 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:32:02,968 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:32:02,968 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:32:02,970 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
09:32:02,973 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:32:02,974 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:32:02,971 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:32:02,975 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:32:02,976 DEBUG net.SpdbNetImpl(38) - 报文长度：3068
09:32:02,977 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0080s
09:32:02,979 INFO test.SPDBTestUI(104) - 收到返回报文！
09:32:21,668 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:47)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:32:54,076 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:32:54,077 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:32:54,110 INFO common.SaveMessage(94) - 132417_18_null_out.xml IO输出耗时:0.032s
09:32:54,110 INFO net.SpdbNetImpl(130) - 保存报文完毕！132417_18_null_out.xml
09:32:54,110 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:32:54,110 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:32:54,110 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
09:32:54,110 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
09:32:54,113 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
09:32:54,116 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:32:54,116 INFO common.Log4jPrint(20) - null
09:32:54,116 INFO common.Log4jPrint(20) - null
09:32:54,116 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:32:54,116 INFO common.Log4jPrint(20) - i=0
09:32:54,116 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:32:54,116 INFO midplat.Ybt4Socket(192) - 处理总耗时：51.143s
09:32:54,116 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:34:59,557 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:35:20,021 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@45f46feb
09:35:20,073 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:35:20,073 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
09:35:20,073 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
09:35:20,073 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:35:20,073 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
09:35:20,073 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
09:35:20,073 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:16:27,473) and length=24373 bytes!
09:35:20,137 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
09:35:20,152 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:35:20,152 INFO common.Log4jPrint(20) - End reset System.out!
09:35:20,152 INFO net.SocketConf(27) - Into SocketConf.load()...
09:35:20,152 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
09:35:20,152 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:16:27,494) and length=708 bytes!
09:35:20,152 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
09:35:20,168 INFO net.SocketConf(60) - Out SocketConf.load()!
09:35:20,190 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:35:20,190 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
09:35:20,190 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
09:35:20,190 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
09:35:20,190 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
09:35:20,190 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
09:35:20,206 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
09:35:20,206 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
09:35:20,206 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
09:35:20,206 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
09:35:20,206 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:35:20,221 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
09:35:20,221 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:35:20,221 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:35:20,221 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
09:35:20,221 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:35:20,221 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
09:37:04,190 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:37:04,205 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:37:04,205 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
09:37:04,205 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
09:37:04,214 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
09:37:04,214 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:16:27,506) and length=1938 bytes!
09:37:04,205 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:37:04,216 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.011s
09:37:04,216 INFO test.SPDBTestUI(104) - 收到返回报文！
09:37:04,216 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
09:37:04,232 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

09:37:04,232 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
09:37:04,232 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
09:37:04,232 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
09:37:04,488 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
09:37:04,490 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
09:37:04,521 INFO midplat.Ybt4Socket(34) - TranLogNo:132384
09:37:04,521 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:37:04,521 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:37:04,537 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:37:04,537 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:37:04,537 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:37:04,537 DEBUG net.SpdbNetImpl(38) - 报文长度：3068
09:39:56,345 DEBUG common.SaveMessage(23) - SavePath_HOME = null
09:39:56,358 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
09:39:56,373 INFO common.SaveMessage(94) - 132387_3_1001_in.xml IO输出耗时:0.015s
09:39:57,563 INFO net.SpdbNetImpl(84) - 保存报文完毕！132387_3_1001_in.xml
09:39:59,437 INFO net.SpdbNetImpl(88) - 交易标示1001
09:40:03,230 INFO common.Log4jPrint(20) - InNoDoc132387_3_1001_in.xml
09:40:05,011 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
09:40:29,249 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
09:40:36,135 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
09:40:36,219 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
09:40:36,219 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
09:40:36,219 INFO common.XslCache(70) - conf file modified at (2017-04-18 17:11:47,243) and length=25270 bytes!
09:40:36,765 ERROR common.XslCache(37) - 路径有误，未找到指定文件！
org.jdom.transform.XSLTransformException: Could not construct XSLTransformer: “.=02 OR 03 OR 04”中的语法错误。
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:137)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.<init>(NewContInXsl.java:21)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.<clinit>(NewContInXsl.java:16)
	at com.sinosoft.midplat.spdb.format.NewCont.noStd2Std(NewCont.java:18)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:137)
Caused by: javax.xml.transform.TransformerConfigurationException: “.=02 OR 03 OR 04”中的语法错误。
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:865)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	... 7 more
Caused by: 
javax.xml.transform.TransformerConfigurationException: “.=02 OR 03 OR 04”中的语法错误。
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:865)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.<init>(NewContInXsl.java:21)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.<clinit>(NewContInXsl.java:16)
	at com.sinosoft.midplat.spdb.format.NewCont.noStd2Std(NewCont.java:18)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:137)
09:40:36,804 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
09:40:36,983 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><xsl:variable name="Intv" select="CRG_T" /><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="Intv" /></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type><xsl:value-of select="" /></Type><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="Intv" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 OR 03 OR 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

09:40:37,021 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
09:41:02,039 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.format.NewCont.noStd2Std(NewCont.java:18)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:137)
09:41:02,039 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:41:02,050 INFO common.SaveMessage(94) - 132387_6_1001_out.xml IO输出耗时:0.0020s
09:41:02,051 INFO net.SpdbNetImpl(130) - 保存报文完毕！132387_6_1001_out.xml
09:41:02,051 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:41:02,051 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:41:02,052 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
09:41:02,052 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
09:41:02,053 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
09:41:02,061 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:41:02,061 INFO common.Log4jPrint(20) - null
09:41:02,061 INFO common.Log4jPrint(20) - null
09:41:02,061 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:41:02,077 INFO common.Log4jPrint(20) - i=0
09:41:02,077 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:41:02,077 INFO midplat.Ybt4Socket(192) - 处理总耗时：237.54s
09:41:02,077 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:42:20,227 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
09:42:20,227 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
09:42:20,228 INFO common.XslCache(70) - conf file modified at (2017-04-19 09:42:10,571) and length=25276 bytes!
09:42:20,260 ERROR common.XslCache(37) - 路径有误，未找到指定文件！
org.jdom.transform.XSLTransformException: Could not construct XSLTransformer: line 250: 缺少必需的属性“select”。
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:137)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.common.cache.FileCacheManage.run(FileCacheManage.java:60)
Caused by: javax.xml.transform.TransformerConfigurationException: line 250: 缺少必需的属性“select”。
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:865)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	... 4 more
Caused by: 
javax.xml.transform.TransformerConfigurationException: line 250: 缺少必需的属性“select”。
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:865)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.common.cache.FileCacheManage.run(FileCacheManage.java:60)
09:42:20,267 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
09:42:20,295 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><xsl:variable name="Intv" select="CRG_T" /><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="Intv" /></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type><xsl:value-of select="" /></Type><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="Intv" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or  .=03 or  .=04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

09:42:20,295 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
09:42:55,905 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:42:55,919 INFO midplat.Ybt4Socket(34) - TranLogNo:132390
09:42:55,920 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:42:55,921 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
穸丝冢9003
09:42:55,922 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:42:55,922 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:42:55,921 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:42:55,926 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:42:55,926 DEBUG net.SpdbNetImpl(38) - 报文长度：3068
09:42:55,927 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0070s
09:42:55,930 INFO test.SPDBTestUI(104) - 收到返回报文！
09:43:20,311 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
09:43:20,311 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
09:43:20,312 INFO common.XslCache(70) - conf file modified at (2017-04-19 09:42:25,293) and length=25270 bytes!
09:43:20,348 ERROR common.XslCache(37) - 路径有误，未找到指定文件！
org.jdom.transform.XSLTransformException: Could not construct XSLTransformer: line 250: 缺少必需的属性“select”。
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:137)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.common.cache.FileCacheManage.run(FileCacheManage.java:60)
Caused by: javax.xml.transform.TransformerConfigurationException: line 250: 缺少必需的属性“select”。
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:865)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	... 4 more
Caused by: 
javax.xml.transform.TransformerConfigurationException: line 250: 缺少必需的属性“select”。
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:865)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.common.cache.FileCacheManage.run(FileCacheManage.java:60)
09:43:20,350 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
09:43:20,368 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><xsl:variable name="Intv" select="CRG_T" /><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="Intv" /></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type><xsl:value-of select="" /></Type><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="Intv" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

09:43:20,368 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
09:44:32,749 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:44:32,749 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NumberFormatException: For input string: "rsion="1"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:449)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:36)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:44:32,749 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:44:32,792 INFO common.SaveMessage(94) - 132393_9_null_out.xml IO输出耗时:0.033s
09:44:32,792 INFO net.SpdbNetImpl(130) - 保存报文完毕！132393_9_null_out.xml
09:44:32,792 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:44:32,792 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:44:32,792 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
09:44:32,792 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
09:44:32,797 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
09:44:32,799 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:44:32,799 INFO common.Log4jPrint(20) - null
09:44:32,799 INFO common.Log4jPrint(20) - null
09:44:32,799 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:44:32,799 INFO common.Log4jPrint(20) - i=0
09:44:32,799 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:44:32,799 INFO midplat.Ybt4Socket(192) - 处理总耗时：96.877s
09:44:32,799 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:46:08,192 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:46:08,209 INFO midplat.Ybt4Socket(34) - TranLogNo:132396
09:46:08,210 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:46:08,210 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:46:08,210 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:46:08,211 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:46:08,211 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
09:46:08,212 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:46:08,213 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:46:08,216 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:46:08,217 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
09:46:08,218 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0070s
09:46:08,220 INFO test.SPDBTestUI(104) - 收到返回报文！
09:46:10,819 INFO common.SaveMessage(94) - 132399_12_1001_in.xml IO输出耗时:0.015s
09:46:10,820 INFO net.SpdbNetImpl(84) - 保存报文完毕！132399_12_1001_in.xml
09:46:10,820 INFO net.SpdbNetImpl(88) - 交易标示1001
09:46:10,821 INFO common.Log4jPrint(20) - InNoDoc132399_12_1001_in.xml
09:46:10,821 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
09:46:10,821 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
09:46:10,821 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
09:46:10,821 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.format.NewCont.noStd2Std(NewCont.java:18)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:137)
09:46:10,821 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:46:10,853 INFO common.SaveMessage(94) - 132399_15_1001_out.xml IO输出耗时:0.032s
09:46:10,853 INFO net.SpdbNetImpl(130) - 保存报文完毕！132399_15_1001_out.xml
09:46:10,853 INFO net.SpdbNetImpl(138) - 返回报文长度：143
09:46:10,853 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
09:46:10,853 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
09:46:10,853 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
09:46:10,859 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
09:46:10,865 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:46:10,866 INFO common.Log4jPrint(20) - null
09:46:10,866 INFO common.Log4jPrint(20) - null
09:46:10,866 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:46:10,872 INFO common.Log4jPrint(20) - i=0
09:46:10,872 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:46:10,872 INFO midplat.Ybt4Socket(192) - 处理总耗时：2.661s
09:46:10,872 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:46:20,391 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
09:46:20,391 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
09:46:20,392 INFO common.XslCache(70) - conf file modified at (2017-04-19 09:45:55,522) and length=25245 bytes!
09:46:20,861 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
09:46:20,886 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><xsl:variable name="Intv" select="CRG_T" /><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="Intv" /></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="Intv" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

09:46:20,888 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
09:48:30,484 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@6f531a15
09:48:30,496 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:48:30,496 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
09:48:30,532 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
09:48:30,551 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:48:30,553 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
09:48:30,553 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
09:48:30,557 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:48:01,942) and length=24373 bytes!
09:48:30,635 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
09:48:30,646 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:48:30,654 INFO common.Log4jPrint(20) - End reset System.out!
09:48:30,656 INFO net.SocketConf(27) - Into SocketConf.load()...
09:48:30,657 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
09:48:30,659 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:48:01,967) and length=708 bytes!
09:48:30,664 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
09:48:30,665 INFO net.SocketConf(60) - Out SocketConf.load()!
09:48:30,689 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:48:30,692 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
09:48:30,696 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
09:48:30,698 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
09:48:30,697 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
09:48:30,702 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
09:48:30,702 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
09:48:30,703 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
09:48:30,706 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
09:48:30,707 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
09:48:30,707 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:48:30,710 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
09:48:30,711 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:48:30,712 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:48:30,715 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
09:48:30,715 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:48:30,721 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
09:48:31,258 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
09:48:31,258 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
09:48:31,274 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
09:48:31,274 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
09:48:31,274 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
09:48:31,274 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@4ad7f3e3
09:48:31,274 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
09:48:31,274 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
09:48:31,274 INFO common.Log4jPrint(20) - Start revert System.out...
09:48:31,274 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
09:48:31,938 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@6f531a15
09:48:31,954 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:48:31,956 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
09:48:31,957 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
09:48:31,958 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:48:31,958 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
09:48:31,959 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
09:48:31,959 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:48:01,942) and length=24373 bytes!
09:48:31,990 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
09:48:32,006 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:48:32,006 INFO common.Log4jPrint(20) - End reset System.out!
09:48:32,006 INFO net.SocketConf(27) - Into SocketConf.load()...
09:48:32,006 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
09:48:32,006 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:48:01,967) and length=708 bytes!
09:48:32,006 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
09:48:32,006 INFO net.SocketConf(60) - Out SocketConf.load()!
09:48:32,022 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:48:32,037 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
09:48:32,037 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
09:48:32,037 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
09:48:32,037 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
09:48:32,037 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
09:48:32,037 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
09:48:32,037 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
09:48:32,037 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
09:48:32,037 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
09:48:32,037 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:48:32,037 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
09:48:32,054 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:48:32,054 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:48:32,057 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
09:48:32,058 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:48:32,059 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
09:48:40,479 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
09:48:40,495 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
09:48:40,495 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
09:48:40,495 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
09:48:40,504 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
09:48:40,495 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


09:48:40,504 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:48:01,974) and length=1938 bytes!
09:48:40,506 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.01s
09:48:40,506 INFO test.SPDBTestUI(104) - 收到返回报文！
09:48:40,506 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
09:48:40,522 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

09:48:40,522 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
09:48:40,522 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
09:48:40,522 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
09:48:40,764 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
09:48:40,795 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
09:48:40,811 INFO midplat.Ybt4Socket(34) - TranLogNo:132384
09:48:40,811 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
09:48:40,811 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
09:48:40,811 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:48:40,811 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
09:48:40,827 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
09:48:40,827 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
09:48:45,373 DEBUG common.SaveMessage(23) - SavePath_HOME = null
09:48:45,385 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
09:48:45,387 INFO common.SaveMessage(94) - 132387_3_1001_in.xml IO输出耗时:0.0010s
09:48:45,387 INFO net.SpdbNetImpl(84) - 保存报文完毕！132387_3_1001_in.xml
09:48:45,387 INFO net.SpdbNetImpl(88) - 交易标示1001
09:48:45,387 INFO common.Log4jPrint(20) - InNoDoc132387_3_1001_in.xml
09:48:45,387 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
09:48:45,387 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
09:48:45,387 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
09:48:45,387 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
09:48:45,387 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
09:48:45,387 INFO common.XslCache(70) - conf file modified at (2017-04-19 09:45:55,522) and length=25245 bytes!
09:48:45,799 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
09:48:45,833 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><xsl:variable name="Intv" select="CRG_T" /><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="Intv" /></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="Intv" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

09:48:45,839 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
09:48:45,950 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
09:48:45,965 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
09:48:45,965 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
09:48:45,965 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
09:48:46,050 INFO service.NewContInput(30) - Into NewContInput.service()...
09:48:46,050 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
09:48:46,050 INFO common.Log4jPrint(20) - 进程名：132387
09:48:46,050 INFO common.Log4jPrint(20) - trancom:12
09:48:46,050 INFO common.Log4jPrint(20) - FuncFlag:1001
09:48:46,050 INFO common.Log4jPrint(20) - mHeadEle.getChildText132387_3_1001_in.xml
09:49:05,048 INFO common.Log4jPrint(20) - DBConn Exception1: IO 错误: Socket read timed out
09:49:05,051 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:886)
09:49:05,051 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1167)
09:49:05,052 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1289)
09:49:05,052 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1909)
09:49:05,052 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1871)
09:49:05,055 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:318)
09:49:05,055 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConn.createConnection(DBConn.java:150)
09:49:05,055 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConnPool.getConnection(DBConnPool.java:84)
09:49:05,056 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBOper.insert(DBOper.java:64)
09:49:05,056 INFO common.Log4jPrint(20) - 	at com.sinosoft.lis.db.TranLogDB.insert(TranLogDB.java:66)
09:49:05,057 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:197)
09:49:05,057 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:39)
09:49:05,057 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
09:49:05,057 INFO common.Log4jPrint(20) - Caused by: oracle.net.ns.NetException: Socket read timed out
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.net.ns.Packet.receive(Packet.java:339)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.net.ns.DataPacket.receive(DataPacket.java:106)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:315)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.read(NetInputStream.java:260)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.read(NetInputStream.java:185)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.read(NetInputStream.java:102)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CSocketInputStreamWrapper.readNextPacket(T4CSocketInputStreamWrapper.java:124)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CSocketInputStreamWrapper.read(T4CSocketInputStreamWrapper.java:80)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1137)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:290)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:192)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:193)
09:49:05,057 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:873)
09:49:05,057 INFO common.Log4jPrint(20) - 	... 12 more
09:49:05,057 INFO common.Log4jPrint(20) - DBConn : recreate DBConn
09:49:05,164 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:49:05,164 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132387,12,'9800','120101010001','201704161036030001127020','11024392',1001,20170418,94845,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132387_3_1001_in.xml',20170419,94846,20170419,94846 )
09:49:05,180 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
09:49:05,180 ERROR service.NewContInput(122) - 新契约试算交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:52)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
09:49:05,198 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:49:05,199 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:49:05,199 INFO common.Log4jPrint(20) - 201704161036030001127020
09:49:05,200 INFO common.Log4jPrint(20) - 201704161036030001127020
09:49:05,200 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132387,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704161036030001127020',Operator='11024392',FuncFlag=1001,TranDate=20170418,TranTime=94845,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=19,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132387_3_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=94846,ModifyDate=20170419,ModifyTime=94905,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704161036030001127020'
09:49:05,218 INFO service.NewContInput(142) - Out NewContInput.service()!
09:49:05,218 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
09:49:05,280 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
09:49:05,280 INFO format.NewContOutXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl...
09:49:05,280 INFO common.XslCache(70) - conf file modified at (2017-04-18 15:15:47,008) and length=3826 bytes!
09:49:05,349 INFO format.NewContOutXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl!
09:49:05,349 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><!--保费试算 返回样式表 --><RETURN><!-- 应答状态 --><ACKSTS>0</ACKSTS><!-- 状态描述 --><STSDESC>正常</STSDESC><!-- 如果成功，返回下面节点 --><xsl:if test="Head/Flag='0'"><!-- 交易应答科目 --><BUSI><!-- 交易科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 投保单基本信息 --><MAIN><!-- 首期保费（大写） --><PREMC><xsl:value-of select="substring(Body/PremText,4)" /></PREMC><!-- 首期保费 --><PREM><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></PREM></MAIN><!-- 投保单号 --><APPNO><xsl:value-of select="Body/ProposalPrtNo" /></APPNO><!-- 保单号 --><POL><xsl:value-of select="Body/ContNo" /></POL><!-- 拒保原因代码 --><REJECT_CODE>0000</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC>交易成功</REJECT_DESC><!-- 险种列表 --><xsl:apply-templates select="Body" /><!-- 现金价值 --><xsl:choose><xsl:when test="boolean(//CashValues)"><xsl:apply-templates select="Body/Risk[RiskCode = MainRiskCode]/CashValues" /></xsl:when><xsl:otherwise><VT><VTI /></VT></xsl:otherwise></xsl:choose></CONTENT></BUSI></xsl:if><!-- 如果失败，返回下面节点 --><xsl:if test="Head/Flag!='0'"><!-- 交易应答科目 --><BUSI><!-- 交易应答科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 拒保原因代码 --><REJECT_CODE>1234</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC><xsl:value-of select="Head/Desc" /></REJECT_DESC></CONTENT></BUSI></xsl:if></RETURN></xsl:template><!-- 险种模板 --><xsl:template name="Risks" match="Body"><!-- 险种列表 --><PTS><xsl:for-each select="Risk"><xsl:if test="RiskCode = MainRiskCode"><!-- 险种 --><PT><!-- 险种代码 --><ID><xsl:value-of select="RiskCode" /></ID><!-- 投保份数 --><UNIT><xsl:value-of select="Mult" /></UNIT><!--  缴费年期类型--><CRG><xsl:choose><xsl:when test="PayIntv = '0'">1</xsl:when><xsl:when test="PayEndYearFlag = 'A'">6</xsl:when><!-- 缴至某确定年龄  --><xsl:when test="PayEndYearFlag = 'M'">5</xsl:when><!-- 月缴 --><xsl:when test="PayEndYearFlag = 'Y'">2</xsl:when><!-- 年缴 --></xsl:choose></CRG><!-- 险种名称 --><NAME><xsl:value-of select="RiskName" /></NAME><!-- 保障年期 --><PERIOD><xsl:value-of select="InsuYear" /></PERIOD><!-- 年金起领年龄 --><DRAW_T><xsl:value-of select="GetYear" /></DRAW_T><!-- 保险金额 --><AMT><xsl:value-of select="Amnt" /></AMT><!-- 投保金额 --><PREM><xsl:value-of select="Prem" /></PREM></PT></xsl:if></xsl:for-each></PTS></xsl:template><!-- 现价模板 --><xsl:template name="CashValues" match="Body/Risk[RiskCode = MainRiskCode]/CashValues"><!-- 现金价值表 --><VT><!-- 循环现价 --><xsl:for-each select="CashValue"><!-- 现金价值表项 --><VTI><!-- 生存年金 --><LIVE /><!-- 疾病身故保险金 --><ILL /><!-- 年份 --><YEAR><xsl:value-of select="EndYear" /></YEAR><!-- 年末 --><END /><!-- 年末现金价值 --><CASH><xsl:value-of select="Cash" /></CASH><!-- 意外身故保险金 --><ACI /></VTI></xsl:for-each></VT></xsl:template></xsl:stylesheet>

09:49:05,349 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
09:49:05,365 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
09:49:05,365 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
09:49:05,365 INFO common.SaveMessage(94) - 132387_6_1001_out.xml IO输出耗时:0.0s
09:49:05,365 INFO net.SpdbNetImpl(130) - 保存报文完毕！132387_6_1001_out.xml
09:49:05,365 INFO net.SpdbNetImpl(138) - 返回报文长度：251
09:49:05,365 INFO common.Log4jPrint(20) - 完整报文头|INSU8000251     |
09:49:05,365 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
09:49:05,365 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000251     
09:49:05,378 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
09:49:05,396 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:49:05,397 INFO common.Log4jPrint(20) - null
09:49:05,397 INFO common.Log4jPrint(20) - null
09:49:05,397 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:49:05,418 INFO common.Log4jPrint(20) - i=0
09:49:05,418 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:49:05,418 INFO midplat.Ybt4Socket(192) - 处理总耗时：24.607s
09:49:05,418 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:01:03,099 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:01:03,115 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:01:03,115 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:01:03,115 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170418</TRSDATE>
      <TRANS>201704161036030001127020</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170418</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:01:03,115 INFO midplat.Ybt4Socket(34) - TranLogNo:132390
10:01:03,121 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:01:03,122 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:01:03,123 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0060s
10:01:03,123 INFO test.SPDBTestUI(104) - 收到返回报文！
10:01:03,123 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:01:03,123 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:01:03,123 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:01:03,123 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:01:03,138 INFO common.SaveMessage(94) - 132393_9_1001_in.xml IO输出耗时:0.0s
10:01:03,138 INFO net.SpdbNetImpl(84) - 保存报文完毕！132393_9_1001_in.xml
10:01:03,138 INFO net.SpdbNetImpl(88) - 交易标示1001
10:01:03,138 INFO common.Log4jPrint(20) - InNoDoc132393_9_1001_in.xml
10:01:03,138 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:01:03,138 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:01:03,154 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:01:03,154 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:01:03,154 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
10:01:03,154 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
10:01:03,154 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
10:01:03,154 INFO service.NewContInput(30) - Into NewContInput.service()...
10:01:03,154 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
10:01:03,154 INFO common.Log4jPrint(20) - 进程名：132393
10:01:03,154 INFO common.Log4jPrint(20) - trancom:12
10:01:03,154 INFO common.Log4jPrint(20) - FuncFlag:1001
10:01:03,154 INFO common.Log4jPrint(20) - mHeadEle.getChildText132393_9_1001_in.xml
10:01:03,175 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:01:03,177 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132393,12,'9800','120101010001','201704161036030001127020','11024392',1001,20170418,100103,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132393_9_1001_in.xml',20170419,100103,20170419,100103 )
10:01:03,199 ERROR service.ServiceImpl(200) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
10:01:03,199 ERROR service.NewContInput(120) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:205)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:39)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
10:01:03,199 INFO service.NewContInput(140) - Out NewContInput.service()!
10:01:03,199 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
10:01:03,199 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
10:01:03,199 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:01:03,215 INFO common.SaveMessage(94) - 132393_12_1001_out.xml IO输出耗时:0.016s
10:01:03,215 INFO net.SpdbNetImpl(130) - 保存报文完毕！132393_12_1001_out.xml
10:01:03,215 INFO net.SpdbNetImpl(138) - 返回报文长度：277
10:01:03,215 INFO common.Log4jPrint(20) - 完整报文头|INSU8000277     |
10:01:03,215 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000277     
10:01:03,215 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:01:03,215 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:01:03,231 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:01:03,231 INFO common.Log4jPrint(20) - null
10:01:03,231 INFO common.Log4jPrint(20) - null
10:01:03,231 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:01:03,246 INFO common.Log4jPrint(20) - i=0
10:01:03,246 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:01:03,246 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.123s
10:01:03,246 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:02:22,620 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:02:22,636 INFO midplat.Ybt4Socket(34) - TranLogNo:132396
10:02:22,644 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:02:22,644 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:02:22,644 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:02:22,644 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:02:22,645 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:02:22,646 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:02:22,645 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127021</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:02:22,646 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:02:22,646 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:02:22,646 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.01s
10:02:22,646 INFO test.SPDBTestUI(104) - 收到返回报文！
10:02:22,667 INFO common.SaveMessage(94) - 132399_15_1001_in.xml IO输出耗时:0.021s
10:02:22,668 INFO net.SpdbNetImpl(84) - 保存报文完毕！132399_15_1001_in.xml
10:02:22,669 INFO net.SpdbNetImpl(88) - 交易标示1001
10:02:22,669 INFO common.Log4jPrint(20) - InNoDoc132399_15_1001_in.xml
10:02:22,670 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:02:22,671 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:02:22,671 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:02:22,673 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:02:22,673 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
10:02:22,673 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
10:02:22,673 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
10:02:22,673 INFO service.NewContInput(30) - Into NewContInput.service()...
10:02:22,673 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
10:02:22,673 INFO common.Log4jPrint(20) - 进程名：132399
10:02:22,673 INFO common.Log4jPrint(20) - trancom:12
10:02:22,673 INFO common.Log4jPrint(20) - FuncFlag:1001
10:02:22,673 INFO common.Log4jPrint(20) - mHeadEle.getChildText132399_15_1001_in.xml
10:02:22,689 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:02:22,689 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132399,12,'9800','120101010001','201704191036030001127021','11024392',1001,20170419,100222,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132399_15_1001_in.xml',20170419,100222,20170419,100222 )
10:02:22,689 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
10:02:22,689 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=95902
10:02:22,774 INFO common.RuleXsl(176) - Into RuleXsl.load()...
10:02:22,774 INFO common.RuleXsl(179) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl...
10:02:22,774 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:39,044) and length=15623 bytes!
10:02:22,921 INFO common.RuleXsl(188) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl!
10:02:22,921 INFO common.RuleXsl(202) - Out RuleXsl.load()!
10:02:22,936 INFO common.RuleXml(228) - Into RuleXml.load()...
10:02:22,936 INFO common.RuleXml(231) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml...
10:02:22,952 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:48:01,964) and length=9884 bytes!
10:02:22,952 INFO common.RuleXml(238) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml!
10:02:22,952 INFO common.RuleXml(245) - Out RuleXml.load()!
10:02:22,952 INFO common.RuleParser(54) - Into RuleParser.check()...
10:02:22,952 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
10:02:22,974 INFO common.Log4jPrint(20) - 对邮编进行校验
10:02:22,974 INFO common.Log4jPrint(20) - 对邮编进行校验
10:02:22,974 INFO common.Log4jPrint(20) - 返回的结果是:0
10:02:22,974 INFO common.Log4jPrint(20) - 对邮编进行校验
10:02:22,974 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules><msg>投保人18位身份证号与投保人性别不匹配</msg><msg>被保人18位身份证号与被保人性别不匹配</msg><msg>缴费频次不能为空</msg></rules>

10:02:22,974 ERROR service.NewContInput(120) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保人18位身份证号与投保人性别不匹配
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:84)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:58)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:61)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
10:02:23,005 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:02:23,005 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:02:23,005 INFO common.Log4jPrint(20) - 201704191036030001127021
10:02:23,005 INFO common.Log4jPrint(20) - 201704191036030001127021
10:02:23,005 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132399,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127021',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=100222,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人18位身份证号与投保人性别不匹配',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132399_15_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=100222,ModifyDate=20170419,ModifyTime=100222,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127021'
10:02:23,005 INFO service.NewContInput(140) - Out NewContInput.service()!
10:02:23,005 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
10:02:23,021 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
10:02:23,021 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:02:23,021 INFO common.SaveMessage(94) - 132399_18_1001_out.xml IO输出耗时:0.0s
10:02:23,021 INFO net.SpdbNetImpl(130) - 保存报文完毕！132399_18_1001_out.xml
10:02:23,021 INFO net.SpdbNetImpl(138) - 返回报文长度：299
10:02:23,021 INFO common.Log4jPrint(20) - 完整报文头|INSU8000299     |
10:02:23,021 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:02:23,021 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000299     
10:02:23,021 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:02:23,021 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:02:23,021 INFO common.Log4jPrint(20) - null
10:02:23,021 INFO common.Log4jPrint(20) - null
10:02:23,036 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:02:23,036 INFO common.Log4jPrint(20) - i=0
10:02:23,036 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:02:23,036 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.391s
10:02:23,036 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:09:00,995 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:09:01,011 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:09:01,011 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:09:01,011 INFO midplat.Ybt4Socket(34) - TranLogNo:132402
10:09:01,024 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:09:01,025 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:09:01,011 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127021</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:09:01,026 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:09:01,026 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:09:01,026 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:09:01,026 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:09:01,026 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.015s
10:09:01,026 INFO test.SPDBTestUI(104) - 收到返回报文！
10:09:01,042 INFO common.SaveMessage(94) - 132405_21_1001_in.xml IO输出耗时:0.016s
10:09:01,042 INFO net.SpdbNetImpl(84) - 保存报文完毕！132405_21_1001_in.xml
10:09:01,042 INFO net.SpdbNetImpl(88) - 交易标示1001
10:09:01,042 INFO common.Log4jPrint(20) - InNoDoc132405_21_1001_in.xml
10:09:01,042 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:09:01,042 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:09:01,042 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:09:01,058 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:09:01,058 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
10:09:01,058 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
10:09:01,058 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
10:09:01,058 INFO service.NewContInput(31) - Into NewContInput.service()...
10:09:01,058 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
10:09:01,058 INFO common.Log4jPrint(20) - 进程名：132405
10:09:01,058 INFO common.Log4jPrint(20) - trancom:12
10:09:01,058 INFO common.Log4jPrint(20) - FuncFlag:1001
10:09:01,058 INFO common.Log4jPrint(20) - mHeadEle.getChildText132405_21_1001_in.xml
10:09:01,058 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:09:01,073 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132405,12,'9800','120101010001','201704191036030001127021','11024392',1001,20170419,100901,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132405_21_1001_in.xml',20170419,100901,20170419,100901 )
10:09:01,080 ERROR service.ServiceImpl(200) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
10:09:01,080 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:205)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:40)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
10:09:01,080 INFO service.NewContInput(143) - Out NewContInput.service()!
10:09:01,080 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
10:09:01,080 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
10:09:01,080 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:09:01,111 INFO common.SaveMessage(94) - 132405_24_1001_out.xml IO输出耗时:0.031s
10:09:01,111 INFO net.SpdbNetImpl(130) - 保存报文完毕！132405_24_1001_out.xml
10:09:01,127 INFO net.SpdbNetImpl(138) - 返回报文长度：277
10:09:01,127 INFO common.Log4jPrint(20) - 完整报文头|INSU8000277     |
10:09:01,127 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:09:01,127 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000277     
10:09:01,127 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:09:01,127 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:09:01,127 INFO common.Log4jPrint(20) - null
10:09:01,127 INFO common.Log4jPrint(20) - null
10:09:01,127 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:09:01,142 INFO common.Log4jPrint(20) - i=0
10:09:01,142 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:09:01,142 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.116s
10:09:01,142 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:09:18,807 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:09:18,823 INFO midplat.Ybt4Socket(34) - TranLogNo:132408
10:09:18,823 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:09:18,834 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:09:18,834 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:09:18,835 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:09:18,836 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127022</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:09:18,838 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:09:18,840 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:09:18,841 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:09:18,842 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:09:18,842 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.017s
10:09:18,843 INFO test.SPDBTestUI(104) - 收到返回报文！
10:09:18,845 INFO common.SaveMessage(94) - 132411_27_1001_in.xml IO输出耗时:0.0s
10:09:18,845 INFO net.SpdbNetImpl(84) - 保存报文完毕！132411_27_1001_in.xml
10:09:18,845 INFO net.SpdbNetImpl(88) - 交易标示1001
10:09:18,845 INFO common.Log4jPrint(20) - InNoDoc132411_27_1001_in.xml
10:09:18,861 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:09:18,861 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:09:18,861 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:09:18,861 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:09:18,861 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
10:09:18,861 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
10:09:18,861 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
10:09:18,861 INFO service.NewContInput(31) - Into NewContInput.service()...
10:09:18,861 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
10:09:18,861 INFO common.Log4jPrint(20) - 进程名：132411
10:09:18,861 INFO common.Log4jPrint(20) - trancom:12
10:09:18,876 INFO common.Log4jPrint(20) - FuncFlag:1001
10:09:18,876 INFO common.Log4jPrint(20) - mHeadEle.getChildText132411_27_1001_in.xml
10:09:19,008 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:09:19,008 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132411,12,'9800','120101010001','201704191036030001127022','11024392',1001,20170419,100918,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132411_27_1001_in.xml',20170419,100918,20170419,100918 )
10:09:19,023 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
10:09:19,046 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=100559
10:09:19,061 INFO common.RuleParser(54) - Into RuleParser.check()...
10:09:19,061 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
10:09:19,077 INFO common.Log4jPrint(20) - 对邮编进行校验
10:09:19,077 INFO common.Log4jPrint(20) - 对邮编进行校验
10:09:19,077 INFO common.Log4jPrint(20) - 返回的结果是:0
10:09:19,077 INFO common.Log4jPrint(20) - 对邮编进行校验
10:09:19,077 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules><msg>投保人18位身份证号与投保人性别不匹配</msg><msg>被保人18位身份证号与被保人性别不匹配</msg><msg>缴费频次不能为空</msg></rules>

10:09:19,077 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保人18位身份证号与投保人性别不匹配
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:84)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:58)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:64)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
10:09:19,092 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:09:19,092 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:09:19,092 INFO common.Log4jPrint(20) - 201704191036030001127022
10:09:19,092 INFO common.Log4jPrint(20) - 201704191036030001127022
10:09:19,092 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132411,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127022',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=100918,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人18位身份证号与投保人性别不匹配',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132411_27_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=100918,ModifyDate=20170419,ModifyTime=100919,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127022'
10:09:19,092 INFO service.NewContInput(143) - Out NewContInput.service()!
10:09:19,092 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
10:09:19,092 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
10:09:19,092 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:09:19,108 INFO common.SaveMessage(94) - 132411_30_1001_out.xml IO输出耗时:0.016s
10:09:19,108 INFO net.SpdbNetImpl(130) - 保存报文完毕！132411_30_1001_out.xml
10:09:19,108 INFO net.SpdbNetImpl(138) - 返回报文长度：299
10:09:19,108 INFO common.Log4jPrint(20) - 完整报文头|INSU8000299     |
10:09:19,108 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000299     
10:09:19,108 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:09:19,108 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:09:19,345 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:09:19,345 INFO common.Log4jPrint(20) - null
10:09:19,346 INFO common.Log4jPrint(20) - null
10:09:19,346 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:09:19,346 INFO common.Log4jPrint(20) - i=0
10:09:19,346 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:09:19,346 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.508s
10:09:19,346 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:12:02,079 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:12:02,079 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:12:02,079 INFO midplat.Ybt4Socket(34) - TranLogNo:132414
10:12:02,094 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:12:02,094 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:12:02,079 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:12:02,095 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127023</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:12:02,096 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:12:02,096 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:12:02,096 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:12:02,096 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:12:02,096 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.017s
10:12:02,096 INFO test.SPDBTestUI(104) - 收到返回报文！
10:12:02,127 INFO common.SaveMessage(94) - 132417_33_1001_in.xml IO输出耗时:0.015s
10:12:02,127 INFO net.SpdbNetImpl(84) - 保存报文完毕！132417_33_1001_in.xml
10:12:02,127 INFO net.SpdbNetImpl(88) - 交易标示1001
10:12:02,127 INFO common.Log4jPrint(20) - InNoDoc132417_33_1001_in.xml
10:12:02,127 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:12:02,127 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:12:02,127 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:12:02,127 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:12:02,127 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
10:12:02,127 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
10:12:02,127 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
10:12:02,127 INFO service.NewContInput(31) - Into NewContInput.service()...
10:12:02,127 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
10:12:02,127 INFO common.Log4jPrint(20) - 进程名：132417
10:12:02,143 INFO common.Log4jPrint(20) - trancom:12
10:12:02,143 INFO common.Log4jPrint(20) - FuncFlag:1001
10:12:02,143 INFO common.Log4jPrint(20) - mHeadEle.getChildText132417_33_1001_in.xml
10:12:02,159 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:12:02,159 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132417,12,'9800','120101010001','201704191036030001127023','11024392',1001,20170419,101202,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132417_33_1001_in.xml',20170419,101202,20170419,101202 )
10:12:02,175 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
10:12:02,176 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=100842
10:12:02,192 INFO common.RuleParser(54) - Into RuleParser.check()...
10:12:02,193 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
10:12:02,195 INFO common.Log4jPrint(20) - 对邮编进行校验
10:12:02,196 INFO common.Log4jPrint(20) - 对邮编进行校验
10:12:02,197 INFO common.Log4jPrint(20) - 返回的结果是:0
10:12:02,198 INFO common.Log4jPrint(20) - 对邮编进行校验
10:12:02,198 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules><msg>投保人18位身份证号与投保人性别不匹配</msg><msg>被保人18位身份证号与被保人性别不匹配</msg><msg>缴费频次不能为空</msg></rules>

10:12:02,199 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保人18位身份证号与投保人性别不匹配
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:84)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:58)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:64)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
10:12:02,205 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:12:02,206 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:12:02,206 INFO common.Log4jPrint(20) - 201704191036030001127023
10:12:02,207 INFO common.Log4jPrint(20) - 201704191036030001127023
10:12:02,207 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132417,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127023',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=101202,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人18位身份证号与投保人性别不匹配',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132417_33_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=101202,ModifyDate=20170419,ModifyTime=101202,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127023'
10:12:02,217 INFO service.NewContInput(143) - Out NewContInput.service()!
10:12:02,217 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
10:12:02,218 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
10:12:02,218 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:12:02,225 INFO common.SaveMessage(94) - 132417_36_1001_out.xml IO输出耗时:0.0060s
10:12:02,225 INFO net.SpdbNetImpl(130) - 保存报文完毕！132417_36_1001_out.xml
10:12:02,226 INFO net.SpdbNetImpl(138) - 返回报文长度：299
10:12:02,226 INFO common.Log4jPrint(20) - 完整报文头|INSU8000299     |
10:12:02,227 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:12:02,226 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000299     
10:12:02,227 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:12:02,229 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:12:02,229 INFO common.Log4jPrint(20) - null
10:12:02,229 INFO common.Log4jPrint(20) - null
10:12:02,229 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:12:02,245 INFO common.Log4jPrint(20) - i=0
10:12:02,245 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:12:02,245 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.149s
10:12:02,245 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:12:41,972 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@1a3174f7
10:12:42,008 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:12:42,104 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
10:12:42,120 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
10:12:42,120 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
10:12:42,120 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
10:12:42,120 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
10:12:42,135 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:48:01,942) and length=24373 bytes!
10:12:42,235 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
10:12:42,251 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:12:42,273 INFO common.Log4jPrint(20) - End reset System.out!
10:12:42,273 INFO net.SocketConf(27) - Into SocketConf.load()...
10:12:42,273 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
10:12:42,273 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:48:01,967) and length=708 bytes!
10:12:42,288 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
10:12:42,288 INFO net.SocketConf(60) - Out SocketConf.load()!
10:12:42,304 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
10:12:42,320 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
10:12:42,371 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
10:12:42,373 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
10:12:42,373 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
10:12:42,373 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
10:12:42,373 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
10:12:42,373 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
10:12:42,389 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
10:12:42,389 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:12:42,389 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
10:12:42,404 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
10:12:42,404 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:12:42,404 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
10:12:42,420 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
10:12:42,420 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
10:12:42,420 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
10:13:06,323 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:13:06,339 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:13:06,339 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:13:06,339 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127024</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:13:06,355 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.016s
10:13:06,355 INFO test.SPDBTestUI(104) - 收到返回报文！
10:13:06,370 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
10:13:06,374 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
10:13:06,374 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:48:01,974) and length=1938 bytes!
10:13:06,375 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
10:13:06,390 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

10:13:06,390 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
10:13:06,390 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
10:13:06,408 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
10:13:06,708 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
10:13:06,724 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
10:13:06,724 INFO midplat.Ybt4Socket(34) - TranLogNo:132420
10:13:06,724 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:13:06,771 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:13:06,771 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:13:06,771 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:13:06,809 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:13:06,809 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:13:06,956 DEBUG common.SaveMessage(23) - SavePath_HOME = null
10:13:06,956 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
10:13:06,956 INFO common.SaveMessage(94) - 132423_3_1001_in.xml IO输出耗时:0.0s
10:13:06,956 INFO net.SpdbNetImpl(84) - 保存报文完毕！132423_3_1001_in.xml
10:13:06,956 INFO net.SpdbNetImpl(88) - 交易标示1001
10:13:06,971 INFO common.Log4jPrint(20) - InNoDoc132423_3_1001_in.xml
10:13:06,971 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:13:06,971 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:13:06,987 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:13:07,025 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:13:07,025 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
10:13:07,025 INFO common.XslCache(70) - conf file modified at (2017-04-19 10:11:48,747) and length=25245 bytes!
10:13:07,572 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
10:13:07,604 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><xsl:variable name="Intv" select="CRG_T" /><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="Intv" /></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="Intv" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:13:07,607 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:13:07,634 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:13:07,635 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
10:13:07,638 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
10:13:07,638 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
10:13:07,671 INFO service.NewContInput(31) - Into NewContInput.service()...
10:13:07,671 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
10:13:07,740 INFO common.Log4jPrint(20) - 进程名：132423
10:13:07,740 INFO common.Log4jPrint(20) - trancom:12
10:13:07,740 INFO common.Log4jPrint(20) - FuncFlag:1001
10:13:07,740 INFO common.Log4jPrint(20) - mHeadEle.getChildText132423_3_1001_in.xml
10:13:07,756 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:13:07,756 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132423,12,'9800','120101010001','201704191036030001127024','11024392',1001,20170419,101307,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132423_3_1001_in.xml',20170419,101307,20170419,101307 )
10:13:07,756 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
10:13:07,756 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=100947
10:13:07,787 INFO common.RuleXsl(176) - Into RuleXsl.load()...
10:13:07,787 INFO common.RuleXsl(179) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl...
10:13:07,787 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:39,044) and length=15623 bytes!
10:13:07,840 INFO common.RuleXsl(188) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl!
10:13:07,840 INFO common.RuleXsl(202) - Out RuleXsl.load()!
10:13:07,856 INFO common.RuleXml(228) - Into RuleXml.load()...
10:13:07,856 INFO common.RuleXml(231) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml...
10:13:07,856 INFO common.XmlConf(80) - conf file modified at (2017-04-19 09:48:01,964) and length=9884 bytes!
10:13:07,856 INFO common.RuleXml(238) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml!
10:13:07,856 INFO common.RuleXml(245) - Out RuleXml.load()!
10:13:07,856 INFO common.RuleParser(54) - Into RuleParser.check()...
10:13:07,871 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
10:13:07,871 INFO common.Log4jPrint(20) - 对邮编进行校验
10:13:07,871 INFO common.Log4jPrint(20) - 对邮编进行校验
10:13:07,871 INFO common.Log4jPrint(20) - 返回的结果是:0
10:13:07,871 INFO common.Log4jPrint(20) - 对邮编进行校验
10:13:07,871 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules><msg>缴费频次不能为空</msg></rules>

10:13:07,871 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 缴费频次不能为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:84)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:58)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:64)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
10:13:07,935 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:13:07,935 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:13:07,936 INFO common.Log4jPrint(20) - 201704191036030001127024
10:13:07,936 INFO common.Log4jPrint(20) - 201704191036030001127024
10:13:07,936 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132423,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127024',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=101307,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='缴费频次不能为空',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132423_3_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=101307,ModifyDate=20170419,ModifyTime=101307,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127024'
10:13:07,941 INFO service.NewContInput(143) - Out NewContInput.service()!
10:13:07,941 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
10:13:07,941 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
10:13:07,941 INFO format.NewContOutXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl...
10:13:07,956 INFO common.XslCache(70) - conf file modified at (2017-04-18 15:15:47,008) and length=3826 bytes!
10:13:07,988 INFO format.NewContOutXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl!
10:13:07,988 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><!--保费试算 返回样式表 --><RETURN><!-- 应答状态 --><ACKSTS>0</ACKSTS><!-- 状态描述 --><STSDESC>正常</STSDESC><!-- 如果成功，返回下面节点 --><xsl:if test="Head/Flag='0'"><!-- 交易应答科目 --><BUSI><!-- 交易科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 投保单基本信息 --><MAIN><!-- 首期保费（大写） --><PREMC><xsl:value-of select="substring(Body/PremText,4)" /></PREMC><!-- 首期保费 --><PREM><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></PREM></MAIN><!-- 投保单号 --><APPNO><xsl:value-of select="Body/ProposalPrtNo" /></APPNO><!-- 保单号 --><POL><xsl:value-of select="Body/ContNo" /></POL><!-- 拒保原因代码 --><REJECT_CODE>0000</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC>交易成功</REJECT_DESC><!-- 险种列表 --><xsl:apply-templates select="Body" /><!-- 现金价值 --><xsl:choose><xsl:when test="boolean(//CashValues)"><xsl:apply-templates select="Body/Risk[RiskCode = MainRiskCode]/CashValues" /></xsl:when><xsl:otherwise><VT><VTI /></VT></xsl:otherwise></xsl:choose></CONTENT></BUSI></xsl:if><!-- 如果失败，返回下面节点 --><xsl:if test="Head/Flag!='0'"><!-- 交易应答科目 --><BUSI><!-- 交易应答科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 拒保原因代码 --><REJECT_CODE>1234</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC><xsl:value-of select="Head/Desc" /></REJECT_DESC></CONTENT></BUSI></xsl:if></RETURN></xsl:template><!-- 险种模板 --><xsl:template name="Risks" match="Body"><!-- 险种列表 --><PTS><xsl:for-each select="Risk"><xsl:if test="RiskCode = MainRiskCode"><!-- 险种 --><PT><!-- 险种代码 --><ID><xsl:value-of select="RiskCode" /></ID><!-- 投保份数 --><UNIT><xsl:value-of select="Mult" /></UNIT><!--  缴费年期类型--><CRG><xsl:choose><xsl:when test="PayIntv = '0'">1</xsl:when><xsl:when test="PayEndYearFlag = 'A'">6</xsl:when><!-- 缴至某确定年龄  --><xsl:when test="PayEndYearFlag = 'M'">5</xsl:when><!-- 月缴 --><xsl:when test="PayEndYearFlag = 'Y'">2</xsl:when><!-- 年缴 --></xsl:choose></CRG><!-- 险种名称 --><NAME><xsl:value-of select="RiskName" /></NAME><!-- 保障年期 --><PERIOD><xsl:value-of select="InsuYear" /></PERIOD><!-- 年金起领年龄 --><DRAW_T><xsl:value-of select="GetYear" /></DRAW_T><!-- 保险金额 --><AMT><xsl:value-of select="Amnt" /></AMT><!-- 投保金额 --><PREM><xsl:value-of select="Prem" /></PREM></PT></xsl:if></xsl:for-each></PTS></xsl:template><!-- 现价模板 --><xsl:template name="CashValues" match="Body/Risk[RiskCode = MainRiskCode]/CashValues"><!-- 现金价值表 --><VT><!-- 循环现价 --><xsl:for-each select="CashValue"><!-- 现金价值表项 --><VTI><!-- 生存年金 --><LIVE /><!-- 疾病身故保险金 --><ILL /><!-- 年份 --><YEAR><xsl:value-of select="EndYear" /></YEAR><!-- 年末 --><END /><!-- 年末现金价值 --><CASH><xsl:value-of select="Cash" /></CASH><!-- 意外身故保险金 --><ACI /></VTI></xsl:for-each></VT></xsl:template></xsl:stylesheet>

10:13:07,988 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
10:13:07,988 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
10:13:07,988 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:13:07,988 INFO common.SaveMessage(94) - 132423_6_1001_out.xml IO输出耗时:0.0s
10:13:07,988 INFO net.SpdbNetImpl(130) - 保存报文完毕！132423_6_1001_out.xml
10:13:07,988 INFO net.SpdbNetImpl(138) - 返回报文长度：279
10:13:07,988 INFO common.Log4jPrint(20) - 完整报文头|INSU8000279     |
10:13:07,988 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:13:07,988 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000279     
10:13:08,004 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:13:08,005 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:13:08,005 INFO common.Log4jPrint(20) - null
10:13:08,005 INFO common.Log4jPrint(20) - null
10:13:08,005 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:13:08,020 INFO common.Log4jPrint(20) - i=0
10:13:08,020 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:13:08,020 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.249s
10:13:08,020 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:14:42,305 INFO net.SocketConf(27) - Into SocketConf.load()...
10:14:42,307 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
10:14:42,307 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:14:39,071) and length=708 bytes!
10:14:42,309 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
10:14:42,309 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
10:14:42,309 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
10:14:42,309 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:14:42,309 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:14:42,309 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:14:42,309 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:14:42,309 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@61d38439
10:14:42,309 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:14:42,309 INFO common.Log4jPrint(20) - Start revert System.out...
10:14:42,309 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
10:14:42,309 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
10:14:42,309 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
10:14:42,309 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
10:14:42,309 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
10:14:42,309 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
10:14:42,309 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
10:14:42,309 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
10:14:42,309 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
10:14:42,309 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
10:14:42,309 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:14:42,309 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
10:14:42,325 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:14:42,326 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
10:14:42,326 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
10:14:42,326 INFO net.SocketConf(60) - Out SocketConf.load()!
10:14:42,327 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
10:14:42,327 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
10:14:42,327 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
10:14:42,327 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
10:14:42,327 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
10:14:42,327 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:14:39,073) and length=1938 bytes!
10:14:42,327 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
10:14:42,327 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

10:14:42,327 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
10:14:42,327 INFO common.RuleXml(228) - Into RuleXml.load()...
10:14:42,327 INFO common.RuleXml(231) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml...
10:14:42,327 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:14:39,068) and length=9884 bytes!
10:14:42,342 INFO common.RuleXml(238) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml!
10:14:42,342 INFO common.RuleXml(245) - Out RuleXml.load()!
10:14:42,342 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:14:42,342 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
10:14:42,342 INFO common.XslCache(70) - conf file modified at (2017-04-19 10:14:21,613) and length=25198 bytes!
10:14:42,427 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
10:14:42,458 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="CRG_T" /></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="CRG_T" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:14:42,458 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:14:42,458 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:14:42,458 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
10:14:42,458 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:14:39,038) and length=24373 bytes!
10:14:42,474 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
10:14:42,474 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:14:43,407 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
10:14:43,418 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
10:14:43,419 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:14:43,419 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:14:43,420 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:14:43,420 DEBUG net.SocketListenerF5(143) - System.out = java.io.PrintStream@1a3174f7
10:14:43,420 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:14:43,420 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:14:44,262 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@1a3174f7
10:14:44,309 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:14:44,309 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
10:14:44,309 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
10:14:44,309 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
10:14:44,309 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
10:14:44,309 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
10:14:44,347 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:14:39,038) and length=24373 bytes!
10:14:44,393 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
10:14:44,393 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:14:44,409 INFO common.Log4jPrint(20) - End reset System.out!
10:14:44,416 INFO net.SocketConf(27) - Into SocketConf.load()...
10:14:44,417 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
10:14:44,418 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:14:39,071) and length=708 bytes!
10:14:44,421 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
10:14:44,422 INFO net.SocketConf(60) - Out SocketConf.load()!
10:14:44,431 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
10:14:44,446 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
10:14:44,478 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
10:14:44,478 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
10:14:44,478 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
10:14:44,478 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
10:14:44,478 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
10:14:44,478 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
10:14:44,478 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
10:14:44,478 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
10:14:44,478 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:14:44,493 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
10:14:44,493 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
10:14:44,493 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:14:44,509 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
10:14:44,509 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
10:14:44,509 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
10:14:50,861 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:14:50,875 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:14:50,875 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:14:50,876 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127025</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:14:50,879 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0040s
10:14:50,881 INFO test.SPDBTestUI(104) - 收到返回报文！
10:14:50,885 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
10:14:50,896 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
10:14:50,896 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:14:39,073) and length=1938 bytes!
10:14:50,898 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
10:14:50,898 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

10:14:50,898 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
10:14:50,914 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
10:14:50,914 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
10:14:51,116 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
10:14:51,116 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
10:14:51,131 INFO midplat.Ybt4Socket(34) - TranLogNo:132426
10:14:51,131 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:14:51,182 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:14:51,183 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:14:51,184 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:14:51,184 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:14:51,184 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:14:51,284 DEBUG common.SaveMessage(23) - SavePath_HOME = null
10:14:51,284 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
10:14:51,300 INFO common.SaveMessage(94) - 132429_3_1001_in.xml IO输出耗时:0.016s
10:14:51,300 INFO net.SpdbNetImpl(84) - 保存报文完毕！132429_3_1001_in.xml
10:14:51,300 INFO net.SpdbNetImpl(88) - 交易标示1001
10:14:51,300 INFO common.Log4jPrint(20) - InNoDoc132429_3_1001_in.xml
10:14:51,300 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:14:51,300 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:14:51,300 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:14:51,300 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:14:51,300 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
10:14:51,300 INFO common.XslCache(70) - conf file modified at (2017-04-19 10:14:21,613) and length=25198 bytes!
10:14:51,416 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
10:14:51,431 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="CRG_T" /></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="CRG_T" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:14:51,431 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:14:51,447 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:14:51,447 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
10:14:51,463 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
10:14:51,463 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
10:14:51,463 INFO service.NewContInput(31) - Into NewContInput.service()...
10:14:51,463 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
10:14:51,463 INFO common.Log4jPrint(20) - 进程名：132429
10:14:51,463 INFO common.Log4jPrint(20) - trancom:12
10:14:51,463 INFO common.Log4jPrint(20) - FuncFlag:1001
10:14:51,463 INFO common.Log4jPrint(20) - mHeadEle.getChildText132429_3_1001_in.xml
10:14:51,485 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:14:51,485 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132429,12,'9800','120101010001','201704191036030001127025','11024392',1001,20170419,101451,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132429_3_1001_in.xml',20170419,101451,20170419,101451 )
10:14:51,485 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
10:14:51,500 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=101131
10:14:51,532 INFO common.RuleXsl(176) - Into RuleXsl.load()...
10:14:51,532 INFO common.RuleXsl(179) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl...
10:14:51,532 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:39,044) and length=15623 bytes!
10:14:51,585 INFO common.RuleXsl(188) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl!
10:14:51,585 INFO common.RuleXsl(202) - Out RuleXsl.load()!
10:14:51,601 INFO common.RuleXml(228) - Into RuleXml.load()...
10:14:51,601 INFO common.RuleXml(231) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml...
10:14:51,601 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:14:39,068) and length=9884 bytes!
10:14:51,601 INFO common.RuleXml(238) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml!
10:14:51,601 INFO common.RuleXml(245) - Out RuleXml.load()!
10:14:51,601 INFO common.RuleParser(54) - Into RuleParser.check()...
10:14:51,601 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
10:14:51,616 INFO common.Log4jPrint(20) - 对邮编进行校验
10:14:51,616 INFO common.Log4jPrint(20) - 对邮编进行校验
10:14:51,616 INFO common.Log4jPrint(20) - 返回的结果是:0
10:14:51,616 INFO common.Log4jPrint(20) - 对邮编进行校验
10:14:51,616 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules><msg>缴费频次不能为空</msg></rules>

10:14:51,616 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 缴费频次不能为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:84)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:58)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:64)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
10:14:51,632 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:14:51,632 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:14:51,632 INFO common.Log4jPrint(20) - 201704191036030001127025
10:14:51,632 INFO common.Log4jPrint(20) - 201704191036030001127025
10:14:51,632 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132429,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127025',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=101451,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='缴费频次不能为空',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132429_3_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=101451,ModifyDate=20170419,ModifyTime=101451,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127025'
10:14:51,648 INFO service.NewContInput(143) - Out NewContInput.service()!
10:14:51,648 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
10:14:51,648 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
10:14:51,648 INFO format.NewContOutXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl...
10:14:51,648 INFO common.XslCache(70) - conf file modified at (2017-04-18 15:15:47,008) and length=3826 bytes!
10:14:51,663 INFO format.NewContOutXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl!
10:14:51,663 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><!--保费试算 返回样式表 --><RETURN><!-- 应答状态 --><ACKSTS>0</ACKSTS><!-- 状态描述 --><STSDESC>正常</STSDESC><!-- 如果成功，返回下面节点 --><xsl:if test="Head/Flag='0'"><!-- 交易应答科目 --><BUSI><!-- 交易科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 投保单基本信息 --><MAIN><!-- 首期保费（大写） --><PREMC><xsl:value-of select="substring(Body/PremText,4)" /></PREMC><!-- 首期保费 --><PREM><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></PREM></MAIN><!-- 投保单号 --><APPNO><xsl:value-of select="Body/ProposalPrtNo" /></APPNO><!-- 保单号 --><POL><xsl:value-of select="Body/ContNo" /></POL><!-- 拒保原因代码 --><REJECT_CODE>0000</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC>交易成功</REJECT_DESC><!-- 险种列表 --><xsl:apply-templates select="Body" /><!-- 现金价值 --><xsl:choose><xsl:when test="boolean(//CashValues)"><xsl:apply-templates select="Body/Risk[RiskCode = MainRiskCode]/CashValues" /></xsl:when><xsl:otherwise><VT><VTI /></VT></xsl:otherwise></xsl:choose></CONTENT></BUSI></xsl:if><!-- 如果失败，返回下面节点 --><xsl:if test="Head/Flag!='0'"><!-- 交易应答科目 --><BUSI><!-- 交易应答科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 拒保原因代码 --><REJECT_CODE>1234</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC><xsl:value-of select="Head/Desc" /></REJECT_DESC></CONTENT></BUSI></xsl:if></RETURN></xsl:template><!-- 险种模板 --><xsl:template name="Risks" match="Body"><!-- 险种列表 --><PTS><xsl:for-each select="Risk"><xsl:if test="RiskCode = MainRiskCode"><!-- 险种 --><PT><!-- 险种代码 --><ID><xsl:value-of select="RiskCode" /></ID><!-- 投保份数 --><UNIT><xsl:value-of select="Mult" /></UNIT><!--  缴费年期类型--><CRG><xsl:choose><xsl:when test="PayIntv = '0'">1</xsl:when><xsl:when test="PayEndYearFlag = 'A'">6</xsl:when><!-- 缴至某确定年龄  --><xsl:when test="PayEndYearFlag = 'M'">5</xsl:when><!-- 月缴 --><xsl:when test="PayEndYearFlag = 'Y'">2</xsl:when><!-- 年缴 --></xsl:choose></CRG><!-- 险种名称 --><NAME><xsl:value-of select="RiskName" /></NAME><!-- 保障年期 --><PERIOD><xsl:value-of select="InsuYear" /></PERIOD><!-- 年金起领年龄 --><DRAW_T><xsl:value-of select="GetYear" /></DRAW_T><!-- 保险金额 --><AMT><xsl:value-of select="Amnt" /></AMT><!-- 投保金额 --><PREM><xsl:value-of select="Prem" /></PREM></PT></xsl:if></xsl:for-each></PTS></xsl:template><!-- 现价模板 --><xsl:template name="CashValues" match="Body/Risk[RiskCode = MainRiskCode]/CashValues"><!-- 现金价值表 --><VT><!-- 循环现价 --><xsl:for-each select="CashValue"><!-- 现金价值表项 --><VTI><!-- 生存年金 --><LIVE /><!-- 疾病身故保险金 --><ILL /><!-- 年份 --><YEAR><xsl:value-of select="EndYear" /></YEAR><!-- 年末 --><END /><!-- 年末现金价值 --><CASH><xsl:value-of select="Cash" /></CASH><!-- 意外身故保险金 --><ACI /></VTI></xsl:for-each></VT></xsl:template></xsl:stylesheet>

10:14:51,663 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
10:14:51,663 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
10:14:51,663 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:14:51,684 INFO common.SaveMessage(94) - 132429_6_1001_out.xml IO输出耗时:0.021s
10:14:51,685 INFO net.SpdbNetImpl(130) - 保存报文完毕！132429_6_1001_out.xml
10:14:51,685 INFO net.SpdbNetImpl(138) - 返回报文长度：279
10:14:51,685 INFO common.Log4jPrint(20) - 完整报文头|INSU8000279     |
10:14:51,685 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:14:51,685 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000279     
10:14:51,687 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:14:51,689 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:14:51,689 INFO common.Log4jPrint(20) - null
10:14:51,689 INFO common.Log4jPrint(20) - null
10:14:51,689 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:14:51,689 INFO common.Log4jPrint(20) - i=0
10:14:51,689 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:14:51,705 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.506s
10:14:51,705 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:16:44,433 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:16:44,436 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
10:16:44,436 INFO common.XslCache(70) - conf file modified at (2017-04-19 10:16:44,418) and length=25182 bytes!
10:16:44,470 INFO common.Log4jPrint(20) - 	at java.util.Hashtable.get(Hashtable.java:334)
10:16:44,470 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.lookupVariable(Parser.java:194)
10:16:44,470 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.compiler.VariableBase.parseContents(VariableBase.java:234)
10:16:44,470 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.compiler.Param.parseContents(Param.java:104)
10:16:44,470 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.compiler.SyntaxTreeNode.parseChildren(SyntaxTreeNode.java:432)
10:16:44,488 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.compiler.Template.parseContents(Template.java:247)
10:16:44,488 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.parseOwnChildren(Stylesheet.java:590)
10:16:44,488 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.parseContents(Stylesheet.java:562)
10:16:44,488 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.createAST(Parser.java:386)
10:16:44,488 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile(XSLTC.java:360)
10:16:44,488 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile(XSLTC.java:445)
10:16:44,488 INFO common.Log4jPrint(20) - 	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:826)
10:16:44,488 INFO common.Log4jPrint(20) - 	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
10:16:44,488 INFO common.Log4jPrint(20) - 	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
10:16:44,488 INFO common.Log4jPrint(20) - 	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
10:16:44,488 INFO common.Log4jPrint(20) - 	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
10:16:44,488 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
10:16:44,488 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
10:16:44,488 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.common.cache.FileCacheManage.run(FileCacheManage.java:60)
10:16:44,503 ERROR common.XslCache(37) - 路径有误，未找到指定文件！
org.jdom.transform.XSLTransformException: Could not construct XSLTransformer: 无法编译样式表
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:137)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.common.cache.FileCacheManage.run(FileCacheManage.java:60)
Caused by: javax.xml.transform.TransformerConfigurationException: 无法编译样式表
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:865)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	... 4 more
Caused by: java.lang.NullPointerException
	at java.util.Hashtable.get(Hashtable.java:334)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.lookupVariable(Parser.java:194)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.VariableBase.parseContents(VariableBase.java:234)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Param.parseContents(Param.java:104)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.SyntaxTreeNode.parseChildren(SyntaxTreeNode.java:432)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Template.parseContents(Template.java:247)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.parseOwnChildren(Stylesheet.java:590)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.parseContents(Stylesheet.java:562)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.createAST(Parser.java:386)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile(XSLTC.java:360)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile(XSLTC.java:445)
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:826)
	... 7 more
Caused by: 
javax.xml.transform.TransformerConfigurationException: 无法编译样式表
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:865)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.common.cache.FileCacheManage.run(FileCacheManage.java:60)
Caused by: java.lang.NullPointerException
	at java.util.Hashtable.get(Hashtable.java:334)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.lookupVariable(Parser.java:194)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.VariableBase.parseContents(VariableBase.java:234)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Param.parseContents(Param.java:104)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.SyntaxTreeNode.parseChildren(SyntaxTreeNode.java:432)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Template.parseContents(Template.java:247)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.parseOwnChildren(Stylesheet.java:590)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.parseContents(Stylesheet.java:562)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.createAST(Parser.java:386)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile(XSLTC.java:360)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile(XSLTC.java:445)
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:826)
	... 7 more
---------
java.lang.NullPointerException
	at java.util.Hashtable.get(Hashtable.java:334)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.lookupVariable(Parser.java:194)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.VariableBase.parseContents(VariableBase.java:234)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Param.parseContents(Param.java:104)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.SyntaxTreeNode.parseChildren(SyntaxTreeNode.java:432)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Template.parseContents(Template.java:247)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.parseOwnChildren(Stylesheet.java:590)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.parseContents(Stylesheet.java:562)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.Parser.createAST(Parser.java:386)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile(XSLTC.java:360)
	at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile(XSLTC.java:445)
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:826)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.common.cache.FileCacheManage.run(FileCacheManage.java:60)
10:16:44,519 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
10:16:44,534 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="CRG_T" /></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:16:44,534 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:17:44,535 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:17:44,535 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
10:17:44,536 INFO common.XslCache(70) - conf file modified at (2017-04-19 10:17:43,770) and length=25270 bytes!
10:17:44,603 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
10:17:44,650 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:17:44,653 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:18:38,819 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:18:38,835 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:18:38,835 INFO midplat.Ybt4Socket(34) - TranLogNo:132432
10:18:38,847 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:18:38,835 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:18:38,847 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:18:38,848 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127026</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:18:38,852 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.015s
10:18:38,853 INFO test.SPDBTestUI(104) - 收到返回报文！
10:18:38,855 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:18:38,857 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:18:38,857 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:18:38,857 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:18:38,873 INFO common.SaveMessage(94) - 132435_9_1001_in.xml IO输出耗时:0.016s
10:18:38,873 INFO net.SpdbNetImpl(84) - 保存报文完毕！132435_9_1001_in.xml
10:18:38,873 INFO net.SpdbNetImpl(88) - 交易标示1001
10:18:38,873 INFO common.Log4jPrint(20) - InNoDoc132435_9_1001_in.xml
10:18:38,873 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:18:38,873 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:18:38,873 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:18:38,873 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:18:38,873 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
10:18:38,904 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
10:18:38,904 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
10:18:38,904 INFO service.NewContInput(31) - Into NewContInput.service()...
10:18:38,904 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
10:18:38,904 INFO common.Log4jPrint(20) - 进程名：132435
10:18:38,904 INFO common.Log4jPrint(20) - trancom:12
10:18:38,904 INFO common.Log4jPrint(20) - FuncFlag:1001
10:18:38,904 INFO common.Log4jPrint(20) - mHeadEle.getChildText132435_9_1001_in.xml
10:18:38,919 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:18:38,919 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132435,12,'9800','120101010001','201704191036030001127026','11024392',1001,20170419,101838,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132435_9_1001_in.xml',20170419,101838,20170419,101838 )
10:18:38,919 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
10:18:38,919 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=101518
10:18:38,952 INFO common.RuleParser(54) - Into RuleParser.check()...
10:18:38,952 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
10:18:38,954 INFO common.Log4jPrint(20) - 对邮编进行校验
10:18:38,955 INFO common.Log4jPrint(20) - 对邮编进行校验
10:18:38,956 INFO common.Log4jPrint(20) - 返回的结果是:0
10:18:38,956 INFO common.Log4jPrint(20) - 对邮编进行校验
10:18:38,957 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules><msg>缴费频次不能为空</msg></rules>

10:18:38,957 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 缴费频次不能为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:84)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:58)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:64)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
10:18:38,957 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:18:38,957 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:18:38,957 INFO common.Log4jPrint(20) - 201704191036030001127026
10:18:38,957 INFO common.Log4jPrint(20) - 201704191036030001127026
10:18:38,957 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132435,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127026',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=101838,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='缴费频次不能为空',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132435_9_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=101838,ModifyDate=20170419,ModifyTime=101838,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127026'
10:18:38,988 INFO service.NewContInput(143) - Out NewContInput.service()!
10:18:38,988 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
10:18:38,988 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
10:18:38,988 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:18:38,988 INFO common.SaveMessage(94) - 132435_12_1001_out.xml IO输出耗时:0.0s
10:18:38,988 INFO net.SpdbNetImpl(130) - 保存报文完毕！132435_12_1001_out.xml
10:18:38,988 INFO net.SpdbNetImpl(138) - 返回报文长度：279
10:18:38,988 INFO common.Log4jPrint(20) - 完整报文头|INSU8000279     |
10:18:38,988 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000279     
10:18:38,988 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:18:38,988 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:18:38,988 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:18:39,004 INFO common.Log4jPrint(20) - null
10:18:39,004 INFO common.Log4jPrint(20) - null
10:18:39,004 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:18:39,004 INFO common.Log4jPrint(20) - i=0
10:18:39,004 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:18:39,004 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.149s
10:18:39,004 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:18:44,655 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:18:44,658 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
10:18:44,658 INFO common.XslCache(70) - conf file modified at (2017-04-19 10:17:45,704) and length=25256 bytes!
10:18:44,755 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
10:18:44,787 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:18:44,787 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:19:02,142 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:19:02,157 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:19:02,157 INFO midplat.Ybt4Socket(34) - TranLogNo:132438
10:19:02,169 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:19:02,157 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:19:02,169 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:19:02,170 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127027</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:19:02,171 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:19:02,171 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.014s
10:19:02,171 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:19:02,171 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:19:02,171 INFO test.SPDBTestUI(104) - 收到返回报文！
10:19:02,171 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:19:02,192 INFO common.SaveMessage(94) - 132441_15_1001_in.xml IO输出耗时:0.02s
10:19:02,192 INFO net.SpdbNetImpl(84) - 保存报文完毕！132441_15_1001_in.xml
10:19:02,194 INFO net.SpdbNetImpl(88) - 交易标示1001
10:19:02,195 INFO common.Log4jPrint(20) - InNoDoc132441_15_1001_in.xml
10:19:02,195 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:19:02,195 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:19:02,195 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:19:02,227 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:19:02,227 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
10:19:02,242 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
10:19:02,258 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
10:19:02,258 INFO service.NewContInput(31) - Into NewContInput.service()...
10:19:02,258 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
10:19:02,258 INFO common.Log4jPrint(20) - 进程名：132441
10:19:02,258 INFO common.Log4jPrint(20) - trancom:12
10:19:02,258 INFO common.Log4jPrint(20) - FuncFlag:1001
10:19:02,258 INFO common.Log4jPrint(20) - mHeadEle.getChildText132441_15_1001_in.xml
10:19:02,273 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:19:02,273 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132441,12,'9800','120101010001','201704191036030001127027','11024392',1001,20170419,101902,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132441_15_1001_in.xml',20170419,101902,20170419,101902 )
10:19:02,273 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
10:19:02,273 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=101542
10:19:02,296 INFO common.RuleParser(54) - Into RuleParser.check()...
10:19:02,296 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
10:19:02,296 INFO common.Log4jPrint(20) - 对邮编进行校验
10:19:02,296 INFO common.Log4jPrint(20) - 对邮编进行校验
10:19:02,296 INFO common.Log4jPrint(20) - 返回的结果是:0
10:19:02,296 INFO common.Log4jPrint(20) - 对邮编进行校验
10:19:02,296 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules><msg>缴费频次不能为空</msg></rules>

10:19:02,296 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 缴费频次不能为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:84)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:58)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:64)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
10:19:02,311 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:19:02,311 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:19:02,311 INFO common.Log4jPrint(20) - 201704191036030001127027
10:19:02,311 INFO common.Log4jPrint(20) - 201704191036030001127027
10:19:02,311 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132441,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127027',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=101902,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='缴费频次不能为空',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132441_15_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=101902,ModifyDate=20170419,ModifyTime=101902,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127027'
10:19:02,342 INFO service.NewContInput(143) - Out NewContInput.service()!
10:19:02,342 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
10:19:02,342 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
10:19:02,342 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:19:02,358 INFO common.SaveMessage(94) - 132441_18_1001_out.xml IO输出耗时:0.016s
10:19:02,358 INFO net.SpdbNetImpl(130) - 保存报文完毕！132441_18_1001_out.xml
10:19:02,358 INFO net.SpdbNetImpl(138) - 返回报文长度：279
10:19:02,358 INFO common.Log4jPrint(20) - 完整报文头|INSU8000279     |
10:19:02,358 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:19:02,358 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000279     
10:19:02,358 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:19:02,358 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:19:02,358 INFO common.Log4jPrint(20) - null
10:19:02,358 INFO common.Log4jPrint(20) - null
10:19:02,358 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:19:02,374 INFO common.Log4jPrint(20) - i=0
10:19:02,374 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:19:02,374 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.204s
10:19:02,374 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:20:44,807 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:20:44,809 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
10:20:44,809 INFO common.XslCache(70) - conf file modified at (2017-04-19 10:20:42,151) and length=25256 bytes!
10:20:44,828 ERROR common.XslCache(37) - 路径有误，未找到指定文件！
org.jdom.transform.XSLTransformException: Could not construct XSLTransformer: line 344: 缺少必需的属性“test”。
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:137)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.common.cache.FileCacheManage.run(FileCacheManage.java:60)
Caused by: javax.xml.transform.TransformerConfigurationException: line 344: 缺少必需的属性“test”。
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:865)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	... 4 more
Caused by: 
javax.xml.transform.TransformerConfigurationException: line 344: 缺少必需的属性“test”。
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:865)
	at weblogic.xml.jaxp.WebLogicTransformerFactory.newTemplates(WebLogicTransformerFactory.java:197)
	at weblogic.xml.jaxp.RegistryTransformerFactory.newTemplates(RegistryTransformerFactory.java:173)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:133)
	at org.jdom.transform.XSLTransformer.<init>(XSLTransformer.java:178)
	at com.sinosoft.midplat.common.XslCache.loadXsl(XslCache.java:35)
	at com.sinosoft.midplat.spdb.format.NewContInXsl.load(NewContInXsl.java:44)
	at com.sinosoft.midplat.common.cache.FileCacheManage.run(FileCacheManage.java:60)
10:20:44,843 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
10:20:44,860 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$=1">0</xsl:when><!-- 趸交 --><xsl:when test=".=2">12</xsl:when><!-- 年交 --><xsl:when test=".=3">6</xsl:when><!-- 半年交 --><xsl:when test=".=4">3</xsl:when><!-- 季交 --><xsl:when test=".=5">1</xsl:when><!-- 月交 --><xsl:when test=".=6">12</xsl:when><!-- 年交 --><xsl:when test=".=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:20:44,860 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:21:32,645 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:21:32,663 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:21:32,662 INFO midplat.Ybt4Socket(34) - TranLogNo:132444
10:21:32,663 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:21:32,664 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:21:32,664 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:21:32,664 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127028</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:21:32,668 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0050s
10:21:32,669 INFO test.SPDBTestUI(104) - 收到返回报文！
10:21:32,678 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:21:32,679 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:21:32,679 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:21:32,680 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:21:32,698 INFO common.SaveMessage(94) - 132447_21_1001_in.xml IO输出耗时:0.011s
10:21:32,701 INFO net.SpdbNetImpl(84) - 保存报文完毕！132447_21_1001_in.xml
10:21:32,702 INFO net.SpdbNetImpl(88) - 交易标示1001
10:21:32,703 INFO common.Log4jPrint(20) - InNoDoc132447_21_1001_in.xml
10:21:32,705 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:21:32,706 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:21:32,706 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:21:32,709 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.format.NewCont.noStd2Std(NewCont.java:18)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:137)
10:21:32,709 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:21:32,717 INFO common.SaveMessage(94) - 132447_24_1001_out.xml IO输出耗时:0.0070s
10:21:32,717 INFO net.SpdbNetImpl(130) - 保存报文完毕！132447_24_1001_out.xml
10:21:32,718 INFO net.SpdbNetImpl(138) - 返回报文长度：143
10:21:32,718 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
10:21:32,719 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:21:32,719 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
10:21:32,719 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:21:32,726 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:21:32,727 INFO common.Log4jPrint(20) - null
10:21:32,727 INFO common.Log4jPrint(20) - null
10:21:32,727 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:21:32,736 INFO common.Log4jPrint(20) - i=0
10:21:32,737 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:21:32,737 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.059s
10:21:32,737 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:21:32,815 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:21:32,839 INFO midplat.Ybt4Socket(34) - TranLogNo:132450
10:21:32,840 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:21:32,841 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:21:32,844 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:21:32,845 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:21:32,846 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127028</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:21:32,866 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.026s
10:21:32,868 INFO test.SPDBTestUI(104) - 收到返回报文！
10:21:32,869 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:21:32,870 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:21:32,870 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:21:32,871 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:21:32,907 INFO common.SaveMessage(94) - 132453_27_1001_in.xml IO输出耗时:0.0060s
10:21:32,907 INFO net.SpdbNetImpl(84) - 保存报文完毕！132453_27_1001_in.xml
10:21:32,910 INFO net.SpdbNetImpl(88) - 交易标示1001
10:21:32,911 INFO common.Log4jPrint(20) - InNoDoc132453_27_1001_in.xml
10:21:32,913 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:21:32,916 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:21:32,917 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:21:32,918 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.format.NewCont.noStd2Std(NewCont.java:18)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:137)
10:21:32,918 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:21:32,921 INFO common.SaveMessage(94) - 132453_30_1001_out.xml IO输出耗时:0.0020s
10:21:32,921 INFO net.SpdbNetImpl(130) - 保存报文完毕！132453_30_1001_out.xml
10:21:32,922 INFO net.SpdbNetImpl(138) - 返回报文长度：143
10:21:32,922 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
10:21:32,923 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
10:21:32,923 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:21:32,924 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:21:32,929 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:21:32,930 INFO common.Log4jPrint(20) - null
10:21:32,930 INFO common.Log4jPrint(20) - null
10:21:32,931 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:21:32,939 INFO common.Log4jPrint(20) - i=0
10:21:32,939 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:21:32,940 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.071s
10:21:32,940 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:21:44,870 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:21:44,870 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
10:21:44,871 INFO common.XslCache(70) - conf file modified at (2017-04-19 10:21:18,835) and length=25305 bytes!
10:21:44,919 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
10:21:44,939 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv=1">0</xsl:when><!-- 趸交 --><xsl:when test="$payintv=2">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=3">6</xsl:when><!-- 半年交 --><xsl:when test="$payintv=4">3</xsl:when><!-- 季交 --><xsl:when test="$payintv=5">1</xsl:when><!-- 月交 --><xsl:when test="$payintv=6">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:21:44,954 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:23:01,916 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
10:23:01,916 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
10:23:01,928 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:23:01,929 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:23:01,929 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@1e907371
10:23:01,929 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:23:01,929 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:23:01,929 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
10:23:01,930 INFO common.Log4jPrint(20) - Start revert System.out...
10:23:01,930 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
10:23:02,649 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@1a3174f7
10:23:02,649 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:23:02,665 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
10:23:02,665 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
10:23:02,665 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
10:23:02,665 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
10:23:02,665 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
10:23:02,665 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:22:59,968) and length=24373 bytes!
10:23:02,734 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
10:23:02,734 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:23:02,749 INFO common.Log4jPrint(20) - End reset System.out!
10:23:02,749 INFO net.SocketConf(27) - Into SocketConf.load()...
10:23:02,749 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
10:23:02,749 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:22:59,989) and length=708 bytes!
10:23:02,749 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
10:23:02,749 INFO net.SocketConf(60) - Out SocketConf.load()!
10:23:02,783 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
10:23:02,785 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
10:23:02,787 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
10:23:02,787 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
10:23:02,787 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
10:23:02,787 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
10:23:02,787 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
10:23:02,787 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
10:23:02,787 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
10:23:02,818 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:23:02,834 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
10:23:02,834 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
10:23:02,834 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
10:23:02,834 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:23:02,834 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
10:23:02,850 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
10:23:02,850 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
10:23:08,560 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
10:23:08,560 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
10:23:08,560 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
10:23:08,560 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
10:23:08,576 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
10:23:08,576 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:22:59,992) and length=1938 bytes!
10:23:08,560 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127029</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


10:23:08,578 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.018s
10:23:08,578 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
10:23:08,578 INFO test.SPDBTestUI(104) - 收到返回报文！
10:23:08,578 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

10:23:08,594 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
10:23:08,597 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
10:23:08,602 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
10:23:08,754 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
10:23:08,770 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
10:23:08,785 INFO midplat.Ybt4Socket(34) - TranLogNo:132444
10:23:08,785 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
10:23:08,785 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
10:23:08,785 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:23:08,785 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
10:23:08,785 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
10:23:08,785 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
10:23:08,917 DEBUG common.SaveMessage(23) - SavePath_HOME = null
10:23:08,917 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
10:23:08,917 INFO common.SaveMessage(94) - 132447_3_1001_in.xml IO输出耗时:0.0s
10:23:08,917 INFO net.SpdbNetImpl(84) - 保存报文完毕！132447_3_1001_in.xml
10:23:08,917 INFO net.SpdbNetImpl(88) - 交易标示1001
10:23:08,917 INFO common.Log4jPrint(20) - InNoDoc132447_3_1001_in.xml
10:23:08,917 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
10:23:08,917 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
10:23:08,939 INFO format.NewCont(17) - Into NewCont.noStd2Std()...
10:23:08,939 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:23:08,939 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
10:23:08,939 INFO common.XslCache(70) - conf file modified at (2017-04-19 10:21:18,835) and length=25305 bytes!
10:23:09,017 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
10:23:09,039 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv=1">0</xsl:when><!-- 趸交 --><xsl:when test="$payintv=2">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=3">6</xsl:when><!-- 半年交 --><xsl:when test="$payintv=4">3</xsl:when><!-- 季交 --><xsl:when test="$payintv=5">1</xsl:when><!-- 月交 --><xsl:when test="$payintv=6">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:23:09,039 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:23:09,055 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:23:09,055 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
10:23:09,055 INFO format.NewCont(21) - Out NewCont.noStd2Std()!
10:23:09,055 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
10:23:09,070 INFO service.NewContInput(31) - Into NewContInput.service()...
10:23:09,070 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
10:23:09,070 INFO common.Log4jPrint(20) - 进程名：132447
10:23:09,070 INFO common.Log4jPrint(20) - trancom:12
10:23:09,070 INFO common.Log4jPrint(20) - FuncFlag:1001
10:23:09,070 INFO common.Log4jPrint(20) - mHeadEle.getChildText132447_3_1001_in.xml
10:23:09,086 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:23:09,086 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132447,12,'9800','120101010001','201704191036030001127029','11024392',1001,20170419,102309,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132447_3_1001_in.xml',20170419,102309,20170419,102309 )
10:23:09,102 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
10:23:09,102 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=101949
10:23:09,117 INFO common.RuleXsl(176) - Into RuleXsl.load()...
10:23:09,117 INFO common.RuleXsl(179) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl...
10:23:09,117 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:39,044) and length=15623 bytes!
10:23:09,155 INFO common.RuleXsl(188) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl!
10:23:09,155 INFO common.RuleXsl(202) - Out RuleXsl.load()!
10:23:09,155 INFO common.RuleXml(228) - Into RuleXml.load()...
10:23:09,155 INFO common.RuleXml(231) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml...
10:23:09,155 INFO common.XmlConf(80) - conf file modified at (2017-04-19 10:22:59,987) and length=9884 bytes!
10:23:09,171 INFO common.RuleXml(238) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml!
10:23:09,171 INFO common.RuleXml(245) - Out RuleXml.load()!
10:23:09,171 INFO common.RuleParser(54) - Into RuleParser.check()...
10:23:09,171 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
10:23:09,171 INFO common.Log4jPrint(20) - 对邮编进行校验
10:23:09,171 INFO common.Log4jPrint(20) - 对邮编进行校验
10:23:09,171 INFO common.Log4jPrint(20) - 返回的结果是:0
10:23:09,171 INFO common.Log4jPrint(20) - 对邮编进行校验
10:23:09,171 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules />

10:23:09,171 INFO common.RuleParser(87) - Out RuleParser.checkByXsl()!
10:23:09,171 INFO common.RuleParser(67) - Out RuleParser.check()!
10:23:09,171 ERROR service.NewContInput(123) - 新契约试算交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.common.YBTDataVerification.SameGradeBnfVerification(YBTDataVerification.java:99)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:67)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
10:23:09,186 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:23:09,186 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:23:09,186 INFO common.Log4jPrint(20) - 201704191036030001127029
10:23:09,186 INFO common.Log4jPrint(20) - 201704191036030001127029
10:23:09,186 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132447,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127029',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=102309,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132447_3_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=102309,ModifyDate=20170419,ModifyTime=102309,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127029'
10:23:09,217 INFO service.NewContInput(143) - Out NewContInput.service()!
10:23:09,217 INFO format.NewCont(26) - Into NewCont.std2NoStd()...
10:23:09,217 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
10:23:09,217 INFO format.NewContOutXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl...
10:23:09,217 INFO common.XslCache(70) - conf file modified at (2017-04-18 15:15:47,008) and length=3826 bytes!
10:23:09,217 INFO format.NewContOutXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl!
10:23:09,237 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><!--保费试算 返回样式表 --><RETURN><!-- 应答状态 --><ACKSTS>0</ACKSTS><!-- 状态描述 --><STSDESC>正常</STSDESC><!-- 如果成功，返回下面节点 --><xsl:if test="Head/Flag='0'"><!-- 交易应答科目 --><BUSI><!-- 交易科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 投保单基本信息 --><MAIN><!-- 首期保费（大写） --><PREMC><xsl:value-of select="substring(Body/PremText,4)" /></PREMC><!-- 首期保费 --><PREM><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></PREM></MAIN><!-- 投保单号 --><APPNO><xsl:value-of select="Body/ProposalPrtNo" /></APPNO><!-- 保单号 --><POL><xsl:value-of select="Body/ContNo" /></POL><!-- 拒保原因代码 --><REJECT_CODE>0000</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC>交易成功</REJECT_DESC><!-- 险种列表 --><xsl:apply-templates select="Body" /><!-- 现金价值 --><xsl:choose><xsl:when test="boolean(//CashValues)"><xsl:apply-templates select="Body/Risk[RiskCode = MainRiskCode]/CashValues" /></xsl:when><xsl:otherwise><VT><VTI /></VT></xsl:otherwise></xsl:choose></CONTENT></BUSI></xsl:if><!-- 如果失败，返回下面节点 --><xsl:if test="Head/Flag!='0'"><!-- 交易应答科目 --><BUSI><!-- 交易应答科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 拒保原因代码 --><REJECT_CODE>1234</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC><xsl:value-of select="Head/Desc" /></REJECT_DESC></CONTENT></BUSI></xsl:if></RETURN></xsl:template><!-- 险种模板 --><xsl:template name="Risks" match="Body"><!-- 险种列表 --><PTS><xsl:for-each select="Risk"><xsl:if test="RiskCode = MainRiskCode"><!-- 险种 --><PT><!-- 险种代码 --><ID><xsl:value-of select="RiskCode" /></ID><!-- 投保份数 --><UNIT><xsl:value-of select="Mult" /></UNIT><!--  缴费年期类型--><CRG><xsl:choose><xsl:when test="PayIntv = '0'">1</xsl:when><xsl:when test="PayEndYearFlag = 'A'">6</xsl:when><!-- 缴至某确定年龄  --><xsl:when test="PayEndYearFlag = 'M'">5</xsl:when><!-- 月缴 --><xsl:when test="PayEndYearFlag = 'Y'">2</xsl:when><!-- 年缴 --></xsl:choose></CRG><!-- 险种名称 --><NAME><xsl:value-of select="RiskName" /></NAME><!-- 保障年期 --><PERIOD><xsl:value-of select="InsuYear" /></PERIOD><!-- 年金起领年龄 --><DRAW_T><xsl:value-of select="GetYear" /></DRAW_T><!-- 保险金额 --><AMT><xsl:value-of select="Amnt" /></AMT><!-- 投保金额 --><PREM><xsl:value-of select="Prem" /></PREM></PT></xsl:if></xsl:for-each></PTS></xsl:template><!-- 现价模板 --><xsl:template name="CashValues" match="Body/Risk[RiskCode = MainRiskCode]/CashValues"><!-- 现金价值表 --><VT><!-- 循环现价 --><xsl:for-each select="CashValue"><!-- 现金价值表项 --><VTI><!-- 生存年金 --><LIVE /><!-- 疾病身故保险金 --><ILL /><!-- 年份 --><YEAR><xsl:value-of select="EndYear" /></YEAR><!-- 年末 --><END /><!-- 年末现金价值 --><CASH><xsl:value-of select="Cash" /></CASH><!-- 意外身故保险金 --><ACI /></VTI></xsl:for-each></VT></xsl:template></xsl:stylesheet>

10:23:09,237 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
10:23:09,239 INFO format.NewCont(30) - Out NewCont.std2NoStd()!
10:23:09,240 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
10:23:09,240 INFO common.SaveMessage(94) - 132447_6_1001_out.xml IO输出耗时:0.0s
10:23:09,240 INFO net.SpdbNetImpl(130) - 保存报文完毕！132447_6_1001_out.xml
10:23:09,240 INFO net.SpdbNetImpl(138) - 返回报文长度：251
10:23:09,240 INFO common.Log4jPrint(20) - 完整报文头|INSU8000251     |
10:23:09,240 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
10:23:09,240 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000251     
10:23:09,247 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
10:23:09,249 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:23:09,249 INFO common.Log4jPrint(20) - null
10:23:09,249 INFO common.Log4jPrint(20) - null
10:23:09,249 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
10:23:09,249 INFO common.Log4jPrint(20) - i=0
10:23:09,249 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:23:09,249 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.464s
10:23:09,249 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:48:03,092 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:48:03,100 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
11:48:03,101 INFO common.XslCache(70) - conf file modified at (2017-04-19 11:47:58,240) and length=25338 bytes!
11:48:03,220 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
11:48:03,235 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><BeneficType>N</BeneficType><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv=1">0</xsl:when><!-- 趸交 --><xsl:when test="$payintv=2">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=3">6</xsl:when><!-- 半年交 --><xsl:when test="$payintv=4">3</xsl:when><!-- 季交 --><xsl:when test="$payintv=5">1</xsl:when><!-- 月交 --><xsl:when test="$payintv=6">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:48:03,242 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:49:03,322 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:49:03,322 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
11:49:03,323 INFO common.XslCache(70) - conf file modified at (2017-04-19 11:48:48,797) and length=25305 bytes!
11:49:03,415 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
11:49:03,435 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv=1">0</xsl:when><!-- 趸交 --><xsl:when test="$payintv=2">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=3">6</xsl:when><!-- 半年交 --><xsl:when test="$payintv=4">3</xsl:when><!-- 季交 --><xsl:when test="$payintv=5">1</xsl:when><!-- 月交 --><xsl:when test="$payintv=6">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:49:03,447 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:50:03,448 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:50:03,449 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
11:50:03,449 INFO common.XslCache(70) - conf file modified at (2017-04-19 11:49:15,413) and length=25338 bytes!
11:50:03,534 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
11:50:03,556 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><BeneficType>N</BeneficType></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv=1">0</xsl:when><!-- 趸交 --><xsl:when test="$payintv=2">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=3">6</xsl:when><!-- 半年交 --><xsl:when test="$payintv=4">3</xsl:when><!-- 季交 --><xsl:when test="$payintv=5">1</xsl:when><!-- 月交 --><xsl:when test="$payintv=6">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:50:03,560 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:50:09,925 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
11:50:09,975 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
11:50:09,972 INFO midplat.Ybt4Socket(34) - TranLogNo:132450
11:50:09,979 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
11:50:09,975 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
11:50:09,980 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
11:50:09,980 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127030</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


11:50:09,985 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.019s
11:50:09,986 INFO test.SPDBTestUI(104) - 收到返回报文！
11:50:09,995 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:50:09,996 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
11:50:09,997 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
11:50:09,997 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
11:50:10,037 INFO common.SaveMessage(94) - 132453_9_1001_in.xml IO输出耗时:0.027s
11:50:10,037 INFO net.SpdbNetImpl(84) - 保存报文完毕！132453_9_1001_in.xml
11:50:10,042 INFO net.SpdbNetImpl(88) - 交易标示1001
11:50:10,043 INFO common.Log4jPrint(20) - InNoDoc132453_9_1001_in.xml
11:50:10,044 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
11:50:10,045 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
11:50:10,046 INFO format.NewCont(22) - Into NewCont.noStd2Std()...
11:50:10,098 INFO format.NewContInXsl(27) - Into NewContInXsl.load()...
11:50:10,099 INFO format.NewContInXsl(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl...
11:50:10,100 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:31,218) and length=25970 bytes!
11:50:10,277 INFO format.NewContInXsl(37) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl!
11:50:10,278 INFO format.NewContInXsl(50) - Out NewContInXsl.load()!
11:50:10,528 INFO format.NewCont(27) - Out NewCont.noStd2Std()!
11:50:10,528 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
11:50:10,529 INFO service.NewContInput(31) - Into NewContInput.service()...
11:50:10,533 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.IllegalStateException: Root element not set
	at org.jdom.Document.getRootElement(Document.java:218)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:34)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
11:50:10,534 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
11:50:10,537 INFO common.SaveMessage(94) - 132453_12_1001_out.xml IO输出耗时:0.0020s
11:50:10,537 INFO net.SpdbNetImpl(130) - 保存报文完毕！132453_12_1001_out.xml
11:50:10,538 INFO net.SpdbNetImpl(138) - 返回报文长度：143
11:50:10,538 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
11:50:10,539 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
11:50:10,539 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
11:50:10,540 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
11:50:29,508 INFO common.Log4jPrint(20) - DBConn Exception1: IO 错误: Socket read timed out
11:50:29,509 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:886)
11:50:29,510 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1167)
11:50:29,510 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1289)
11:50:29,510 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1909)
11:50:29,510 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1871)
11:50:29,510 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:318)
11:50:29,510 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConn.createConnection(DBConn.java:150)
11:50:29,510 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConnPool.getConnection(DBConnPool.java:84)
11:50:29,510 INFO common.Log4jPrint(20) - 	at com.sinosoft.lis.db.TranLogDB.getInfo(TranLogDB.java:187)
11:50:29,510 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:177)
11:50:29,510 INFO common.Log4jPrint(20) - Caused by: oracle.net.ns.NetException: Socket read timed out
11:50:29,510 INFO common.Log4jPrint(20) - 	at oracle.net.ns.Packet.receive(Packet.java:339)
11:50:29,510 INFO common.Log4jPrint(20) - 	at oracle.net.ns.DataPacket.receive(DataPacket.java:106)
11:50:29,510 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:315)
11:50:29,515 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.read(NetInputStream.java:260)
11:50:29,515 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.read(NetInputStream.java:185)
11:50:29,516 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.read(NetInputStream.java:102)
11:50:29,516 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CSocketInputStreamWrapper.readNextPacket(T4CSocketInputStreamWrapper.java:124)
11:50:29,517 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CSocketInputStreamWrapper.read(T4CSocketInputStreamWrapper.java:80)
11:50:29,518 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1137)
11:50:29,518 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:290)
11:50:29,519 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:192)
11:50:29,520 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531)
11:50:29,521 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:193)
11:50:29,521 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:873)
11:50:29,521 INFO common.Log4jPrint(20) - 	... 9 more
11:50:29,521 INFO common.Log4jPrint(20) - DBConn : recreate DBConn
11:50:29,623 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:50:29,623 INFO common.Log4jPrint(20) - null
11:50:29,623 INFO common.Log4jPrint(20) - null
11:50:29,623 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
11:50:29,635 INFO common.Log4jPrint(20) - i=0
11:50:29,636 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:50:29,637 INFO midplat.Ybt4Socket(192) - 处理总耗时：19.643s
11:50:29,638 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:51:03,376 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
11:51:03,390 INFO midplat.Ybt4Socket(34) - TranLogNo:132456
11:51:03,390 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
11:51:03,390 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
11:51:03,391 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:51:03,391 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
11:51:03,392 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
11:51:03,392 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
11:51:03,393 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127030</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


11:51:03,396 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
11:51:03,396 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
11:51:03,398 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0070s
11:51:03,406 INFO test.SPDBTestUI(104) - 收到返回报文！
11:51:03,407 INFO common.SaveMessage(94) - 132459_15_1001_in.xml IO输出耗时:0.0030s
11:51:03,408 INFO net.SpdbNetImpl(84) - 保存报文完毕！132459_15_1001_in.xml
11:51:03,409 INFO net.SpdbNetImpl(88) - 交易标示1001
11:51:03,409 INFO common.Log4jPrint(20) - InNoDoc132459_15_1001_in.xml
11:51:03,410 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
11:51:03,410 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
11:51:03,411 INFO format.NewCont(22) - Into NewCont.noStd2Std()...
11:51:03,415 INFO format.NewCont(27) - Out NewCont.noStd2Std()!
11:51:03,416 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
11:51:03,416 INFO service.NewContInput(31) - Into NewContInput.service()...
11:51:03,417 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.IllegalStateException: Root element not set
	at org.jdom.Document.getRootElement(Document.java:218)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:34)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
11:51:03,417 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
11:51:03,420 INFO common.SaveMessage(94) - 132459_18_1001_out.xml IO输出耗时:0.0020s
11:51:03,421 INFO net.SpdbNetImpl(130) - 保存报文完毕！132459_18_1001_out.xml
11:51:03,421 INFO net.SpdbNetImpl(138) - 返回报文长度：143
11:51:03,422 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
11:51:03,422 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
11:51:03,422 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
11:51:03,423 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
11:51:03,561 INFO net.SocketConf(27) - Into SocketConf.load()...
11:51:03,562 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
11:51:03,563 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:51:02,520) and length=708 bytes!
11:51:03,568 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
11:51:03,569 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
11:51:03,569 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
11:51:03,570 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:51:03,570 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:51:03,571 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:51:03,572 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:51:03,572 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:51:03,571 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@447adfd
11:51:03,574 INFO common.Log4jPrint(20) - Start revert System.out...
11:51:03,575 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
11:51:03,575 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:51:03,576 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
11:51:03,577 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
11:51:03,577 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
11:51:03,578 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
11:51:03,578 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
11:51:03,579 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
11:51:03,579 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:51:03,580 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
11:51:03,580 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:51:03,581 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
11:51:03,581 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:51:03,581 INFO net.SocketConf(60) - Out SocketConf.load()!
11:51:03,582 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
11:51:03,589 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
11:51:03,590 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
11:51:03,591 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
11:51:03,589 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
11:51:03,590 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:51:03,590 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
11:51:03,595 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:51:02,521) and length=1938 bytes!
11:51:03,596 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:51:03,597 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.206s
11:51:03,598 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:51:03,601 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
11:51:03,602 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

11:51:03,602 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
11:51:03,602 INFO common.RuleXml(228) - Into RuleXml.load()...
11:51:03,603 INFO common.RuleXml(231) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml...
11:51:03,604 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:51:02,516) and length=9884 bytes!
11:51:03,619 INFO common.RuleXml(238) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml!
11:51:03,621 INFO common.RuleXml(245) - Out RuleXml.load()!
11:51:03,622 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:51:03,623 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
11:51:03,623 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:51:02,496) and length=24373 bytes!
11:51:03,634 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
11:51:03,635 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:51:08,765 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
11:51:08,766 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
11:51:08,767 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:51:08,767 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:51:08,767 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:51:08,767 DEBUG net.SocketListenerF5(143) - System.out = java.io.PrintStream@1a3174f7
11:51:08,767 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:51:08,767 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:51:12,489 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@1a3174f7
11:51:12,516 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:51:12,530 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
11:51:12,530 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
11:51:12,531 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:51:12,532 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
11:51:12,532 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
11:51:12,553 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:51:02,496) and length=24373 bytes!
11:51:12,621 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
11:51:12,654 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:51:12,675 INFO common.Log4jPrint(20) - End reset System.out!
11:51:12,680 INFO net.SocketConf(27) - Into SocketConf.load()...
11:51:12,681 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
11:51:12,681 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:51:02,520) and length=708 bytes!
11:51:12,685 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
11:51:12,685 INFO net.SocketConf(60) - Out SocketConf.load()!
11:51:12,708 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:51:12,726 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
11:51:12,774 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
11:51:12,776 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
11:51:12,787 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
11:51:12,788 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
11:51:12,788 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
11:51:12,790 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
11:51:12,795 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
11:51:12,796 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:51:12,801 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
11:51:12,816 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
11:51:12,817 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:51:12,823 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:51:12,837 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
11:51:12,838 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:51:12,841 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
11:51:48,193 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
11:51:55,739 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@5cde6b02
11:51:55,746 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:51:55,748 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
11:51:55,748 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
11:51:55,777 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:51:55,778 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
11:51:55,778 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
11:51:55,778 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:51:02,496) and length=24373 bytes!
11:51:55,896 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
11:51:55,918 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:51:55,920 INFO common.Log4jPrint(20) - End reset System.out!
11:51:55,927 INFO net.SocketConf(27) - Into SocketConf.load()...
11:51:55,928 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
11:51:55,929 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:51:02,520) and length=708 bytes!
11:51:55,939 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
11:51:55,940 INFO net.SocketConf(60) - Out SocketConf.load()!
11:51:55,968 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:51:55,971 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
11:51:55,978 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
11:51:55,979 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
11:51:55,981 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
11:51:55,981 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
11:51:55,987 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
11:51:55,988 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
11:51:55,990 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
11:51:55,990 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
11:51:55,989 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:51:55,992 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
11:51:55,992 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:51:55,998 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
11:51:55,999 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:51:56,002 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
11:51:56,002 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:52:00,462 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
11:52:00,482 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
11:52:00,482 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
11:52:00,482 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127031</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


11:52:00,490 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0070s
11:52:00,491 INFO test.SPDBTestUI(104) - 收到返回报文！
11:52:00,530 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
11:52:00,531 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
11:52:00,531 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:51:02,521) and length=1938 bytes!
11:52:00,538 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
11:52:00,548 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

11:52:00,549 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
11:52:00,560 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
11:52:00,563 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
11:52:01,000 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
11:52:01,016 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
11:52:01,026 INFO midplat.Ybt4Socket(34) - TranLogNo:132450
11:52:01,027 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
11:52:01,071 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
11:52:01,071 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:52:01,071 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
11:52:01,081 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
11:52:01,081 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
11:52:01,250 DEBUG common.SaveMessage(23) - SavePath_HOME = null
11:52:01,251 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
11:52:01,254 INFO common.SaveMessage(94) - 132453_3_1001_in.xml IO输出耗时:0.0030s
11:52:01,254 INFO net.SpdbNetImpl(84) - 保存报文完毕！132453_3_1001_in.xml
11:52:01,259 INFO net.SpdbNetImpl(88) - 交易标示1001
11:52:01,260 INFO common.Log4jPrint(20) - InNoDoc132453_3_1001_in.xml
11:52:01,262 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
11:52:01,263 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
11:52:01,319 INFO format.NewCont(22) - Into NewCont.noStd2Std()...
11:52:01,326 INFO format.NewContInXsl(27) - Into NewContInXsl.load()...
11:52:01,331 INFO format.NewContInXsl(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl...
11:52:01,332 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:31,218) and length=25970 bytes!
11:52:02,266 INFO format.NewContInXsl(37) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl!
11:52:02,267 INFO format.NewContInXsl(50) - Out NewContInXsl.load()!
11:52:02,368 INFO format.NewCont(27) - Out NewCont.noStd2Std()!
11:52:02,368 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
11:52:02,451 INFO service.NewContInput(31) - Into NewContInput.service()...
11:52:02,458 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.IllegalStateException: Root element not set
	at org.jdom.Document.getRootElement(Document.java:218)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:34)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
11:52:02,494 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
11:52:02,494 INFO common.SaveMessage(94) - 132453_6_1001_out.xml IO输出耗时:0.0s
11:52:02,500 INFO net.SpdbNetImpl(130) - 保存报文完毕！132453_6_1001_out.xml
11:52:02,500 INFO net.SpdbNetImpl(138) - 返回报文长度：143
11:52:02,501 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
11:52:02,502 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
11:52:02,502 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000

11:52:02,605 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:52:02,605 INFO common.Log4jPrint(20) - null
11:52:02,605 INFO common.Log4jPrint(20) - null
11:52:02,605 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
11:52:02,616 INFO common.Log4jPrint(20) - i=0
11:52:02,619 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:52:02,625 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.554s
11:52:02,625 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:54:17,719 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@306a4bda
11:54:17,761 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:54:17,770 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
11:54:17,770 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
11:54:17,772 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:54:17,773 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
11:54:17,774 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
11:54:17,793 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:53:59,530) and length=24373 bytes!
11:54:17,864 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
11:54:17,869 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:54:17,909 INFO common.Log4jPrint(20) - End reset System.out!
11:54:17,916 INFO net.SocketConf(27) - Into SocketConf.load()...
11:54:17,916 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
11:54:17,917 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:53:59,565) and length=708 bytes!
11:54:17,919 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
11:54:17,919 INFO net.SocketConf(60) - Out SocketConf.load()!
11:54:17,945 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:54:17,955 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
11:54:17,981 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
11:54:17,981 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
11:54:17,981 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
11:54:17,989 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
11:54:17,990 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
11:54:17,991 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
11:54:17,991 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:54:18,000 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
11:54:18,001 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
11:54:18,011 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
11:54:18,011 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:54:18,020 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:54:18,034 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
11:54:18,035 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:54:18,042 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
11:54:18,904 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
11:54:18,905 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
11:54:18,905 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@64eee839
11:54:18,905 INFO common.Log4jPrint(20) - Start revert System.out...
11:54:18,905 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
11:54:18,905 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:54:18,905 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:54:18,921 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:54:18,911 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:54:18,911 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
11:54:19,849 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@306a4bda
11:54:19,860 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:54:19,860 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
11:54:19,860 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
11:54:19,865 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:54:19,866 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
11:54:19,866 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
11:54:19,869 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:53:59,530) and length=24373 bytes!
11:54:19,919 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
11:54:19,921 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:54:19,927 INFO common.Log4jPrint(20) - End reset System.out!
11:54:19,929 INFO net.SocketConf(27) - Into SocketConf.load()...
11:54:19,929 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
11:54:19,931 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:53:59,565) and length=708 bytes!
11:54:19,936 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
11:54:19,936 INFO net.SocketConf(60) - Out SocketConf.load()!
11:54:19,951 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:54:19,958 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
11:54:19,962 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
11:54:19,964 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
11:54:19,965 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
11:54:19,968 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
11:54:19,969 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
11:54:19,970 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
11:54:19,972 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
11:54:19,972 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:54:19,972 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
11:54:19,972 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
11:54:19,972 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:54:19,972 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:54:19,979 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
11:54:19,981 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:54:19,982 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
11:54:27,682 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
11:54:27,705 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
11:54:27,705 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
11:54:27,707 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127032</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


11:54:27,711 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0050s
11:54:27,712 INFO test.SPDBTestUI(104) - 收到返回报文！
11:54:27,718 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
11:54:27,719 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
11:54:27,719 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:53:59,568) and length=1938 bytes!
11:54:27,725 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
11:54:27,737 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

11:54:27,738 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
11:54:27,750 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
11:54:27,754 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
11:54:28,031 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
11:54:28,044 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
11:54:28,054 INFO midplat.Ybt4Socket(34) - TranLogNo:132450
11:54:28,054 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
11:54:28,078 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
11:54:28,078 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:54:28,078 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
11:54:28,090 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
11:54:28,090 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
11:54:28,250 DEBUG common.SaveMessage(23) - SavePath_HOME = null
11:54:28,250 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
11:54:28,258 INFO common.SaveMessage(94) - 132453_3_1001_in.xml IO输出耗时:0.0070s
11:54:28,258 INFO net.SpdbNetImpl(84) - 保存报文完毕！132453_3_1001_in.xml
11:54:28,259 INFO net.SpdbNetImpl(88) - 交易标示1001
11:54:28,260 INFO common.Log4jPrint(20) - InNoDoc132453_3_1001_in.xml
11:54:28,261 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
11:54:28,262 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
11:54:28,267 INFO format.NewCont(22) - Into NewCont.noStd2Std()...
11:54:28,287 INFO format.NewContInXsl(27) - Into NewContInXsl.load()...
11:54:28,288 INFO format.NewContInXsl(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl...
11:54:28,288 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:31,218) and length=25970 bytes!
11:54:28,855 INFO format.NewContInXsl(37) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl!
11:54:28,866 INFO format.NewContInXsl(50) - Out NewContInXsl.load()!
11:54:28,908 INFO format.NewCont(26) - Out NewCont.noStd2Std()!
11:54:28,908 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
11:54:28,978 INFO service.NewContInput(31) - Into NewContInput.service()...
11:54:28,982 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.IllegalStateException: Root element not set
	at org.jdom.Document.getRootElement(Document.java:218)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:34)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
11:54:29,024 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
11:54:29,033 INFO common.SaveMessage(94) - 132453_6_1001_out.xml IO输出耗时:0.0010s
11:54:29,033 INFO net.SpdbNetImpl(130) - 保存报文完毕！132453_6_1001_out.xml
11:54:29,033 INFO net.SpdbNetImpl(138) - 返回报文长度：143
11:54:29,033 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
11:54:29,033 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
11:54:29,033 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
11:54:29,038 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
11:54:29,124 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:54:29,125 INFO common.Log4jPrint(20) - null
11:54:29,125 INFO common.Log4jPrint(20) - null
11:54:29,126 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
11:54:29,134 INFO common.Log4jPrint(20) - i=0
11:54:29,134 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:54:29,134 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.056s
11:54:29,134 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:55:13,630 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
11:55:13,650 INFO midplat.Ybt4Socket(34) - TranLogNo:132456
11:55:13,650 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
11:55:13,653 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
11:55:13,653 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
11:55:13,653 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
11:55:13,654 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:55:13,655 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
11:55:13,655 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127033</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


11:55:13,662 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
11:55:13,663 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
11:55:13,664 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.012s
11:55:13,665 INFO test.SPDBTestUI(104) - 收到返回报文！
11:55:13,679 INFO common.SaveMessage(94) - 132459_9_1001_in.xml IO输出耗时:0.0090s
11:55:13,680 INFO net.SpdbNetImpl(84) - 保存报文完毕！132459_9_1001_in.xml
11:55:13,682 INFO net.SpdbNetImpl(88) - 交易标示1001
11:55:13,683 INFO common.Log4jPrint(20) - InNoDoc132459_9_1001_in.xml
11:55:13,684 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
11:55:13,685 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
11:55:13,685 INFO format.NewCont(22) - Into NewCont.noStd2Std()...
11:55:13,687 INFO format.NewCont(26) - Out NewCont.noStd2Std()!
11:55:13,687 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
11:55:13,688 INFO service.NewContInput(31) - Into NewContInput.service()...
11:56:44,734 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
11:56:44,753 INFO midplat.Ybt4Socket(34) - TranLogNo:132462
11:56:44,754 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
11:56:44,754 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
11:56:44,754 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:56:44,755 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
11:56:44,764 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
11:56:44,769 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
11:56:44,770 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127033</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


11:56:44,774 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
11:56:44,774 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
11:56:44,774 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.021s
11:56:44,774 INFO test.SPDBTestUI(104) - 收到返回报文！
11:56:44,784 INFO common.SaveMessage(94) - 132465_12_1001_in.xml IO输出耗时:0.0020s
11:56:44,785 INFO net.SpdbNetImpl(84) - 保存报文完毕！132465_12_1001_in.xml
11:56:44,786 INFO net.SpdbNetImpl(88) - 交易标示1001
11:56:44,786 INFO common.Log4jPrint(20) - InNoDoc132465_12_1001_in.xml
11:56:44,787 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
11:56:44,788 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
11:57:22,767 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@37db1db7
11:57:22,778 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:57:22,792 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
11:57:22,793 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
11:57:22,794 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:57:22,795 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
11:57:22,795 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
11:57:22,817 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:53:59,530) and length=24373 bytes!
11:57:22,908 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
11:57:22,921 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:57:22,940 INFO common.Log4jPrint(20) - End reset System.out!
11:57:22,943 INFO net.SocketConf(27) - Into SocketConf.load()...
11:57:22,944 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
11:57:22,945 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:53:59,565) and length=708 bytes!
11:57:22,951 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
11:57:22,951 INFO net.SocketConf(60) - Out SocketConf.load()!
11:57:22,978 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:57:22,985 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
11:57:23,011 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
11:57:23,011 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
11:57:23,020 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
11:57:23,021 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
11:57:23,021 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
11:57:23,022 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
11:57:23,022 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
11:57:23,022 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:57:23,030 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
11:57:23,044 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
11:57:23,044 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:57:23,045 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:57:23,052 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
11:57:23,052 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:57:23,052 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
11:57:26,171 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
11:57:26,191 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
11:57:26,191 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
11:57:26,191 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127033</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


11:57:26,200 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0090s
11:57:26,202 INFO test.SPDBTestUI(104) - 收到返回报文！
11:57:26,219 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
11:57:26,219 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
11:57:26,220 INFO common.XmlConf(80) - conf file modified at (2017-04-19 11:53:59,568) and length=1938 bytes!
11:57:26,231 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
11:57:26,242 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

11:57:26,242 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
11:57:26,250 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
11:57:26,256 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
11:57:26,533 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
11:57:26,547 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
11:57:26,560 INFO midplat.Ybt4Socket(34) - TranLogNo:132450
11:57:26,560 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
11:57:26,607 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
11:57:26,608 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:57:26,608 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
11:57:26,624 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
11:57:26,625 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
11:57:26,818 DEBUG common.SaveMessage(23) - SavePath_HOME = null
11:57:26,819 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
11:57:26,823 INFO common.SaveMessage(94) - 132453_3_1001_in.xml IO输出耗时:0.0040s
11:57:26,823 INFO net.SpdbNetImpl(84) - 保存报文完毕！132453_3_1001_in.xml
11:57:26,824 INFO net.SpdbNetImpl(88) - 交易标示1001
11:57:26,825 INFO common.Log4jPrint(20) - InNoDoc132453_3_1001_in.xml
11:57:26,826 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
11:57:26,827 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
11:57:31,189 INFO format.NewCont(22) - Into NewCont.noStd2Std()...
11:57:32,403 INFO format.NewContInXsl(27) - Into NewContInXsl.load()...
11:57:32,412 INFO format.NewContInXsl(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl...
11:57:32,424 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:31,218) and length=25970 bytes!
11:57:39,844 INFO format.NewContInXsl(37) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl!
11:57:39,856 INFO format.NewContInXsl(50) - Out NewContInXsl.load()!
11:58:40,205 INFO format.NewCont(26) - Out NewCont.noStd2Std()!
11:58:40,206 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
11:58:40,299 INFO service.NewContInput(31) - Into NewContInput.service()...
11:58:42,219 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.IllegalStateException: Root element not set
	at org.jdom.Document.getRootElement(Document.java:218)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:34)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
11:58:42,288 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
11:58:42,294 INFO common.SaveMessage(94) - 132453_6_1001_out.xml IO输出耗时:0.0030s
11:58:42,294 INFO net.SpdbNetImpl(130) - 保存报文完毕！132453_6_1001_out.xml
11:58:42,295 INFO net.SpdbNetImpl(138) - 返回报文长度：143
11:58:42,296 INFO common.Log4jPrint(20) - 完整报文头|INSU8000143     |
11:58:42,297 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
11:58:42,303 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000143     
11:58:42,309 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
11:58:42,431 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:58:42,432 INFO common.Log4jPrint(20) - null
11:58:42,432 INFO common.Log4jPrint(20) - null
11:58:42,432 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
11:58:42,442 INFO common.Log4jPrint(20) - i=0
11:58:42,450 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:58:42,452 INFO midplat.Ybt4Socket(192) - 处理总耗时：75.844s
11:58:42,452 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:00:28,235 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
12:00:43,012 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@22cb855e
12:00:43,040 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:00:43,047 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
12:00:43,047 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
12:00:43,047 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:00:43,053 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
12:00:43,053 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
12:00:43,068 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:00:12,241) and length=24373 bytes!
12:00:43,146 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
12:00:43,158 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:00:43,193 INFO common.Log4jPrint(20) - End reset System.out!
12:00:43,195 INFO net.SocketConf(27) - Into SocketConf.load()...
12:00:43,197 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
12:00:43,199 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:00:12,268) and length=708 bytes!
12:00:43,205 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
12:00:43,206 INFO net.SocketConf(60) - Out SocketConf.load()!
12:00:43,230 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:00:43,243 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
12:00:43,281 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
12:00:43,282 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
12:00:43,286 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
12:00:43,287 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
12:00:43,286 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
12:00:43,290 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
12:00:43,291 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
12:00:43,291 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:00:43,298 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
12:00:43,311 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
12:00:43,311 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:00:43,316 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:00:43,335 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
12:00:43,337 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:00:43,338 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
12:00:44,026 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
12:00:44,027 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
12:00:44,029 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@5ee55d17
12:00:44,031 INFO common.Log4jPrint(20) - Start revert System.out...
12:00:44,032 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:00:44,032 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:00:44,032 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:00:44,032 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:00:44,031 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:00:44,032 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
12:00:44,771 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@22cb855e
12:00:44,777 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:00:44,780 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
12:00:44,780 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
12:00:44,781 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:00:44,781 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
12:00:44,782 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
12:00:44,784 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:00:12,241) and length=24373 bytes!
12:00:44,830 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
12:00:44,844 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:00:44,844 INFO common.Log4jPrint(20) - End reset System.out!
12:00:44,844 INFO net.SocketConf(27) - Into SocketConf.load()...
12:00:44,844 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
12:00:44,851 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:00:12,268) and length=708 bytes!
12:00:44,856 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
12:00:44,857 INFO net.SocketConf(60) - Out SocketConf.load()!
12:00:44,875 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:00:44,883 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
12:00:44,894 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
12:00:44,894 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
12:00:44,896 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
12:00:44,896 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
12:00:44,896 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
12:00:44,896 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:00:44,904 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
12:00:44,905 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:00:44,906 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
12:00:44,912 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:00:44,912 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
12:00:44,911 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
12:00:44,911 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:00:44,906 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
12:00:44,906 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
12:00:48,285 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
12:00:48,303 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
12:00:48,304 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
12:00:48,305 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127034</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


12:00:48,308 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0060s
12:00:48,309 INFO test.SPDBTestUI(104) - 收到返回报文！
12:00:48,360 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
12:00:48,361 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
12:00:48,362 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:00:12,270) and length=1938 bytes!
12:00:48,367 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
12:00:48,376 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

12:00:48,377 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
12:00:48,381 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
12:00:48,392 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
12:00:48,713 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
12:00:48,730 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
12:00:48,743 INFO midplat.Ybt4Socket(34) - TranLogNo:132450
12:00:48,744 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
12:00:48,789 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
12:00:48,790 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:00:48,791 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
12:00:48,800 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
12:00:48,800 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
12:00:48,939 DEBUG common.SaveMessage(23) - SavePath_HOME = null
12:00:48,939 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
12:00:48,949 INFO common.SaveMessage(94) - 132453_3_1001_in.xml IO输出耗时:0.0040s
12:00:48,949 INFO net.SpdbNetImpl(84) - 保存报文完毕！132453_3_1001_in.xml
12:00:48,955 INFO net.SpdbNetImpl(88) - 交易标示1001
12:00:48,956 INFO common.Log4jPrint(20) - InNoDoc132453_3_1001_in.xml
12:00:48,957 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
12:00:48,958 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
12:00:53,301 INFO format.NewCont(22) - Into NewCont.noStd2Std()...
12:00:54,453 INFO format.NewContInXsl(27) - Into NewContInXsl.load()...
12:00:54,459 INFO format.NewContInXsl(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl...
12:00:54,471 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:31,218) and length=25970 bytes!
12:01:01,502 INFO format.NewContInXsl(37) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl!
12:01:01,509 INFO format.NewContInXsl(50) - Out NewContInXsl.load()!
12:02:09,475 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@60cb7d7c
12:02:09,483 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:02:09,486 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
12:02:09,486 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
12:02:09,523 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:02:09,524 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
12:02:09,525 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
12:02:09,528 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:01:53,556) and length=24373 bytes!
12:02:09,587 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
12:02:09,600 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:02:09,607 INFO common.Log4jPrint(20) - End reset System.out!
12:02:09,609 INFO net.SocketConf(27) - Into SocketConf.load()...
12:02:09,610 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
12:02:09,610 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:01:53,579) and length=708 bytes!
12:02:09,610 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
12:02:09,615 INFO net.SocketConf(60) - Out SocketConf.load()!
12:02:09,652 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:02:09,656 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
12:02:09,668 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
12:02:09,671 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
12:02:09,671 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
12:02:09,677 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
12:02:09,678 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
12:02:09,680 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
12:02:09,680 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:02:09,680 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
12:02:09,680 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
12:02:09,686 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
12:02:09,688 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:02:09,691 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
12:02:09,691 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:02:09,707 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
12:02:09,709 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:02:10,392 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
12:02:10,392 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
12:02:10,392 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@1fd484c3
12:02:10,392 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:02:10,398 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:02:10,398 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:02:10,398 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:02:10,392 INFO common.Log4jPrint(20) - Start revert System.out...
12:02:10,392 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:02:10,402 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
12:02:11,296 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@60cb7d7c
12:02:11,304 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:02:11,306 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
12:02:11,306 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
12:02:11,306 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:02:11,306 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
12:02:11,306 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
12:02:11,312 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:01:53,556) and length=24373 bytes!
12:02:11,357 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
12:02:11,371 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:02:11,373 INFO common.Log4jPrint(20) - End reset System.out!
12:02:11,375 INFO net.SocketConf(27) - Into SocketConf.load()...
12:02:11,376 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
12:02:11,377 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:01:53,579) and length=708 bytes!
12:02:11,382 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
12:02:11,382 INFO net.SocketConf(60) - Out SocketConf.load()!
12:02:11,405 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:02:11,407 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
12:02:11,414 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
12:02:11,415 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
12:02:11,417 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
12:02:11,418 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
12:02:11,417 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
12:02:11,418 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
12:02:11,418 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
12:02:11,418 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
12:02:11,418 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:02:11,426 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
12:02:11,427 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:02:11,427 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:02:11,428 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
12:02:11,428 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:02:11,428 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
12:02:21,005 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
12:02:21,018 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
12:02:21,018 INFO test.SPDBTestUI(86) - 请求报文体长度：3084    
12:02:21,018 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
12:02:21,022 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
12:02:21,023 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:01:53,581) and length=1938 bytes!
12:02:21,018 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003084    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127035</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME />
            <IDTYPE />
            <IDNO />
            <IDVALIDATE />
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX />
            <BIRTH />
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


12:02:21,026 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0070s
12:02:21,027 INFO test.SPDBTestUI(104) - 收到返回报文！
12:02:21,028 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
12:02:21,039 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

12:02:21,039 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
12:02:21,039 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
12:02:21,048 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
12:02:21,282 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
12:02:21,296 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
12:02:21,308 INFO midplat.Ybt4Socket(34) - TranLogNo:132450
12:02:21,308 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
12:02:21,313 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
12:02:21,314 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:02:21,314 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
12:02:21,318 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
12:02:21,318 DEBUG net.SpdbNetImpl(38) - 报文长度：3084
12:02:21,469 DEBUG common.SaveMessage(23) - SavePath_HOME = null
12:02:21,470 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
12:02:21,483 INFO common.SaveMessage(94) - 132453_3_1001_in.xml IO输出耗时:0.012s
12:02:21,484 INFO net.SpdbNetImpl(84) - 保存报文完毕！132453_3_1001_in.xml
12:02:21,485 INFO net.SpdbNetImpl(88) - 交易标示1001
12:02:21,486 INFO common.Log4jPrint(20) - InNoDoc132453_3_1001_in.xml
12:02:21,487 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
12:02:21,492 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
12:02:21,498 INFO format.NewCont(18) - Into NewCont.noStd2Std()...
12:02:21,521 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
12:02:21,522 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
12:02:21,523 INFO common.XslCache(70) - conf file modified at (2017-04-19 11:49:15,413) and length=25338 bytes!
12:02:21,897 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
12:02:21,937 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><BeneficType>N</BeneficType></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv=1">0</xsl:when><!-- 趸交 --><xsl:when test="$payintv=2">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=3">6</xsl:when><!-- 半年交 --><xsl:when test="$payintv=4">3</xsl:when><!-- 季交 --><xsl:when test="$payintv=5">1</xsl:when><!-- 月交 --><xsl:when test="$payintv=6">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

12:02:21,940 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
12:02:22,001 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
12:02:22,003 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
12:02:22,009 INFO format.NewCont(22) - Out NewCont.noStd2Std()!
12:02:22,010 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
12:02:22,016 INFO service.NewContInput(31) - Into NewContInput.service()...
12:02:22,017 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
12:02:22,029 INFO common.Log4jPrint(20) - 进程名：132453
12:02:22,030 INFO common.Log4jPrint(20) - trancom:12
12:02:22,030 INFO common.Log4jPrint(20) - FuncFlag:1001
12:02:22,030 INFO common.Log4jPrint(20) - mHeadEle.getChildText132453_3_1001_in.xml
12:02:22,040 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:02:22,041 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132453,12,'9800','120101010001','201704191036030001127035','11024392',1001,20170419,120221,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132453_3_1001_in.xml',20170419,120222,20170419,120222 )
12:02:22,052 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
12:02:22,053 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=115902
12:02:22,105 INFO common.RuleXsl(176) - Into RuleXsl.load()...
12:02:22,106 INFO common.RuleXsl(179) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl...
12:02:22,107 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:39,044) and length=15623 bytes!
12:02:22,231 INFO common.RuleXsl(188) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl!
12:02:22,232 INFO common.RuleXsl(202) - Out RuleXsl.load()!
12:02:22,263 INFO common.RuleXml(228) - Into RuleXml.load()...
12:02:22,264 INFO common.RuleXml(231) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml...
12:02:22,265 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:01:53,576) and length=9884 bytes!
12:02:22,273 INFO common.RuleXml(238) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml!
12:02:22,273 INFO common.RuleXml(245) - Out RuleXml.load()!
12:02:22,274 INFO common.RuleParser(54) - Into RuleParser.check()...
12:02:22,274 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
12:02:22,279 INFO common.Log4jPrint(20) - 对邮编进行校验
12:02:22,279 INFO common.Log4jPrint(20) - 对邮编进行校验
12:02:22,279 INFO common.Log4jPrint(20) - 返回的结果是:0
12:02:22,280 INFO common.Log4jPrint(20) - 对邮编进行校验
12:02:22,281 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules><msg>受益人姓名不能为空</msg><msg>受益人性别不能为空</msg><msg>受益人出生日期不能为空</msg><msg>受益人证件类型不能为空</msg><msg>受益人证件号码不能为空</msg><msg>受益人与被保人的关系不能为空</msg></rules>

12:02:22,283 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 受益人姓名不能为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:84)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:58)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:64)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
12:02:22,292 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:02:22,292 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:02:22,293 INFO common.Log4jPrint(20) - 201704191036030001127035
12:02:22,293 INFO common.Log4jPrint(20) - 201704191036030001127035
12:02:22,293 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132453,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127035',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=120221,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='受益人姓名不能为空',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132453_3_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=120222,ModifyDate=20170419,ModifyTime=120222,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127035'
12:02:22,304 INFO service.NewContInput(143) - Out NewContInput.service()!
12:02:22,305 INFO format.NewCont(27) - Into NewCont.std2NoStd()...
12:02:22,307 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
12:02:22,307 INFO format.NewContOutXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl...
12:02:22,308 INFO common.XslCache(70) - conf file modified at (2017-04-18 15:15:47,008) and length=3826 bytes!
12:02:22,377 INFO format.NewContOutXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl!
12:02:22,385 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><!--保费试算 返回样式表 --><RETURN><!-- 应答状态 --><ACKSTS>0</ACKSTS><!-- 状态描述 --><STSDESC>正常</STSDESC><!-- 如果成功，返回下面节点 --><xsl:if test="Head/Flag='0'"><!-- 交易应答科目 --><BUSI><!-- 交易科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 投保单基本信息 --><MAIN><!-- 首期保费（大写） --><PREMC><xsl:value-of select="substring(Body/PremText,4)" /></PREMC><!-- 首期保费 --><PREM><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></PREM></MAIN><!-- 投保单号 --><APPNO><xsl:value-of select="Body/ProposalPrtNo" /></APPNO><!-- 保单号 --><POL><xsl:value-of select="Body/ContNo" /></POL><!-- 拒保原因代码 --><REJECT_CODE>0000</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC>交易成功</REJECT_DESC><!-- 险种列表 --><xsl:apply-templates select="Body" /><!-- 现金价值 --><xsl:choose><xsl:when test="boolean(//CashValues)"><xsl:apply-templates select="Body/Risk[RiskCode = MainRiskCode]/CashValues" /></xsl:when><xsl:otherwise><VT><VTI /></VT></xsl:otherwise></xsl:choose></CONTENT></BUSI></xsl:if><!-- 如果失败，返回下面节点 --><xsl:if test="Head/Flag!='0'"><!-- 交易应答科目 --><BUSI><!-- 交易应答科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 拒保原因代码 --><REJECT_CODE>1234</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC><xsl:value-of select="Head/Desc" /></REJECT_DESC></CONTENT></BUSI></xsl:if></RETURN></xsl:template><!-- 险种模板 --><xsl:template name="Risks" match="Body"><!-- 险种列表 --><PTS><xsl:for-each select="Risk"><xsl:if test="RiskCode = MainRiskCode"><!-- 险种 --><PT><!-- 险种代码 --><ID><xsl:value-of select="RiskCode" /></ID><!-- 投保份数 --><UNIT><xsl:value-of select="Mult" /></UNIT><!--  缴费年期类型--><CRG><xsl:choose><xsl:when test="PayIntv = '0'">1</xsl:when><xsl:when test="PayEndYearFlag = 'A'">6</xsl:when><!-- 缴至某确定年龄  --><xsl:when test="PayEndYearFlag = 'M'">5</xsl:when><!-- 月缴 --><xsl:when test="PayEndYearFlag = 'Y'">2</xsl:when><!-- 年缴 --></xsl:choose></CRG><!-- 险种名称 --><NAME><xsl:value-of select="RiskName" /></NAME><!-- 保障年期 --><PERIOD><xsl:value-of select="InsuYear" /></PERIOD><!-- 年金起领年龄 --><DRAW_T><xsl:value-of select="GetYear" /></DRAW_T><!-- 保险金额 --><AMT><xsl:value-of select="Amnt" /></AMT><!-- 投保金额 --><PREM><xsl:value-of select="Prem" /></PREM></PT></xsl:if></xsl:for-each></PTS></xsl:template><!-- 现价模板 --><xsl:template name="CashValues" match="Body/Risk[RiskCode = MainRiskCode]/CashValues"><!-- 现金价值表 --><VT><!-- 循环现价 --><xsl:for-each select="CashValue"><!-- 现金价值表项 --><VTI><!-- 生存年金 --><LIVE /><!-- 疾病身故保险金 --><ILL /><!-- 年份 --><YEAR><xsl:value-of select="EndYear" /></YEAR><!-- 年末 --><END /><!-- 年末现金价值 --><CASH><xsl:value-of select="Cash" /></CASH><!-- 意外身故保险金 --><ACI /></VTI></xsl:for-each></VT></xsl:template></xsl:stylesheet>

12:02:22,385 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
12:02:22,387 INFO format.NewCont(31) - Out NewCont.std2NoStd()!
12:02:22,388 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
12:02:22,395 INFO common.SaveMessage(94) - 132453_6_1001_out.xml IO输出耗时:0.0060s
12:02:22,395 INFO net.SpdbNetImpl(130) - 保存报文完毕！132453_6_1001_out.xml
12:02:22,395 INFO net.SpdbNetImpl(138) - 返回报文长度：281
12:02:22,396 INFO common.Log4jPrint(20) - 完整报文头|INSU8000281     |
12:02:22,396 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
12:02:22,396 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000281     
12:02:22,397 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
12:02:22,399 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:02:22,399 INFO common.Log4jPrint(20) - null
12:02:22,399 INFO common.Log4jPrint(20) - null
12:02:22,399 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
12:02:22,409 INFO common.Log4jPrint(20) - i=0
12:02:22,409 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:02:22,409 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.095s
12:02:22,415 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:05:44,528 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
12:05:44,547 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
12:05:44,547 INFO midplat.Ybt4Socket(34) - TranLogNo:132456
12:05:44,549 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
12:05:44,549 INFO test.SPDBTestUI(86) - 请求报文体长度：3162    
12:05:44,549 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
12:05:44,550 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003162    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127036</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME>黄健</NAME>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>Z</BBR_RELA>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


12:05:44,556 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0080s
12:05:44,558 INFO test.SPDBTestUI(104) - 收到返回报文！
12:05:44,564 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:05:44,564 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
12:05:44,565 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
12:05:44,565 DEBUG net.SpdbNetImpl(38) - 报文长度：3162
12:05:44,585 INFO common.SaveMessage(94) - 132459_9_1001_in.xml IO输出耗时:0.011s
12:05:44,586 INFO net.SpdbNetImpl(84) - 保存报文完毕！132459_9_1001_in.xml
12:05:44,587 INFO net.SpdbNetImpl(88) - 交易标示1001
12:05:44,588 INFO common.Log4jPrint(20) - InNoDoc132459_9_1001_in.xml
12:05:44,589 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
12:05:44,589 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
12:05:44,589 INFO format.NewCont(18) - Into NewCont.noStd2Std()...
12:05:44,595 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
12:05:44,597 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
12:05:44,599 INFO format.NewCont(22) - Out NewCont.noStd2Std()!
12:05:44,600 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
12:05:44,600 INFO service.NewContInput(31) - Into NewContInput.service()...
12:05:44,601 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
12:05:44,602 INFO common.Log4jPrint(20) - 进程名：132459
12:05:44,603 INFO common.Log4jPrint(20) - trancom:12
12:05:44,603 INFO common.Log4jPrint(20) - FuncFlag:1001
12:05:44,604 INFO common.Log4jPrint(20) - mHeadEle.getChildText132459_9_1001_in.xml
12:05:44,612 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:05:44,613 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132459,12,'9800','120101010001','201704191036030001127036','11024392',1001,20170419,120544,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132459_9_1001_in.xml',20170419,120544,20170419,120544 )
12:05:44,623 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
12:05:44,624 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=120224
12:05:44,645 INFO common.RuleParser(54) - Into RuleParser.check()...
12:05:44,646 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
12:05:44,649 INFO common.Log4jPrint(20) - 对邮编进行校验
12:05:44,650 INFO common.Log4jPrint(20) - 对邮编进行校验
12:05:44,650 INFO common.Log4jPrint(20) - 返回的结果是:0
12:05:44,651 INFO common.Log4jPrint(20) - 对邮编进行校验
12:05:44,652 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules><msg>受益人与被保人的关系不能为空</msg></rules>

12:05:44,652 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 受益人与被保人的关系不能为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:84)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:58)
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:64)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
12:05:44,659 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:05:44,660 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:05:44,660 INFO common.Log4jPrint(20) - 201704191036030001127036
12:05:44,660 INFO common.Log4jPrint(20) - 201704191036030001127036
12:05:44,661 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132459,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127036',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=120544,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='受益人与被保人的关系不能为空',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132459_9_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=120544,ModifyDate=20170419,ModifyTime=120544,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127036'
12:05:44,673 INFO service.NewContInput(143) - Out NewContInput.service()!
12:05:44,674 INFO format.NewCont(27) - Into NewCont.std2NoStd()...
12:05:44,675 INFO format.NewCont(31) - Out NewCont.std2NoStd()!
12:05:44,676 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
12:05:44,692 INFO common.SaveMessage(94) - 132459_12_1001_out.xml IO输出耗时:0.015s
12:05:44,692 INFO net.SpdbNetImpl(130) - 保存报文完毕！132459_12_1001_out.xml
12:05:44,693 INFO net.SpdbNetImpl(138) - 返回报文长度：291
12:05:44,693 INFO common.Log4jPrint(20) - 完整报文头|INSU8000291     |
12:05:44,694 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
12:05:44,694 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000291     
12:05:44,695 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
12:05:44,701 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:05:44,701 INFO common.Log4jPrint(20) - null
12:05:44,701 INFO common.Log4jPrint(20) - null
12:05:44,702 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
12:05:44,710 INFO common.Log4jPrint(20) - i=0
12:05:44,710 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:05:44,711 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.147s
12:05:44,711 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:06:38,894 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
12:06:38,910 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
12:06:38,909 INFO midplat.Ybt4Socket(34) - TranLogNo:132462
12:06:38,911 INFO test.SPDBTestUI(86) - 请求报文体长度：3162    
12:06:38,912 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
12:06:38,913 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
12:06:38,912 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003162    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127037</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME>黄健</NAME>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>5</BBR_RELA>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


12:06:38,917 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0070s
12:06:38,919 INFO test.SPDBTestUI(104) - 收到返回报文！
12:06:38,921 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:06:38,922 INFO net.SpdbNetImpl(30) - Into SpdbNetImpl.receive()...
12:06:38,923 DEBUG net.SpdbNetImpl(37) - 包头：INSU8000
12:06:38,923 DEBUG net.SpdbNetImpl(38) - 报文长度：3162
12:06:38,949 INFO common.SaveMessage(94) - 132465_15_1001_in.xml IO输出耗时:0.014s
12:06:38,951 INFO net.SpdbNetImpl(84) - 保存报文完毕！132465_15_1001_in.xml
12:06:38,952 INFO net.SpdbNetImpl(88) - 交易标示1001
12:06:38,953 INFO common.Log4jPrint(20) - InNoDoc132465_15_1001_in.xml
12:06:38,955 INFO net.SpdbNetImpl(113) - Out SpdbNetImpl.receive()!
12:06:38,956 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
12:06:38,957 INFO format.NewCont(18) - Into NewCont.noStd2Std()...
12:06:38,964 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
12:06:38,966 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
12:06:38,968 INFO format.NewCont(22) - Out NewCont.noStd2Std()!
12:06:38,968 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
12:06:38,969 INFO service.NewContInput(31) - Into NewContInput.service()...
12:06:38,970 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
12:06:38,971 INFO common.Log4jPrint(20) - 进程名：132465
12:06:38,971 INFO common.Log4jPrint(20) - trancom:12
12:06:38,972 INFO common.Log4jPrint(20) - FuncFlag:1001
12:06:38,972 INFO common.Log4jPrint(20) - mHeadEle.getChildText132465_15_1001_in.xml
12:06:39,904 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:06:39,904 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132465,12,'9800','120101010001','201704191036030001127037','11024392',1001,20170419,120638,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132465_15_1001_in.xml',20170419,120638,20170419,120638 )
12:06:39,913 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
12:06:39,914 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=120319
12:06:39,930 INFO common.RuleParser(54) - Into RuleParser.check()...
12:06:39,930 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
12:06:39,933 INFO common.Log4jPrint(20) - 对邮编进行校验
12:06:39,934 INFO common.Log4jPrint(20) - 对邮编进行校验
12:06:39,934 INFO common.Log4jPrint(20) - 返回的结果是:0
12:06:39,935 INFO common.Log4jPrint(20) - 对邮编进行校验
12:06:39,936 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules />

12:06:39,937 INFO common.RuleParser(87) - Out RuleParser.checkByXsl()!
12:06:39,937 INFO common.RuleParser(67) - Out RuleParser.check()!
12:06:39,982 INFO net.CallWebsvcAtomSvc(74) - Into CallWebsvcAtomSvc.service()...
12:06:40,002 INFO common.SaveMessage(94) - 132465_18_0_inSvc.xml IO输出耗时:0.019s
12:06:40,003 INFO net.CallWebsvcAtomSvc(91) - 保存报文完毕！132465_18_0_inSvc.xml
12:06:40,005 INFO common.Log4jPrint(20) - start call 录单核保(http://10.2.0.41:8001/ui/services/ServiceForBankInterfaceService.service)...
12:06:40,006 INFO net.CallWebsvcAtomSvc(102) - start call 录单核保(http://10.2.0.41:8001/ui/services/ServiceForBankInterfaceService.service)...
12:06:40,553 WARN dialect.StAXDialectDetector(236) - Weblogic's StAX implementation is unsupported and some Axiom features will not work as expected! Please use Woodstox instead.
12:06:41,433 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
12:06:41,477 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
12:06:41,477 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
12:06:41,483 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
12:06:41,483 DEBUG httpclient.Wire(70) - >> "Host: 10.2.0.41:8001[\r][\n]"
12:06:41,484 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
12:06:41,484 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:06:41,569 DEBUG httpclient.Wire(70) - >> "d51[\r][\n]"
12:06:41,569 DEBUG httpclient.Wire(84) - >> "<?xml version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTcwNDE5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTIwNjM4PC9UcmFuVGltZT48QmFua0NvZGUgLz48Wm9uZU5vPjk4MDA8L1pvbmVObz48Tm9kZU5vPjEyMDEwMTAxMDAwMTwvTm9kZU5vPjxUZWxsZXJObz4xMTAyNDM5MjwvVGVsbGVyTm8+PFRyYW5Obz4yMDE3MDQxOTEwMzYwMzAwMDExMjcwMzc8L1RyYW5Obz48Q2xpZW50SXA+MTI3LjAuMC4xPC9DbGllbnRJcD48VHJhbkNvbSBvdXRjb2RlPSIxMiI+MTI8L1RyYW5Db20+PEZ1bmNGbGFnPjEwMDE8L0Z1bmNGbGFnPjxJbk5vRG9jPjEzMjQ2NV8xNV8xMDAxX2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjA8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PFNhbGVDaGFubmVsPjA8L1NhbGVDaGFubmVsPjxBcHBseU5vIC8+PFByb3Bvc2FsUHJ0Tm8+MTAxMDEwMDAwNTUwMTgzPC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8+MTgwMDEwMDAwMjUwMTg5PC9Db250UHJ0Tm8+PFBvbEFwcGx5RGF0ZT4yMDE3MDQxOTwvUG9sQXBwbHlEYXRlPjxHZXRQb2xNb2RlPjE8L0dldFBvbE1vZGU+PEhlYWx0aE5vdGljZT5OPC9IZWFsdGhOb3RpY2U+PEFjY05hbWU+u8a9oTwvQWNjTmFtZT48QWNjTm8+NjIyNTE2MDEwMTA4NDc4NjwvQWNjTm8+PFNhbGVOYW1lIC8+PFNhbGVTdGFmZj4xMTAyNDM5MjwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vIC8+PEFwcG50PjxOYW1lPrvGvaE8L05hbWU+PFNleD4wPC9TZXg+PEJpcnRoZGF5PjE5NzAwMjEwPC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4zMTAyMjQxOTcwMDIxMDQxMTg8L0lETm8+PEpvYkNvZGUgLz48TmF0aW9uYWxpdHk+T1RIPC9OYXRpb25hbGl0eT48U3RhdHVyZSAvPjxXZWlnaHQgLz48TWFyaXRhbFN0YXR1cyAvPjxZZWFyU2FsYXJ5PjMwLjA8L1llYXJTYWxhcnk+PEZhbWlseVllYXJTYWxhcnkgLz48SWRFeHBEYXRlPjIwMjUwNDI4PC9JZEV4cERhdGU+PEFkZHJlc3NDb250ZW50IC8+PEZpeFRlbERtc3REc3RjTm8gLz48TW9iaWxlSXRsRHN0Y05vIC8+PE5hdGlvbmFsaXR5Q29kZSAvPjxBZGRyZXNzPsnPuqPK0MbWtqvQwsf4uN+2q7b+wrcxMTjFqjK6xTkwMzwvQWRkcmVzcz48WmlwQ29kZT4yMDAxMjk8L1ppcENvZGU+PE1vYmlsZSAvPjxQaG9uZT4xMzgxNjA2MzA1NDwvUGhvbmU+PEVtYWlsIC8+PFJlbGFUb0luc3VyZWQ+MDA8L1JlbGFUb0luc3VyZWQ+PERlblR5cGUgLz48L0FwcG50PjxJbnN1cmVkPjxOYW1lPrvGvaE8L05hbWU+PFNleD4wPC9TZXg+PEJpcnRoZGF5PjE5NzAwMjEwPC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4zMTAyMjQxOTcwMDIxMDQxMTg8L0lETm8+PEpvYkNvZGUgLz48TmF0aW9uYWxpdHk+T1RIPC9OYXRpb25hbGl0eT48U3RhdHVyZSAvPjxXZWlnaHQgLz48TWFyaXRhbFN0YXR1cyAvPjxZZWFyU2FsYXJ5PjAuMDwvWWVhclNhbGFyeT48SWRFeHBEYXRlPjIwMjUwNDI4PC9JZEV4cERhdGU+PEFkZHJlc3M+yc+6o8rQxta2q9DCx/i437artv7CtzExOMWqMrrFOTAzPC9BZGRyZXNzPjxaaXBDb2RlPjIwMDEyOTwvWmlwQ29kZT48TW9iaWxlIC8+PFBob25lPjEzODE2MDYzMDU0PC9QaG9uZT48RW1haWwgLz48L0luc3VyZWQ+PEJuZj48VHlwZSAvPjxHcmFkZT4xPC9HcmFkZT48TmFtZT67xr2hPC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTcwMDIxMDwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzEwMjI0MTk3MDAyMTA0MTE4PC9JRE5vPjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxMb3Q+MTAwPC9Mb3Q+PElkRXhwRGF0ZT4yMDI1MDQyODwvSWRFeHBEYXRlPjxCZW5lZmljVHlwZT5OPC9CZW5lZmljVHlwZT48L0JuZj48Umlzaz48Umlza0NvZGU+MDEyRDAxMDA8L1Jpc2tDb2RlPjxNYWluUmlza0NvZGU+MDEyRDAxMDA8L01haW5SaXNrQ29kZT48QW1udD4wPC9BbW50PjxQcmVtPjgwMDAwMDAwMDwvUHJlbT48TXVsdD4xMDwvTXVsdD48UGF5TW9kZT5CPC9QYXlNb2RlPjxQYXlJbnR2PjA8L1BheUludHY+PEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+PEluc3VZZWFyPjEwPC9JbnN1WWVhcj48UGF5RW5kWWVhckZsYWc+WTwvUGF5RW5kWWVhckZsYWc+PFBheUVuZFllYXI+MTAwMDwvUGF5RW5kWWVhcj48Qm9udXNHZXRNb2RlIC8+PEZ1bGxCb251c0dldE1vZGUgLz48R2V0WWVhckZsYWcgLz48R2V0WWVhcj4wPC9HZXRZZWFyPjxHZXRUZXJtcyAvPjxHZXRJbnR2IC8+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnIC8+PC9SaXNrPjxQYXlNb2RlPkI8L1BheU1vZGU+PEpvYk5vdGljZSAvPjwvQm9keT48L1RyYW5EYXRhPg0K</arg0></service></soapenv:Body></soapenv:Envelope>"
12:06:41,569 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:06:41,575 DEBUG httpclient.Wire(84) - >> "0"
12:06:41,576 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:06:41,576 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:06:42,058 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:06:42,059 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:06:42,061 DEBUG httpclient.Wire(70) - << "Date: Thu, 27 Apr 2017 04:05:35 GMT[\r][\n]"
12:06:42,062 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
12:06:42,063 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml; charset=UTF-8[\r][\n]"
12:06:42,063 DEBUG httpclient.Wire(70) - << "X-Powered-By: Servlet/2.5 JSP/2.1[\r][\n]"
12:06:42,064 DEBUG httpclient.Wire(70) - << "[\r][\n]"
12:06:42,114 DEBUG httpclient.Wire(84) - << "0"
12:06:42,114 DEBUG httpclient.Wire(84) - << "1"
12:06:42,116 DEBUG httpclient.Wire(84) - << "d"
12:06:42,117 DEBUG httpclient.Wire(84) - << "3"
12:06:42,117 DEBUG httpclient.Wire(84) - << "[\r]"
12:06:42,118 DEBUG httpclient.Wire(70) - << "[\n]"
12:06:42,118 DEBUG httpclient.Wire(84) - << "<?xm"
12:06:42,126 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+0vjQ0LHgwuuyu8Tczqq/1aOhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
12:06:42,127 DEBUG httpclient.Wire(84) - << "[\r]"
12:06:42,128 DEBUG httpclient.Wire(70) - << "[\n]"
12:06:42,129 DEBUG httpclient.Wire(84) - << "0"
12:06:42,130 DEBUG httpclient.Wire(84) - << "0"
12:06:42,130 DEBUG httpclient.Wire(84) - << "0"
12:06:42,132 DEBUG httpclient.Wire(84) - << "0"
12:06:42,133 DEBUG httpclient.Wire(84) - << "[\r]"
12:06:42,134 DEBUG httpclient.Wire(70) - << "[\n]"
12:06:42,135 DEBUG httpclient.Wire(84) - << "[\r]"
12:06:42,136 DEBUG httpclient.Wire(70) - << "[\n]"
12:06:42,137 DEBUG httpclient.Wire(70) - << "[\r][\n]"
12:06:42,181 INFO net.CallWebsvcAtomSvc(145) - 投保单号101010000550183录单核保(service)耗时：2.175s
12:06:42,231 INFO common.SaveMessage(94) - 132465_21_0_outSvc.xml IO输出耗时:0.045s
12:06:42,231 INFO net.CallWebsvcAtomSvc(165) - 保存报文完毕！132465_21_0_outSvc.xml
12:06:42,232 INFO net.CallWebsvcAtomSvc(167) - Out CallWebsvcAtomSvc.service()!
12:06:42,233 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 银行编码不能为空！
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:79)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
12:06:42,400 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:06:42,401 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:06:42,401 INFO common.Log4jPrint(20) - 201704191036030001127037
12:06:42,401 INFO common.Log4jPrint(20) - 201704191036030001127037
12:06:42,402 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132465,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127037',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=120638,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='银行编码不能为空！',UsedTime=3,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132465_15_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=120638,ModifyDate=20170419,ModifyTime=120642,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127037'
12:06:42,414 INFO service.NewContInput(143) - Out NewContInput.service()!
12:06:42,415 INFO format.NewCont(27) - Into NewCont.std2NoStd()...
12:06:42,416 INFO format.NewCont(31) - Out NewCont.std2NoStd()!
12:06:42,416 INFO net.SpdbNetImpl(119) - Into SpdbNetImpl.send()...
12:06:42,430 INFO common.SaveMessage(94) - 132465_24_1001_out.xml IO输出耗时:0.013s
12:06:42,431 INFO net.SpdbNetImpl(130) - 保存报文完毕！132465_24_1001_out.xml
12:06:42,431 INFO net.SpdbNetImpl(138) - 返回报文长度：281
12:06:42,431 INFO common.Log4jPrint(20) - 完整报文头|INSU8000281     |
12:06:42,432 INFO test.SPDBTestUI(115) - 返回报文头：INSU8000281     
12:06:42,432 INFO net.SpdbNetImpl(157) - Out SpdbNetImpl.send()!
12:06:42,433 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
12:06:42,439 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:06:42,440 INFO common.Log4jPrint(20) - null
12:06:42,440 INFO common.Log4jPrint(20) - null
12:06:42,441 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
12:06:42,676 INFO common.Log4jPrint(20) - i=0
12:06:42,677 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:06:42,677 INFO midplat.Ybt4Socket(192) - 处理总耗时：3.756s
12:06:42,677 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:09:24,942 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
12:09:24,942 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
12:09:24,949 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:09:24,949 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:09:24,949 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:09:24,949 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@6b6e669f
12:09:24,949 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:09:24,949 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:09:24,953 INFO common.Log4jPrint(20) - Start revert System.out...
12:09:24,956 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
12:09:26,282 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@60cb7d7c
12:09:26,311 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:09:26,321 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
12:09:26,322 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
12:09:26,322 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:09:26,323 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
12:09:26,324 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
12:09:26,350 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:09:20,769) and length=24373 bytes!
12:09:26,412 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
12:09:26,427 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:09:26,445 INFO common.Log4jPrint(20) - End reset System.out!
12:09:26,453 INFO net.SocketConf(27) - Into SocketConf.load()...
12:09:26,454 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
12:09:26,455 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:09:20,797) and length=708 bytes!
12:09:26,462 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
12:09:26,464 INFO net.SocketConf(60) - Out SocketConf.load()!
12:09:26,486 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:09:26,506 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
12:09:26,543 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
12:09:26,545 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
12:09:26,547 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
12:09:26,553 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
12:09:26,547 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
12:09:26,553 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
12:09:26,567 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
12:09:26,567 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:09:26,575 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
12:09:26,597 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
12:09:26,597 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:09:26,597 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:09:26,616 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
12:09:26,617 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:09:26,625 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
12:09:31,020 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
12:09:31,044 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
12:09:31,045 INFO test.SPDBTestUI(86) - 请求报文体长度：3162    
12:09:31,047 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003162    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127038</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME>黄健</NAME>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>5</BBR_RELA>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


12:09:31,052 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0070s
12:09:31,054 INFO test.SPDBTestUI(104) - 收到返回报文！
12:09:31,101 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
12:09:31,102 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
12:09:31,102 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:09:20,799) and length=1938 bytes!
12:09:31,110 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
12:09:31,118 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

12:09:31,118 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
12:09:31,149 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
12:09:31,157 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
12:09:31,327 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
12:09:31,338 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
12:09:31,350 INFO midplat.Ybt4Socket(34) - TranLogNo:132468
12:09:31,350 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
12:09:31,372 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
12:09:31,373 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:09:31,374 INFO net.SpdbNetImpl(28) - 132471Into SpdbNetImpl.receive()...
12:09:31,391 INFO net.SpdbNetImpl(33) - Head：INSU80003162    
12:09:31,391 INFO net.SpdbNetImpl(37) - 请求报文包头：INSU8000
12:09:31,391 INFO net.SpdbNetImpl(38) - 请求报文长度：3146
12:09:31,413 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 106: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:45)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 6 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.endEntity(XMLDocumentFragmentScannerImpl.java:905)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.endEntity(XMLDocumentScannerImpl.java:604)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.endEntity(XMLEntityManager.java:1392)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1763)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(XMLEntityScanner.java:487)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2688)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:34)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:45)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
12:09:31,422 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.receive(SpdbNetImpl.java:46)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
12:09:31,462 INFO net.SpdbNetImpl(112) - Into SpdbNetImpl.send()...
12:09:31,486 DEBUG common.SaveMessage(23) - SavePath_HOME = null
12:09:31,487 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
12:09:31,491 INFO common.SaveMessage(94) - 132471_3_null_out.xml IO输出耗时:0.0030s
12:09:31,492 INFO net.SpdbNetImpl(118) - 保存报文完毕！132471_3_null_out.xml
12:09:31,493 INFO net.SpdbNetImpl(121) - 返回报文：<?xml version="1.0" encoding="GBK"?>
<TranData><Head><Flag>1</Flag><Desc>系统异常，请联系保险公司！</Desc></Head></TranData>

12:09:31,493 INFO net.SpdbNetImpl(130) - 返回报文长度：127
12:09:31,494 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.spdb.net.SpdbNetImpl.send(SpdbNetImpl.java:138)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
12:09:31,590 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:09:31,591 INFO common.Log4jPrint(20) - null
12:09:31,591 INFO common.Log4jPrint(20) - null
12:09:31,592 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
12:09:31,602 INFO common.Log4jPrint(20) - i=0
12:09:31,606 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:09:31,607 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.234s
12:09:31,607 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:10:23,037 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
12:10:23,038 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
12:10:23,039 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9001
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:10:23,040 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9003
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:10:23,039 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:10:23,039 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@4e069079
12:10:23,039 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:10:23,039 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！9002
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:10:23,043 INFO common.Log4jPrint(20) - Start revert System.out...
12:10:23,046 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
12:10:24,172 DEBUG net.SocketListenerF5(40) - System.out = java.io.PrintStream@60cb7d7c
12:10:24,207 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:10:24,215 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/basepath.r
12:10:24,216 DEBUG common.SysInfo(33) - BasePath = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/
12:10:24,217 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:10:24,217 DEBUG common.SysInfo(68) - Home = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
12:10:24,217 INFO midplat.MidplatConf(35) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml...
12:10:24,245 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:10:19,202) and length=24373 bytes!
12:10:24,309 INFO midplat.MidplatConf(51) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/midplat.xml!
12:10:24,326 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:10:24,367 INFO common.Log4jPrint(20) - End reset System.out!
12:10:24,370 INFO net.SocketConf(27) - Into SocketConf.load()...
12:10:24,370 INFO net.SocketConf(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml...
12:10:24,370 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:10:19,283) and length=708 bytes!
12:10:24,380 INFO net.SocketConf(46) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/socket.xml!
12:10:24,381 INFO net.SocketConf(60) - Out SocketConf.load()!
12:10:24,408 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:10:24,418 INFO net.SocketListenerF5(91) - 0_Socket(中国银行): port=9001; class=com.sinosoft.midplat.boc.BocYbt
12:10:24,454 INFO net.SocketListenerF5(104) - 0_Socket(中国银行)加载成功!
12:10:24,455 INFO net.SocketListenerF5(91) - 1_Socket(农行新接口): port=9002; class=com.sinosoft.midplat.newabc.NewAbcYbt
12:10:24,463 INFO net.SocketListenerF5$Server(194) - 监听端口 9001
12:10:24,465 INFO net.SocketListenerF5$Server(194) - 监听端口 9002
12:10:24,464 INFO net.SocketListenerF5(104) - 1_Socket(农行新接口)加载成功!
12:10:24,467 INFO net.SocketListenerF5(91) - 2_Socket(浦发新接口): port=9003; class=com.sinosoft.midplat.spdb.SpdbYbt
12:10:24,471 INFO net.SocketListenerF5(104) - 2_Socket(浦发新接口)加载成功!
12:10:24,472 INFO net.SocketListenerF5(91) - 3_Socket(建行新接口): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:10:24,472 INFO net.SocketListenerF5$Server(194) - 监听端口 9003
12:10:24,482 INFO net.SocketListenerF5(104) - 3_Socket(建行新接口)加载成功!
12:10:24,482 INFO net.SocketListenerF5(91) - 4_Socket(贵州银行): port=9004; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:10:24,482 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:10:24,502 INFO net.SocketListenerF5(104) - 4_Socket(贵州银行)加载成功!
12:10:24,502 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:10:24,502 INFO net.SocketListenerF5$Server(194) - 监听端口 9004
12:10:27,735 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
12:10:27,756 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
12:10:27,757 INFO test.SPDBTestUI(86) - 请求报文体长度：3162    
12:10:27,758 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003162    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127038</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME>黄健</NAME>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>5</BBR_RELA>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


12:10:27,762 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0060s
12:10:27,763 INFO test.SPDBTestUI(104) - 收到返回报文！
12:10:27,785 INFO spdb.SpdbConf(25) - Into SpdbConf.load()...
12:10:27,786 INFO spdb.SpdbConf(28) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml...
12:10:27,787 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:10:19,285) and length=1938 bytes!
12:10:27,792 INFO spdb.SpdbConf(44) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/spdb.xml!
12:10:27,805 INFO spdb.SpdbConf(54) - <?xml version="1.0"?>
<spdb><TranCom outcode="12">12</TranCom><BankCode>0117</BankCode><preNet>com.sinosoft.midplat.spdb.net.SpdbNetImpl</preNet><!-- 银行端代码定义,用于日终类交易--><bank id="12" insu="010079" /><business><name>绿灯交易</name><funcFlag outcode="1000">1000</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Green</format><service>com.sinosoft.midplat.spdb.service.NewGreen</service></business><business><name>新契约试算</name><funcFlag outcode="1001">1001</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.NewCont</format><service>com.sinosoft.midplat.spdb.service.NewContInput</service></business><business><name>新契约投保</name><funcFlag outcode="1002">1002</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.ContConfirm</format><service>com.sinosoft.midplat.spdb.service.NewContConfirm</service></business><business><name>当日反交易</name><funcFlag outcode="1003">1003</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.Cancel</format><service>com.sinosoft.midplat.spdb.service.ContCancel</service></business><business><name>保单打印</name><funcFlag outcode="1004">1004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.PrintCont</format><service>com.sinosoft.midplat.spdb.service.NewPrintCont</service></business><business><name>保单补打印</name><funcFlag outcode="1005">1005</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.spdb.format.RePrint</format><service>com.sinosoft.midplat.spdb.service.ContRePrint</service></business></spdb>

12:10:27,806 INFO spdb.SpdbConf(57) - Out SpdbConf.load()!
12:10:27,815 DEBUG common.NoFactory(36) - ClusterId=0; ClusterCount=3
12:10:27,822 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=0
12:10:28,026 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=0
12:10:28,037 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=0
12:10:28,047 INFO midplat.Ybt4Socket(34) - TranLogNo:132468
12:10:28,047 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
12:10:28,097 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
12:10:28,098 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:10:28,099 INFO net.SpdbNetImpl(28) - 132471Into SpdbNetImpl.receive()...
12:10:28,114 INFO net.SpdbNetImpl(33) - Head：INSU80003162    
12:10:28,114 INFO net.SpdbNetImpl(37) - 请求报文包头：INSU8000
12:10:28,114 INFO net.SpdbNetImpl(38) - 请求报文长度：3162
12:10:28,119 INFO net.SpdbNetImpl(61) - 交易代码：1001
12:10:28,237 DEBUG common.SaveMessage(23) - SavePath_HOME = null
12:10:28,238 DEBUG common.SaveMessage(41) - SavePath_HOME = /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/
12:10:28,241 INFO common.SaveMessage(94) - 132471_3_1001_in.xml IO输出耗时:0.0020s
12:10:28,246 INFO net.SpdbNetImpl(77) - 保存报文完毕！132471_3_1001_in.xml
12:10:28,250 INFO net.SpdbNetImpl(107) - Out SpdbNetImpl.receive()!
12:10:28,250 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
12:10:28,260 INFO format.NewCont(18) - Into NewCont.noStd2Std()...
12:10:28,291 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
12:10:28,291 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
12:10:28,296 INFO common.XslCache(70) - conf file modified at (2017-04-19 11:49:15,413) and length=25338 bytes!
12:10:28,500 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
12:10:28,523 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><BeneficType>N</BeneficType></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv=1">0</xsl:when><!-- 趸交 --><xsl:when test="$payintv=2">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=3">6</xsl:when><!-- 半年交 --><xsl:when test="$payintv=4">3</xsl:when><!-- 季交 --><xsl:when test="$payintv=5">1</xsl:when><!-- 月交 --><xsl:when test="$payintv=6">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

12:10:28,544 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
12:10:28,555 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
12:10:28,561 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
12:10:28,566 INFO format.NewCont(22) - Out NewCont.noStd2Std()!
12:10:28,567 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
12:10:28,622 INFO service.NewContInput(31) - Into NewContInput.service()...
12:10:28,623 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
12:10:28,708 INFO common.Log4jPrint(20) - 进程名：132471
12:10:28,708 INFO common.Log4jPrint(20) - trancom:12
12:10:28,708 INFO common.Log4jPrint(20) - FuncFlag:1001
12:10:28,714 INFO common.Log4jPrint(20) - mHeadEle.getChildText132471_3_1001_in.xml
12:10:28,723 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:10:28,724 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132471,12,'9800','120101010001','201704191036030001127038','11024392',1001,20170419,121028,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132471_3_1001_in.xml',20170419,121028,20170419,121028 )
12:10:28,738 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
12:10:28,739 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=120708
12:10:28,789 INFO common.RuleXsl(176) - Into RuleXsl.load()...
12:10:28,793 INFO common.RuleXsl(179) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl...
12:10:28,794 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:39,044) and length=15623 bytes!
12:10:28,920 INFO common.RuleXsl(188) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xsl!
12:10:28,921 INFO common.RuleXsl(202) - Out RuleXsl.load()!
12:10:28,950 INFO common.RuleXml(228) - Into RuleXml.load()...
12:10:28,951 INFO common.RuleXml(231) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml...
12:10:28,953 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:10:19,276) and length=9884 bytes!
12:10:28,960 INFO common.RuleXml(238) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/rule.xml!
12:10:28,961 INFO common.RuleXml(245) - Out RuleXml.load()!
12:10:28,961 INFO common.RuleParser(54) - Into RuleParser.check()...
12:10:28,961 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
12:10:28,962 INFO common.Log4jPrint(20) - 对邮编进行校验
12:10:28,962 INFO common.Log4jPrint(20) - 对邮编进行校验
12:10:28,967 INFO common.Log4jPrint(20) - 返回的结果是:0
12:10:28,968 INFO common.Log4jPrint(20) - 对邮编进行校验
12:10:28,969 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules />

12:10:28,970 INFO common.RuleParser(87) - Out RuleParser.checkByXsl()!
12:10:28,970 INFO common.RuleParser(67) - Out RuleParser.check()!
12:10:28,993 INFO net.CallWebsvcAtomSvc(74) - Into CallWebsvcAtomSvc.service()...
12:10:29,009 INFO common.SaveMessage(94) - 132471_6_0_inSvc.xml IO输出耗时:0.01s
12:10:29,009 INFO net.CallWebsvcAtomSvc(91) - 保存报文完毕！132471_6_0_inSvc.xml
12:10:29,010 INFO common.Log4jPrint(20) - start call 录单核保(http://10.2.0.41:8001/ui/services/ServiceForBankInterfaceService.service)...
12:10:29,011 INFO net.CallWebsvcAtomSvc(102) - start call 录单核保(http://10.2.0.41:8001/ui/services/ServiceForBankInterfaceService.service)...
12:10:29,104 WARN dialect.StAXDialectDetector(236) - Weblogic's StAX implementation is unsupported and some Axiom features will not work as expected! Please use Woodstox instead.
12:10:29,455 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
12:10:29,469 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
12:10:29,469 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
12:10:29,469 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
12:10:29,474 DEBUG httpclient.Wire(70) - >> "Host: 10.2.0.41:8001[\r][\n]"
12:10:29,475 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
12:10:29,475 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:10:29,498 DEBUG httpclient.Wire(70) - >> "d95[\r][\n]"
12:10:29,499 DEBUG httpclient.Wire(84) - >> "<?xml version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTcwNDE5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTIxMDI4PC9UcmFuVGltZT48QmFua0NvZGU+MDExNzwvQmFua0NvZGU+PFpvbmVObz45ODAwPC9ab25lTm8+PE5vZGVObz4xMjAxMDEwMTAwMDE8L05vZGVObz48VGVsbGVyTm8+MTEwMjQzOTI8L1RlbGxlck5vPjxUcmFuTm8+MjAxNzA0MTkxMDM2MDMwMDAxMTI3MDM4PC9UcmFuTm8+PENsaWVudElwPjEyNy4wLjAuMTwvQ2xpZW50SXA+PFRyYW5Db20+MTI8L1RyYW5Db20+PEZ1bmNGbGFnPjEwMDE8L0Z1bmNGbGFnPjxBZ2VudENvbSAvPjxBZ2VudENvZGUgLz48SW5Ob0RvYz4xMzI0NzFfM18xMDAxX2luLnhtbDwvSW5Ob0RvYz48QmFua0NvZGU+MDExNzwvQmFua0NvZGU+PFNlcnZpY2VJZD4wPC9TZXJ2aWNlSWQ+PC9IZWFkPjxCb2R5PjxTYWxlQ2hhbm5lbD4wPC9TYWxlQ2hhbm5lbD48QXBwbHlObyAvPjxQcm9wb3NhbFBydE5vPjEwMTAxMDAwMDU1MDE4MzwvUHJvcG9zYWxQcnRObz48Q29udFBydE5vPjE4MDAxMDAwMDI1MDE4OTwvQ29udFBydE5vPjxQb2xBcHBseURhdGU+MjAxNzA0MTk8L1BvbEFwcGx5RGF0ZT48R2V0UG9sTW9kZT4xPC9HZXRQb2xNb2RlPjxIZWFsdGhOb3RpY2U+TjwvSGVhbHRoTm90aWNlPjxBY2NOYW1lPrvGvaE8L0FjY05hbWU+PEFjY05vPjYyMjUxNjAxMDEwODQ3ODY8L0FjY05vPjxTYWxlTmFtZSAvPjxTYWxlU3RhZmY+MTEwMjQzOTI8L1NhbGVTdGFmZj48U2FsZUNlcnRObyAvPjxBcHBudD48TmFtZT67xr2hPC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTcwMDIxMDwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzEwMjI0MTk3MDAyMTA0MTE4PC9JRE5vPjxKb2JDb2RlIC8+PE5hdGlvbmFsaXR5Pk9USDwvTmF0aW9uYWxpdHk+PFN0YXR1cmUgLz48V2VpZ2h0IC8+PE1hcml0YWxTdGF0dXMgLz48WWVhclNhbGFyeT4zMC4wPC9ZZWFyU2FsYXJ5PjxGYW1pbHlZZWFyU2FsYXJ5IC8+PElkRXhwRGF0ZT4yMDI1MDQyODwvSWRFeHBEYXRlPjxBZGRyZXNzQ29udGVudCAvPjxGaXhUZWxEbXN0RHN0Y05vIC8+PE1vYmlsZUl0bERzdGNObyAvPjxOYXRpb25hbGl0eUNvZGUgLz48QWRkcmVzcz7Jz7qjytDG1rar0MLH+Ljftqu2/sK3MTE4xaoyusU5MDM8L0FkZHJlc3M+PFppcENvZGU+MjAwMTI5PC9aaXBDb2RlPjxNb2JpbGUgLz48UGhvbmU+MTM4MTYwNjMwNTQ8L1Bob25lPjxFbWFpbCAvPjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxEZW5UeXBlIC8+PC9BcHBudD48SW5zdXJlZD48TmFtZT67xr2hPC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTcwMDIxMDwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzEwMjI0MTk3MDAyMTA0MTE4PC9JRE5vPjxKb2JDb2RlIC8+PE5hdGlvbmFsaXR5Pk9USDwvTmF0aW9uYWxpdHk+PFN0YXR1cmUgLz48V2VpZ2h0IC8+PE1hcml0YWxTdGF0dXMgLz48WWVhclNhbGFyeT4wLjA8L1llYXJTYWxhcnk+PElkRXhwRGF0ZT4yMDI1MDQyODwvSWRFeHBEYXRlPjxBZGRyZXNzPsnPuqPK0MbWtqvQwsf4uN+2q7b+wrcxMTjFqjK6xTkwMzwvQWRkcmVzcz48WmlwQ29kZT4yMDAxMjk8L1ppcENvZGU+PE1vYmlsZSAvPjxQaG9uZT4xMzgxNjA2MzA1NDwvUGhvbmU+PEVtYWlsIC8+PC9JbnN1cmVkPjxCbmY+PFR5cGUgLz48R3JhZGU+MTwvR3JhZGU+PE5hbWU+u8a9oTwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3MDAyMTA8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjMxMDIyNDE5NzAwMjEwNDExODwvSURObz48UmVsYVRvSW5zdXJlZD4wMDwvUmVsYVRvSW5zdXJlZD48TG90PjEwMDwvTG90PjxJZEV4cERhdGU+MjAyNTA0Mjg8L0lkRXhwRGF0ZT48QmVuZWZpY1R5cGU+TjwvQmVuZWZpY1R5cGU+PC9CbmY+PFJpc2s+PFJpc2tDb2RlPjAxMkQwMTAwPC9SaXNrQ29kZT48TWFpblJpc2tDb2RlPjAxMkQwMTAwPC9NYWluUmlza0NvZGU+PEFtbnQ+MDwvQW1udD48UHJlbT44MDAwMDAwMDA8L1ByZW0+PE11bHQ+MTA8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxJbnN1WWVhckZsYWc+WTwvSW5zdVllYXJGbGFnPjxJbnN1WWVhcj4xMDwvSW5zdVllYXI+PFBheUVuZFllYXJGbGFnPlk8L1BheUVuZFllYXJGbGFnPjxQYXlFbmRZZWFyPjEwMDA8L1BheUVuZFllYXI+PEJvbnVzR2V0TW9kZSAvPjxGdWxsQm9udXNHZXRNb2RlIC8+PEdldFllYXJGbGFnIC8+PEdldFllYXI+MDwvR2V0WWVhcj48R2V0VGVybXMgLz48R2V0SW50diAvPjxHZXRCYW5rQ29kZSAvPjxHZXRCYW5rQWNjTm8gLz48R2V0QWNjTmFtZSAvPjxBdXRvUGF5RmxhZyAvPjwvUmlzaz48UGF5TW9kZT5CPC9QYXlNb2RlPjxKb2JOb3RpY2UgLz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
12:10:29,500 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:10:29,500 DEBUG httpclient.Wire(84) - >> "0"
12:10:29,500 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:10:29,500 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:10:29,694 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:10:29,694 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:10:29,699 DEBUG httpclient.Wire(70) - << "Date: Thu, 27 Apr 2017 04:09:23 GMT[\r][\n]"
12:10:29,700 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
12:10:29,700 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml; charset=UTF-8[\r][\n]"
12:10:29,701 DEBUG httpclient.Wire(70) - << "X-Powered-By: Servlet/2.5 JSP/2.1[\r][\n]"
12:10:29,701 DEBUG httpclient.Wire(70) - << "[\r][\n]"
12:10:29,715 DEBUG httpclient.Wire(84) - << "0"
12:10:29,716 DEBUG httpclient.Wire(84) - << "2"
12:10:29,716 DEBUG httpclient.Wire(84) - << "0"
12:10:29,717 DEBUG httpclient.Wire(84) - << "7"
12:10:29,717 DEBUG httpclient.Wire(84) - << "[\r]"
12:10:29,718 DEBUG httpclient.Wire(70) - << "[\n]"
12:10:29,718 DEBUG httpclient.Wire(84) - << "<?xm"
12:10:29,725 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMPStc7x1LHDu9PQ09DQp7XEobaxo8/Vz/rK27TT0rXIy9Sx1rTStdakobejrLK71MrQ7bP2taUhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
12:10:29,726 DEBUG httpclient.Wire(84) - << "[\r]"
12:10:29,727 DEBUG httpclient.Wire(70) - << "[\n]"
12:10:29,728 DEBUG httpclient.Wire(84) - << "0"
12:10:29,730 DEBUG httpclient.Wire(84) - << "0"
12:10:29,731 DEBUG httpclient.Wire(84) - << "0"
12:10:29,731 DEBUG httpclient.Wire(84) - << "0"
12:10:29,732 DEBUG httpclient.Wire(84) - << "[\r]"
12:10:29,733 DEBUG httpclient.Wire(70) - << "[\n]"
12:10:29,734 DEBUG httpclient.Wire(84) - << "[\r]"
12:10:29,734 DEBUG httpclient.Wire(70) - << "[\n]"
12:10:29,734 DEBUG httpclient.Wire(70) - << "[\r][\n]"
12:10:29,749 INFO net.CallWebsvcAtomSvc(145) - 投保单号101010000550183录单核保(service)耗时：0.738s
12:10:29,761 INFO common.SaveMessage(94) - 132471_9_0_outSvc.xml IO输出耗时:0.0080s
12:10:29,761 INFO net.CallWebsvcAtomSvc(165) - 保存报文完毕！132471_9_0_outSvc.xml
12:10:29,761 INFO net.CallWebsvcAtomSvc(167) - Out CallWebsvcAtomSvc.service()!
12:10:29,763 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 该业务员没有有效的《保险销售从业人员执业证》，不允许出单!
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:79)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
12:10:29,815 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:10:29,816 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:10:29,816 INFO common.Log4jPrint(20) - 201704191036030001127038
12:10:29,816 INFO common.Log4jPrint(20) - 201704191036030001127038
12:10:29,816 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132471,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127038',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=121028,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该业务员没有有效的《保险销售从业人员执业证》，不允许出单!',UsedTime=1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132471_3_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=121028,ModifyDate=20170419,ModifyTime=121029,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127038'
12:10:29,829 INFO service.NewContInput(143) - Out NewContInput.service()!
12:10:29,829 INFO format.NewCont(27) - Into NewCont.std2NoStd()...
12:10:29,866 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
12:10:29,866 INFO format.NewContOutXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl...
12:10:29,866 INFO common.XslCache(70) - conf file modified at (2017-04-18 15:15:47,008) and length=3826 bytes!
12:10:29,897 INFO format.NewContOutXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContOut.xsl!
12:10:29,905 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><!--保费试算 返回样式表 --><RETURN><!-- 应答状态 --><ACKSTS>0</ACKSTS><!-- 状态描述 --><STSDESC>正常</STSDESC><!-- 如果成功，返回下面节点 --><xsl:if test="Head/Flag='0'"><!-- 交易应答科目 --><BUSI><!-- 交易科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 投保单基本信息 --><MAIN><!-- 首期保费（大写） --><PREMC><xsl:value-of select="substring(Body/PremText,4)" /></PREMC><!-- 首期保费 --><PREM><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></PREM></MAIN><!-- 投保单号 --><APPNO><xsl:value-of select="Body/ProposalPrtNo" /></APPNO><!-- 保单号 --><POL><xsl:value-of select="Body/ContNo" /></POL><!-- 拒保原因代码 --><REJECT_CODE>0000</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC>交易成功</REJECT_DESC><!-- 险种列表 --><xsl:apply-templates select="Body" /><!-- 现金价值 --><xsl:choose><xsl:when test="boolean(//CashValues)"><xsl:apply-templates select="Body/Risk[RiskCode = MainRiskCode]/CashValues" /></xsl:when><xsl:otherwise><VT><VTI /></VT></xsl:otherwise></xsl:choose></CONTENT></BUSI></xsl:if><!-- 如果失败，返回下面节点 --><xsl:if test="Head/Flag!='0'"><!-- 交易应答科目 --><BUSI><!-- 交易应答科目 --><SUBJECT>1</SUBJECT><!-- 交易流水号 --><TRANS /><!-- 交易内容信息区 --><CONTENT><!-- 拒保原因代码 --><REJECT_CODE>1234</REJECT_CODE><!-- 拒保原因说明 --><REJECT_DESC><xsl:value-of select="Head/Desc" /></REJECT_DESC></CONTENT></BUSI></xsl:if></RETURN></xsl:template><!-- 险种模板 --><xsl:template name="Risks" match="Body"><!-- 险种列表 --><PTS><xsl:for-each select="Risk"><xsl:if test="RiskCode = MainRiskCode"><!-- 险种 --><PT><!-- 险种代码 --><ID><xsl:value-of select="RiskCode" /></ID><!-- 投保份数 --><UNIT><xsl:value-of select="Mult" /></UNIT><!--  缴费年期类型--><CRG><xsl:choose><xsl:when test="PayIntv = '0'">1</xsl:when><xsl:when test="PayEndYearFlag = 'A'">6</xsl:when><!-- 缴至某确定年龄  --><xsl:when test="PayEndYearFlag = 'M'">5</xsl:when><!-- 月缴 --><xsl:when test="PayEndYearFlag = 'Y'">2</xsl:when><!-- 年缴 --></xsl:choose></CRG><!-- 险种名称 --><NAME><xsl:value-of select="RiskName" /></NAME><!-- 保障年期 --><PERIOD><xsl:value-of select="InsuYear" /></PERIOD><!-- 年金起领年龄 --><DRAW_T><xsl:value-of select="GetYear" /></DRAW_T><!-- 保险金额 --><AMT><xsl:value-of select="Amnt" /></AMT><!-- 投保金额 --><PREM><xsl:value-of select="Prem" /></PREM></PT></xsl:if></xsl:for-each></PTS></xsl:template><!-- 现价模板 --><xsl:template name="CashValues" match="Body/Risk[RiskCode = MainRiskCode]/CashValues"><!-- 现金价值表 --><VT><!-- 循环现价 --><xsl:for-each select="CashValue"><!-- 现金价值表项 --><VTI><!-- 生存年金 --><LIVE /><!-- 疾病身故保险金 --><ILL /><!-- 年份 --><YEAR><xsl:value-of select="EndYear" /></YEAR><!-- 年末 --><END /><!-- 年末现金价值 --><CASH><xsl:value-of select="Cash" /></CASH><!-- 意外身故保险金 --><ACI /></VTI></xsl:for-each></VT></xsl:template></xsl:stylesheet>

12:10:29,905 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
12:10:29,907 INFO format.NewCont(31) - Out NewCont.std2NoStd()!
12:10:29,907 INFO net.SpdbNetImpl(112) - Into SpdbNetImpl.send()...
12:10:29,914 INFO common.SaveMessage(94) - 132471_12_1001_out.xml IO输出耗时:0.0070s
12:10:29,914 INFO net.SpdbNetImpl(118) - 保存报文完毕！132471_12_1001_out.xml
12:10:29,915 INFO net.SpdbNetImpl(121) - 返回报文：<?xml version="1.0" encoding="GBK"?>
<RETURN><ACKSTS>0</ACKSTS><STSDESC>正常</STSDESC><BUSI><SUBJECT>1</SUBJECT><TRANS>201704191036030001127038</TRANS><CONTENT><REJECT_CODE>1234</REJECT_CODE><REJECT_DESC>该业务员没有有效的《保险销售从业人员执业证》，不允许出单!</REJECT_DESC></CONTENT></BUSI></RETURN>

12:10:29,916 INFO net.SpdbNetImpl(130) - 返回报文长度：304
12:10:29,917 INFO net.SpdbNetImpl(142) - Out SpdbNetImpl.send()!
12:10:29,917 INFO test.SPDBTestUI(115) - 返回报文头：INSU800000000304
12:10:29,918 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
12:10:29,924 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:10:29,925 INFO common.Log4jPrint(20) - null
12:10:29,925 INFO common.Log4jPrint(20) - null
12:10:29,925 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
12:10:29,934 INFO common.Log4jPrint(20) - i=0
12:10:29,936 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:10:29,937 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.839s
12:10:29,937 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
13:02:24,484 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
13:02:24,495 INFO format.NewContInXsl(29) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl...
13:02:24,496 INFO common.XslCache(70) - conf file modified at (2017-04-19 13:01:32,744) and length=25332 bytes!
13:02:24,657 INFO format.NewContInXsl(45) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/spdb/format/NewContIn.xsl!
13:02:24,684 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="REQUEST"><TranData><!-- 核心录单自核请求报文 --><Head><!-- 交易日期 --><TranDate><xsl:value-of select="BUSI/TRSDATE" /></TranDate><!-- 交易时间--><TranTime><xsl:value-of select="string(java:com.sinosoft.midplat.common.DateUtil.getCur6Time())" /></TranTime><!-- 银行代码 --><BankCode><xsl:value-of select="Head/BankCode" /></BankCode><!-- 地区代码 --><ZoneNo><xsl:value-of select="DIST/ZONE" /></ZoneNo><!-- 银行网点 --><NodeNo><xsl:value-of select="DIST/DEPT" /></NodeNo><!-- 柜员代码 --><TellerNo><xsl:value-of select="DIST/TELLER" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="BUSI/TRANS" /></TranNo><!-- YBT组织的节点信息 --><xsl:copy-of select="Head/*" /></Head><!--投保信息--><Body><!-- 销售渠道--><SaleChannel>0</SaleChannel><!-- 申请顺序号- 暂时不用 --><ApplyNo /><xsl:variable name="sAccNo" select="BUSI/CONTENT" /><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/MAIN/APPNO)" /></ProposalPrtNo><!-- 保单合同印刷号 (单证)  --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(BUSI/CONTENT/BILL/BILL_USED)" /></ContPrtNo><!-- 投保日期 --><PolApplyDate><xsl:value-of select="BUSI/CONTENT/MAIN/APPDATE" /></PolApplyDate><!-- 保单递送方式 默认全为1--><GetPolMode>1</GetPolMode><!-- 默认为1，所以写死成1 --><!-- 健康告知(N/Y) --><HealthNotice><xsl:value-of select="BUSI/CONTENT/HEALTH/NOTICE" /></HealthNotice><!-- 交费账户姓名 --><AccName><xsl:value-of select="BUSI/CONTENT/TBR/NAME" /></AccName><!-- 交费银行账户 --><AccNo><xsl:value-of select="BUSI/CONTENT/MAIN/PAYACC" /></AccNo><!-- 销售人员姓名  --><SaleName /><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="//DIST/TELLER" /></SaleStaff><!-- 销售人员资格证号  --><SaleCertNo /><!-- 投保人 --><xsl:apply-templates select="BUSI/CONTENT/TBR" /><!-- 被保人 --><xsl:apply-templates select="BUSI/CONTENT/BBR" /><!-- 受益人 --><xsl:apply-templates select="BUSI/CONTENT/SYR" /><!-- 险种信息 --><xsl:for-each select="BUSI/CONTENT/PTS/PT"><Risk><!-- 险种代码 --><RiskCode><xsl:value-of select="ID" /></RiskCode><!-- 主险险种代码 --><MainRiskCode><xsl:value-of select="ID" /></MainRiskCode><!-- 保额(分)  --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(AMNT)" /></Amnt><!-- 保险费(分) --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(PREMIUM)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="UNIT" /></Mult><!-- 缴费形式 --><PayMode>B</PayMode><!-- 缴费频次 --><PayIntv><xsl:call-template name="tran_payintv"><xsl:with-param name="payintv"><xsl:value-of select="CRG_T" /></xsl:with-param></xsl:call-template></PayIntv><!-- 保险年期年龄标志 --><InsuYearFlag><xsl:apply-templates select="COVER_T" /></InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="COVER_Y" /></InsuYear><xsl:choose><xsl:when test="CRG_T = '1'"><!-- 趸交传1000Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear>1000</PayEndYear></xsl:when><xsl:when test="CRG_T = '2' or CRG_T='7'"><!-- 年交传2Y --><!-- 缴费年期年龄标志 --><PayEndYearFlag><xsl:apply-templates select="CRG_T" /></PayEndYearFlag><!-- 缴费年期年龄 --><PayEndYear><xsl:value-of select="CRG_Y" /></PayEndYear></xsl:when></xsl:choose><!-- 红利领取方式 --><BonusGetMode><xsl:apply-templates select="HLLQ_T" /></BonusGetMode><!-- 满期领取金领取方式 --><FullBonusGetMode><xsl:apply-templates select="DRAW_T" /></FullBonusGetMode><!-- 领取年龄年期标志 --><GetYearFlag><xsl:apply-templates select="DRAW_T" /></GetYearFlag><!-- 领取年龄 --><xsl:variable name="Start" select="DRAW_FST" /><xsl:variable name="End" select="DRAW_LST" /><xsl:if test="string-length($Start) != 0 and string-length($End) !=0"><GetYear><xsl:value-of select="$Start - $End" /></GetYear></xsl:if><xsl:if test="string-length($Start) = 0 or string-length($End) =0"><GetYear>0</GetYear></xsl:if><!-- 领取年期--><GetTerms /><!-- 领取方式 传空 --><GetIntv /><!-- 领取银行编码 传空 --><GetBankCode /><!-- 领取银行账户 传空 --><GetBankAccNo /><!-- 领取银行户名  传空 --><GetAccName /><!-- 自动垫交标志 传空 --><AutoPayFlag /></Risk></xsl:for-each><!--缴费形式 和朱诚沟通，从银保通出单的中韩这边缴费形式都置为B -工行对应处的说明--><PayMode>B</PayMode><!-- 职业告知 --><JobNotice /></Body></TranData></xsl:template><xsl:template match="BUSI/CONTENT/TBR"><Appnt><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(kg)  --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary /><!-- 身份证证件有效期格式:yyyyMMdd --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人详细地址内容 --><AddressContent /><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo /><!-- 投保人移动电话国际区号 --><MobileItlDstcNo /><!-- 投保人国家地区代码 --><NationalityCode /><!-- 投保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 投保人邮政编码 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 家庭电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email><!-- 投保人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 投保人居民类型 --><DenType /></Appnt></xsl:template><!--被保人信息--><xsl:template match="BUSI/CONTENT/BBR"><Insured><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 职业代码 --><JobCode><xsl:apply-templates select="Occupation" /></JobCode><!-- 国籍 --><Nationality><xsl:apply-templates select="COUNTRY_CODE" /></Nationality><!-- 身高(cm)  空值 --><Stature /><!-- 体重(g)  空值 --><Weight /><!-- 婚否(N/Y) 空值 --><MaritalStatus><xsl:apply-templates select="marriage" /></MaritalStatus><!-- 年收入(万元) --><!-- 根据交易渠道的不同金额的显示方式不同 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(INCOME)" /></YearSalary><!-- 身份证证件有效期 --><!-- 8位日期，长期有效为20991231 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人地址 --><Address><xsl:value-of select="ADDR" /></Address><!-- 邮编 --><ZipCode><xsl:value-of select="ZIP" /></ZipCode><!-- 移动电话 --><Mobile><xsl:value-of select="MP" /></Mobile><!-- 固定电话 --><Phone><xsl:value-of select="TEL" /></Phone><!-- 电子邮件 --><Email><xsl:value-of select="EMAIL" /></Email></Insured></xsl:template><xsl:template match="BUSI/CONTENT/SYR"><Bnf><!-- 受益人类别 (0生存，1身故，2红利) --><Type /><!-- 受益顺序 --><Grade><xsl:value-of select="ORDER" /></Grade><!-- 姓名 --><Name><xsl:value-of select="NAME" /></Name><!-- 性别 --><Sex><xsl:apply-templates select="SEX" /></Sex><!-- 出生日期 --><Birthday><xsl:value-of select="BIRTH" /></Birthday><!-- 证件类型 --><IDType><xsl:apply-templates select="IDTYPE" /></IDType><!-- 证件号码 --><IDNo><xsl:value-of select="IDNO" /></IDNo><!-- 受益人与被保人关系 --><RelaToInsured><xsl:apply-templates select="BBR_RELA" /></RelaToInsured><!-- 受益比例 --><Lot><xsl:value-of select="RATIO" /></Lot><!-- 身份证证件有效期 --><xsl:choose><xsl:when test="IDVALIDATE=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="IDVALIDATE" /></IdExpDate></xsl:otherwise></xsl:choose><BeneficType>N</BeneficType></Bnf></xsl:template><!-- 保单递送方式 --><xsl:template><xsl:choose><xsl:when test=".=1" /><!-- 部门发送 --><xsl:when test=".=2">1</xsl:when><!-- 邮寄 --><xsl:when test=".=3" /><!-- 上门递送 --><xsl:when test=".=4">0</xsl:when><!-- 银行柜台 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 关系代码 --><xsl:template name="tran_relatoinsured" match="BBR_RELA"><xsl:choose><xsl:when test=".=1">02</xsl:when><!-- 配偶 --><xsl:when test=".=2">01</xsl:when><!-- 父母 --><xsl:when test=".=3">03</xsl:when><!-- 子女 --><xsl:when test=".=4" /><!-- 亲属 --><xsl:when test=".=5">00</xsl:when><!-- 本人 --><xsl:when test=".=6">06</xsl:when><!-- 其它 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="SEX"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 男 --><xsl:when test=".=2">1</xsl:when><!-- 女 --><xsl:when test=".=3" /><!-- 不确定 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型--><xsl:template name="tran_idtype" match="IDTYPE"><xsl:choose><xsl:when test=".=1">0</xsl:when><!-- 身份证 --><xsl:when test=".=2">1</xsl:when><!-- 护照 --><xsl:when test=".=3">2</xsl:when><!-- 军官证 --><xsl:when test=".=4">D</xsl:when><!-- 武警证 --><xsl:when test=".=5">F</xsl:when><!-- 港澳居民来往内地通行证 --><xsl:when test=".=6">4</xsl:when><!-- 户口簿 --><xsl:when test=".=7" /><!-- 其他 --><xsl:when test=".=8">D</xsl:when><!-- 警官证 --><xsl:when test=".=9" /><!-- 执行公务证 --><xsl:when test=".=A">2</xsl:when><!-- 士兵证 --><xsl:when test=".=B">F</xsl:when><!-- 台湾同胞来往内地通行证 --><xsl:when test=".=C">0</xsl:when><!-- 临时身份证 --><xsl:when test=".=D" /><!-- 外国人居留证 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费方式（频次）   6	年龄   7	终身交费  核心没有   
0	不定期
1	趸交
2	月交
3	季交
4	半年交
5	年交
6	年龄
7	终身交费
--><xsl:template name="tran_payintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv=1">0</xsl:when><!-- 趸交 --><xsl:when test="$payintv=2">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=3">6</xsl:when><!-- 半年交 --><xsl:when test="$payintv=4">3</xsl:when><!-- 季交 --><xsl:when test="$payintv=5">1</xsl:when><!-- 月交 --><xsl:when test="$payintv=6">12</xsl:when><!-- 年交 --><xsl:when test="$payintv=8">-1</xsl:when><!-- 不定期交 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 缴费年期年龄类型 --><xsl:template name="tran_payendyearflag" match="CRG_T"><xsl:choose><xsl:when test=".='0'" /><!-- 无关--><xsl:when test=".='1'">A</xsl:when><!-- 趸缴 --><xsl:when test=".='2'">Y</xsl:when><!-- 年缴 --><xsl:when test=".='3'" /><!-- 半年缴 --><xsl:when test=".='4'" /><!-- 季缴 --><xsl:when test=".='5'">M</xsl:when><!-- 月缴 --><xsl:when test=".='6'">A</xsl:when><!-- 缴至某确定年龄 --><xsl:when test=".='7'" /><!-- 终生缴费 --><xsl:when test=".='8 '" /><!-- 不定期缴 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保险年期年龄类型
0	无关
1	日
2	月
3	季
4	年
5	年龄
6	终身
 --><xsl:template name="tran_insuyearflag" match="COVER_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1" /><!-- 保终身 --><xsl:when test=".=2">Y</xsl:when><!-- 按年限保 --><xsl:when test=".=3">A</xsl:when><!-- 保至某确定年龄 --><xsl:when test=".=4">M</xsl:when><!-- 按月保 --><xsl:when test=".=5">D</xsl:when><!-- 按天保 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 领取年龄年期标志
   1 	按年龄
2	按月
3	按日
4	按年
 --><xsl:template name="tran_getYearFlag" match="GetYearFlag"><xsl:choose><xsl:when test=".=0">Y</xsl:when><!-- 按年 --><xsl:when test=".=1">A</xsl:when><!-- 按年龄 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 红利领取方式
 0	直接给付
1	抵交保费
2	累积生息
3	增额交清
 --><xsl:template name="tran_bonusgetmode" match="HLLQ_T"><xsl:choose><xsl:when test=".=1">1</xsl:when><!-- 积累生息 --><xsl:when test=".=2">2</xsl:when><!-- 现金领取 --><xsl:when test=".=3">3</xsl:when><!-- 抵交保险费   --><xsl:when test=".=4">5</xsl:when><!-- 缴清增额   --><xsl:when test=".=''" /><!-- 年金产品没有红利领取方式 --><xsl:otherwise>4</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 满期领取金领取方式 --><xsl:template name="tran_FullBonusGetMode" match="DRAW_T"><xsl:choose><xsl:when test=".=0" /><!-- 无关 --><xsl:when test=".=1">Y</xsl:when><!-- 年领 --><xsl:when test=".=2" /><!-- 半年领 --><xsl:when test=".=3" /><!-- 季领 --><xsl:when test=".=4" /><!-- 月领 --><xsl:when test=".=5" /><!-- 趸领 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 投保人居民类型 --><xsl:template name="cust_Source" match="CustSource"><xsl:choose><xsl:when test=".=0">2</xsl:when><!-- 城镇 --><xsl:when test=".=1">1</xsl:when><!-- 农村 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_jobcode" match="Occupation"><xsl:choose><xsl:when test=".=2113001">2099904</xsl:when><!-- 教练 --><xsl:when test=".=9999999 " /><!-- 9999999999 --><xsl:when test=".=0000003">8000002</xsl:when><!-- 离退休人员 --><xsl:when test=".=0000001">2099907</xsl:when><!-- 儿童、18岁前学生 --><xsl:when test=".=0002001" /><!-- 负责人（不亲自作业） --><xsl:when test=".=0805001">2021106</xsl:when><!-- 工程师 --><xsl:when test=".=0805002">6030516</xsl:when><!-- 技师 --><xsl:when test=".=0601004">4040701</xsl:when><!-- 负责人 --><xsl:when test=".=0703005" /><!-- 一般内勤、经理 --><xsl:when test=".=0810012">6050712</xsl:when><!-- 	领班、监工 --><xsl:when test=".=0402001">6010316</xsl:when><!-- 经营者（不到现场者） --><xsl:when test=".=0402002">6010317</xsl:when><!-- 经营者（现场监督者） --><xsl:when test=".=0405001">6010608</xsl:when><!-- 行政人员 --><xsl:when test=".=0602002" /><!-- 一般内勤工作人员 --><xsl:when test=".=0603001">4030503</xsl:when><!-- 经理人员 --><xsl:when test=".=0705005">6230710</xsl:when><!-- 承包商、监工 --><xsl:when test=".=0901001">2129901</xsl:when><!-- 内勤人员 --><xsl:when test=".=0901002" /><!-- 外勤人员 --><xsl:when test=".=0902002" /><!-- 业务员 --><xsl:when test=".=1201001" /><!-- 教师 --><xsl:when test=".=1201002" /><!-- 学生 --><xsl:when test=".=1201004">2099902</xsl:when><!-- 军训教官、体育教师 --><xsl:when test=".=1602001">2080301</xsl:when><!-- 律师 --><xsl:when test=".=1602002">2060301</xsl:when><!-- 会计师 --><xsl:when test=".=1701001">4071203</xsl:when><!-- 家庭主妇 --><xsl:when test=".=1801001">3020101</xsl:when><!-- 警务行政及内勤人员 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 国籍  --><xsl:template name="tran_Country" match="COUNTRY_CODE"><xsl:choose><xsl:when test=".=ALB">ALB</xsl:when><!-- 阿尔巴尼亚 --><xsl:when test=".=DZA">ALG</xsl:when><!-- 阿尔及利亚 --><xsl:when test=".=AFG">AFG</xsl:when><!-- 阿富汗 --><xsl:when test=".=ARG">ARG</xsl:when><!-- 阿根廷 --><xsl:when test=".=AZE">AZE</xsl:when><!-- 阿塞拜疆 --><xsl:when test=".=EGY">EGY</xsl:when><!-- 埃及 --><xsl:when test=".=ETH">ETH</xsl:when><!-- 埃塞俄比亚 --><xsl:when test=".=IRL">IRL</xsl:when><!-- 爱尔兰 --><xsl:when test=".=EST">EST</xsl:when><!-- 爱沙尼亚 --><xsl:when test=".=AND">AND</xsl:when><!-- 安道尔 --><xsl:when test=".=AUT">AUT</xsl:when><!-- 奥地利 --><xsl:when test=".=AUS">AUS</xsl:when><!-- 澳大利亚 --><xsl:when test=".=MAC">MO</xsl:when><!-- 澳门 --><xsl:when test=".=BRB">BAR</xsl:when><!-- 巴巴多斯 --><xsl:when test=".=PNG">PNG</xsl:when><!-- 巴布亚新几内亚 --><xsl:when test=".=PRY">PAR</xsl:when><!-- 巴拉圭 --><xsl:when test=".=PSE">PLE</xsl:when><!-- 巴勒斯坦 --><xsl:when test=".=BHR">BRN</xsl:when><!-- 巴林 --><xsl:when test=".=PAN">PAN</xsl:when><!-- 巴拿马 --><xsl:when test=".=BRA">BAS</xsl:when><!-- 巴西 --><xsl:when test=".=BLR">BLR</xsl:when><!-- 白俄罗斯 --><xsl:when test=".=BMU">BER</xsl:when><!-- 百慕大 --><xsl:when test=".=BGR">BUL</xsl:when><!-- 保加利亚 --><xsl:when test=".=BEL">BEL</xsl:when><!-- 比利时 --><xsl:when test=".=ISL">ISL</xsl:when><!-- 冰岛 --><xsl:when test=".=POL">PL</xsl:when><!-- 波兰 --><xsl:when test=".=BOL">BOL</xsl:when><!-- 玻利维亚 --><xsl:when test=".=BIH">BIH</xsl:when><!-- 波斯尼亚和黑塞哥维那 --><xsl:when test=".=BWA">BOT</xsl:when><!-- 博茨瓦纳 --><xsl:when test=".=DNK">DEN</xsl:when><!-- 丹麦 --><xsl:when test=".=DEU">DEU</xsl:when><!-- 德国 --><xsl:when test=".=DOM">DOM</xsl:when><!-- 多米尼加共和国 --><xsl:when test=".=RUS">RUS</xsl:when><!-- 俄罗斯 --><xsl:when test=".=ECU">ECU</xsl:when><!-- 厄瓜多尔 --><xsl:when test=".=FRA">FRA</xsl:when><!-- 法国 --><xsl:when test=".=FRO">FAI</xsl:when><!-- 法罗群岛 --><xsl:when test=".=PHL">PHL</xsl:when><!-- 菲律宾 --><xsl:when test=".=FIN">FIN</xsl:when><!-- 芬兰 --><xsl:when test=".=COL">COL</xsl:when><!-- 哥伦比亚 --><xsl:when test=".=CRI">CRC</xsl:when><!-- 哥斯达黎加 --><xsl:when test=".=GEO">GEO</xsl:when><!-- 格鲁吉亚 --><xsl:when test=".=CUB">CUB</xsl:when><!-- 古巴 --><xsl:when test=".=KAZ">KAZ</xsl:when><!-- 哈萨克斯坦 --><xsl:when test=".=KOR">KOR</xsl:when><!-- 韩国 --><xsl:when test=".=NLD">NL</xsl:when><!-- 荷兰 --><xsl:when test=".=ANT">AHO</xsl:when><!-- 荷属安的列斯 --><xsl:when test=".=HND">HON</xsl:when><!-- 洪都拉斯 --><xsl:when test=".=CAN">CAN</xsl:when><!-- 加拿大 --><xsl:when test=".=GHA">DG</xsl:when><!-- 加纳 --><xsl:when test=".=CZE">CZE</xsl:when><!-- 捷克 --><xsl:when test=".=ZWE">ZIM</xsl:when><!-- 津巴布韦 --><xsl:when test=".=QAT">QAT</xsl:when><!-- 卡塔尔 --><xsl:when test=".=HRV">CRO</xsl:when><!-- 克罗地亚 --><xsl:when test=".=KEN">KEN</xsl:when><!-- 肯尼亚 --><xsl:when test=".=LVA">LAT</xsl:when><!-- 拉脱维亚 --><xsl:when test=".=LBN">LIB</xsl:when><!-- 黎巴嫩 --><xsl:when test=".=LBY">LBA</xsl:when><!-- 利比亚 --><xsl:when test=".=LTU">LTU</xsl:when><!-- 立陶宛 --><xsl:when test=".=LIE">LIE</xsl:when><!-- 列支敦士登 --><xsl:when test=".=LUX">LUX</xsl:when><!-- 卢森堡 --><xsl:when test=".=RWA">RWA</xsl:when><!-- 卢旺达 --><xsl:when test=".=ROM">ROM</xsl:when><!-- 罗马尼亚 --><xsl:when test=".=MWI">MAW</xsl:when><!-- 马拉维 --><xsl:when test=".=MYS">MY</xsl:when><!-- 马来西亚 --><xsl:when test=".=MKD">MKD</xsl:when><!-- 马其顿 --><xsl:when test=".=MUS">MRI</xsl:when><!-- 毛里求斯 --><xsl:when test=".=USA">USA</xsl:when><!-- 美国 --><xsl:when test=".=MNG">MGL</xsl:when><!-- 蒙古 --><xsl:when test=".=BGD">BAN</xsl:when><!-- 孟加拉国 --><xsl:when test=".=PER">PER</xsl:when><!-- 秘鲁 --><xsl:when test=".=MAR">MAR</xsl:when><!-- 摩洛哥 --><xsl:when test=".=MCO">MNC</xsl:when><!-- 摩纳哥 --><xsl:when test=".=MEX">MEX</xsl:when><!-- 墨西哥 --><xsl:when test=".=NAM">NAM</xsl:when><!-- 纳米比亚 --><xsl:when test=".=ZAF">SFA</xsl:when><!-- 南非 --><xsl:when test=".=NIC">NCA</xsl:when><!-- 尼加拉瓜 --><xsl:when test=".=NGA">NGR</xsl:when><!-- 尼日利亚 --><xsl:when test=".=NOR">NO</xsl:when><!-- 挪威 --><xsl:when test=".=PRT">POR</xsl:when><!-- 葡萄牙 --><xsl:when test=".=JPN">JAN</xsl:when><!-- 日本 --><xsl:when test=".=SWE">SWE</xsl:when><!-- 瑞典 --><xsl:when test=".=CHE">SUI</xsl:when><!-- 瑞士 --><xsl:when test=".=CYP">CYP</xsl:when><!-- 塞浦路斯 --><xsl:when test=".=SYC">SEY</xsl:when><!-- 塞舌尔 --><xsl:when test=".=SAU">UAE</xsl:when><!-- 沙特阿拉伯 --><xsl:when test=".=SMR">SMR</xsl:when><!-- 圣马力诺 --><xsl:when test=".=LKA">SLK</xsl:when><!-- 斯里兰卡 --><xsl:when test=".=SVK">SVK</xsl:when><!-- 斯洛伐克 --><xsl:when test=".=SVN">SLO</xsl:when><!-- 斯洛文尼亚 --><xsl:when test=".=SDN">SUD</xsl:when><!-- 苏丹 --><xsl:when test=".=SUR">SUR</xsl:when><!-- 苏里南 --><xsl:when test=".=SOM">SOM</xsl:when><!-- 索马里 --><xsl:when test=".=TJK">KGZ</xsl:when><!-- 塔吉克斯坦 --><xsl:when test=".=THA">THA</xsl:when><!-- 泰国 --><xsl:when test=".=TON">TO</xsl:when><!-- 汤加 --><xsl:when test=".=TTO">TRI</xsl:when><!-- 特立尼达和多巴哥 --><xsl:when test=".=TUN">TUN</xsl:when><!-- 突尼斯 --><xsl:when test=".=TUR">TUR</xsl:when><!-- 土耳其 --><xsl:when test=".=TKM">TKM</xsl:when><!-- 土库曼斯坦 --><xsl:when test=".=VEN">VEN</xsl:when><!-- 委内瑞拉 --><xsl:when test=".=BRN">BRU</xsl:when><!-- 文莱 --><xsl:when test=".=UGA">UGA</xsl:when><!-- 乌干达 --><xsl:when test=".=UKR">UKR</xsl:when><!-- 乌克兰 --><xsl:when test=".=URY">URU</xsl:when><!-- 乌拉圭 --><xsl:when test=".=UZB">UZB</xsl:when><!-- 乌兹别克斯坦 --><xsl:when test=".=ESP">ESP</xsl:when><!-- 西班牙 --><xsl:when test=".=GRC">GRE</xsl:when><!-- 希腊 --><xsl:when test=".=HKG">HK</xsl:when><!-- 香港 --><xsl:when test=".=SGP">SG</xsl:when><!-- 新加坡 --><xsl:when test=".=NZL">NZL</xsl:when><!-- 新西兰 --><xsl:when test=".=HUN">HUN</xsl:when><!-- 匈牙利 --><xsl:when test=".=SYR">SYR</xsl:when><!-- 叙利亚 --><xsl:when test=".=JAM">JAM</xsl:when><!-- 牙买加 --><xsl:when test=".=ARM">ARM</xsl:when><!-- 亚美尼亚 --><xsl:when test=".=YEM">YEM</xsl:when><!-- 也门 --><xsl:when test=".=IRQ">IRQ</xsl:when><!-- 伊拉克 --><xsl:when test=".=IRN">IRI</xsl:when><!-- 伊朗 --><xsl:when test=".=ISR">ISR</xsl:when><!-- 以色列 --><xsl:when test=".=ITA">ITA</xsl:when><!-- 意大利 --><xsl:when test=".=IND">IND</xsl:when><!-- 印度 --><xsl:when test=".=IDN">INA</xsl:when><!-- 印度尼西亚 --><xsl:when test=".=GBR">ENG</xsl:when><!-- 英国 --><xsl:when test=".=VGB">IVB</xsl:when><!-- 英属维尔京群岛 --><xsl:when test=".=VNM">VIE</xsl:when><!-- 越南 --><xsl:when test=".=ZMB">ZAM</xsl:when><!-- 赞比亚 --><xsl:when test=".=CHL">CHI</xsl:when><!-- 智利 --><xsl:when test=".=CHN">CHN</xsl:when><!-- 中国 --><xsl:when test=".=TWN">TW</xsl:when><!-- 中国台湾 --><xsl:otherwise>OTH</xsl:otherwise><!-- 其他 --></xsl:choose></xsl:template><!-- 婚否 --><xsl:template name="tran_maritalstatus" match="marriage"><xsl:choose><xsl:when test=".=02 or 03 or 04">0</xsl:when><!-- 无配偶(未婚 、离异、丧偶) --><xsl:when test=".=01 ">1</xsl:when><!-- 有配偶(已婚) --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

13:02:24,687 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
16:08:02,061 INFO test.NewABCTest(137) - Socket连接10.2.0.31:9002
16:08:02,130 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/basepath.r
16:08:02,130 DEBUG common.SysInfo(33) - BasePath = /D:/Software/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/
16:08:02,162 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:08:02,162 DEBUG common.SysInfo(68) - Home = /D:/Software/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/
16:08:03,087 INFO test.NewABCTest(212) - 发送报文头！X1.0000117123103    00000                                       000000000
16:08:03,097 INFO test.NewABCTest(217) - 客户端请求发送完毕！耗时：0.998s
16:08:03,099 INFO test.NewABCTest(223) - 收到返回报文！
16:08:07,799 INFO test.NewABCTest(231) - package_head:X1.0000008323103    00000                                       000000000
16:08:07,799 INFO test.NewABCTest(233) - mBodyLen:832
16:08:07,813 INFO test.NewABCTest(238) - 解密开始
16:08:07,813 INFO test.NewABCTest(240) - 解密完成
16:08:07,813 INFO test.NewABCTest(253) - UTF-8 农行的报文: 
16:08:07,813 INFO test.NewABCTest(257) - 客户端接收返回报文完毕！耗时：5.714s
16:09:03,372 INFO test.NewABCTest(137) - Socket连接10.2.0.31:9002
16:09:03,388 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/basepath.r
16:09:03,388 DEBUG common.SysInfo(33) - BasePath = /D:/Software/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/
16:09:03,404 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:09:03,404 DEBUG common.SysInfo(68) - Home = /D:/Software/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/
16:09:03,969 INFO test.NewABCTest(212) - 发送报文头！X1.0000117123103    00000                                       000000000
16:09:03,970 INFO test.NewABCTest(217) - 客户端请求发送完毕！耗时：0.582s
16:09:03,971 INFO test.NewABCTest(223) - 收到返回报文！
16:09:04,049 INFO test.NewABCTest(231) - package_head:X1.0000008323103    00000                                       000000000
16:09:04,050 INFO test.NewABCTest(233) - mBodyLen:832
16:09:04,050 INFO test.NewABCTest(238) - 解密开始
16:09:04,052 INFO test.NewABCTest(240) - 解密完成
16:09:04,055 INFO test.NewABCTest(253) - UTF-8 农行的报文: 
16:09:04,056 INFO test.NewABCTest(257) - 客户端接收返回报文完毕！耗时：0.668s
16:09:31,565 INFO test.NewABCTest(137) - Socket连接127.0.0.1:9002
16:09:31,580 DEBUG common.SysInfo(30) - basepath.r = /D:/Software/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/basepath.r
16:09:31,580 DEBUG common.SysInfo(33) - BasePath = /D:/Software/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/
16:09:31,580 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:09:31,580 DEBUG common.SysInfo(68) - Home = /D:/Software/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/
16:09:31,665 INFO newabc.NewAbcConf(22) - Into NewAbcConf.load()...
16:09:31,680 INFO newabc.NewAbcConf(25) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/newabc.xml...
16:09:31,681 INFO common.XmlConf(80) - conf file modified at (2017-04-19 12:10:19,238) and length=6904 bytes!
16:09:31,703 INFO newabc.NewAbcConf(41) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/conf/newabc.xml!
16:09:31,703 INFO newabc.NewAbcConf(48) - Out NewAbcConf.load()!
16:09:31,703 INFO midplat.Ybt4Socket(34) - TranLogNo:132474
16:09:31,703 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newabc.net.NewAbcNetImpl
16:09:31,765 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9002
16:09:31,807 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:09:31,807 INFO net.NewAbcNetImpl(50) - Into NewAbcNetImp.receive()...
16:09:32,054 INFO test.NewABCTest(212) - 发送报文头！X1.0000117123103    00000                                       000000000
16:09:32,055 INFO net.NewAbcNetImpl(58) - package_head:X1.0000117123103    00000                                       000000000
16:09:32,056 INFO net.NewAbcNetImpl(63) - cInsuID:3103
16:09:32,056 INFO net.NewAbcNetImpl(65) - mBodyLen:11712
16:09:32,057 INFO net.NewAbcNetImpl(70) - 解密开始
16:09:32,056 INFO test.NewABCTest(217) - 客户端请求发送完毕！耗时：0.476s
16:09:32,059 INFO test.NewABCTest(223) - 收到返回报文！
16:09:32,086 INFO common.Log4jPrint(20) - 密钥路径:/D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/key/newABCKey.dat
16:09:32,090 INFO common.Log4jPrint(20) - 密钥：XF0zVFKjelIBClyf
16:09:32,282 INFO net.NewAbcNetImpl(72) - 解密完成
16:09:32,283 INFO common.Log4jPrint(20) - 解密后的报文:============<ABCB2I><Header><TransDate>20170419</TransDate><TransTime>152647</TransTime><TransCode>1002</TransCode><ProvCode>01</ProvCode><SerialNo>810000456769</SerialNo><CorpNo>1141</CorpNo><TransSide>1</TransSide><EntrustWay>11</EntrustWay><BranchNo>010101001865201</BranchNo><Tlid>apky</Tlid><BankCode>03</BankCode></Header><App><Req><AppNo>810000456769</AppNo><Appl><!--投保人--><IDKind>110001</IDKind><IDCode>320304196710256138</IDCode><BeginDate /><InvalidDate>20310131</InvalidDate><Name>李四</Name><Sex>0</Sex><Birthday>19671025</Birthday><Country>156</Country><Address>重庆@@渝北区@@北大街@@28号@@</Address><Prov>江苏省</Prov><City>徐州市</City><Zone>泉山区</Zone><ZipCode>100000</ZipCode><Email /><Phone /><Mobile>18501077318</Mobile><OtherConnect /><ShortMsg /><FixIncome>0</FixIncome><AnnualIncome>500000</AnnualIncome><Company /><JobType /><JobCode>3010101</JobCode><Notice /><CustSource>1</CustSource><RelaToInsured>01</RelaToInsured></Appl><Insu><!--被保人--><IDKind>110001</IDKind><IDCode>320304196710256138</IDCode><BeginDate /><ValidDate>20310131</ValidDate><Name>李四</Name><Sex>0</Sex><Birthday>19671025</Birthday><Country>156</Country><Address>重庆@@渝北区@@北大街@@28号@@</Address><Prov>江苏省</Prov><City>徐州市</City><Zone>泉山区</Zone><ZipCode>100000</ZipCode><Email /><Phone /><Mobile>18501077318</Mobile><JobType /><JobCode>3010101</JobCode><Company /><AnnualIncome>50000</AnnualIncome><Tall>0</Tall><Weight>0</Weight><IsRiskJob /><HealthNotice>0</HealthNotice><Notice /><CreditCard /><CreditType /><Immaturity>0</Immaturity></Insu><Bnfs><!--受益人--><Count>0</Count><Type1 /><Name1 /><Sex1 /><Birthday1 /><IDCode1 /><BeginDate1 /><InvalidDate1 /><IDKind1 /><RelationToInsured1 /><Sequence1>0</Sequence1><Prop1>0</Prop1><Phone1 /><Country1 /><Address1 /><Prov1 /><City1 /><Zone1 /><Type2 /><Name2 /><Sex2 /><Birthday2 /><IDCode2 /><BeginDate2 /><InvalidDate2 /><IDKind2 /><RelationToInsured2 /><Sequence2>0</Sequence2><Prop2>0</Prop2><Phone2 /><Country2 /><Address2 /><Prov2 /><City2 /><Zone2 /><Type3 /><Name3 /><Sex3 /><Birthday3 /><IDCode3 /><BeginDate3 /><InvalidDate3 /><IDKind3 /><RelationToInsured3 /><Sequence3>0</Sequence3><Prop3>0</Prop3><Phone3 /><Country3 /><Address3 /><Prov3 /><City3 /><Zone3 /></Bnfs><Risks><!--险种--><Count /><InsuCode>0204</InsuCode><RiskCode>012D0100</RiskCode><Name>华贵多彩赢家年金保险</Name><Policypwd /><Share>10</Share><Prem>10000</Prem><Price>0</Price><Amnt>0</Amnt><PayType>1</PayType><!--交费方式:趸交,年交--><PayDueType>0</PayDueType><!--交费期间类型:趸交--><PayDueDate>2</PayDueDate><!--交费期间:2年交--><InsuDueType>4</InsuDueType><!--保险期间类型--><InsuDueDate>10</InsuDueDate><!--保险期间:10年--><FullBonusGetMode /><GetYearFlag>0</GetYearFlag><GetYear>6</GetYear><BonusPayMode /><BonusGetMode /><WNRiskAccCount /><WNRiskAccType /><InvestProtion /><AutoPayFlag /><AutoPayForFlag /><SubFlag /><RiskBeginDate /><RiskEndDate /><InvestType /><ContinuePay /><ContinuePayAmt /><ContinuePayDue /><ContinuePayBeginDate /><SameFlag /></Risks><Inv><!--基本保费投资帐户--><Count /><Type1 /><Pro1 /><Type2 /><Pro2 /><Type3 /><Pro3 /><Type4 /><Pro4 /><Type5 /><Pro5 /></Inv><ContinuePay><!--定期追加保险费的投资账户--><Count /><Type1 /><Pro1 /><Type2 /><Pro2 /><Type3 /><Pro3 /><Type4 /><Pro4 /><Type5 /><Pro5 /></ContinuePay><Objt><!--保险目标--><Prov /><City /><Zone /><Address /><Amnt /><ZipCode /><Area /><PreFlag /><NoPayPortion /><NoPayPrem /><Struts /><Usage /><FasAmnt /><FloAmnt /><Count /><Name1 /><Amnt1 /><Name2 /><Amnt2 /><Name3 /><Amnt3 /><Name4 /><Amnt4 /><Name5 /><Amnt5 /><Name6 /><Amnt6 /><Name7 /><Amnt7 /></Objt><Loan><!--贷款信息--><ContNo /><LoanType /><LoanBank /><VchCheckNo /><Flag /><HurtAmnt /><VchNo /><AccNo /><Prem /><BegDate /><EndDate /></Loan><Addt><!--附加险--><Count>0</Count><RiskCode1 /><InsuCode1 /><Name1 /><Share1>0</Share1><AutoPayFlag1 /><Prem1>0</Prem1><Amnt1 /><PayType1 /><PayDueType1 /><PayDueDate1 /><InsuDueType1 /><InsuDueDate1 /><RiskCode2 /><InsuCode2 /><Name2 /><Share2>0</Share2><AutoPayFlag2 /><Prem2>0</Prem2><Amnt2 /><PayType2 /><PayDueType2 /><PayDueDate2 /><InsuDueType2 /><InsuDueDate2 /><RiskCode3 /><InsuCode3 /><Name3 /><Share3>0</Share3><AutoPayFlag3 /><Prem3>0</Prem3><Amnt3 /><PayType3 /><PayDueType3 /><PayDueDate3 /><InsuDueType3 /><InsuDueDate3 /><RiskCode4 /><InsuCode4 /><Name4 /><Share4>0</Share4><AutoPayFlag4 /><Prem4>0</Prem4><Amnt4 /><PayType4 /><PayDueType4 /><PayDueDate4 /><InsuDueType4 /><InsuDueDate4 /><RiskCode5 /><InsuCode5 /><Name5 /><Share5>0</Share5><AutoPayFlag5 /><Prem5>0</Prem5><Amnt5 /><PayType5 /><PayDueType5 /><PayDueDate5 /><InsuDueType5 /><InsuDueDate5 /><RiskCode6 /><InsuCode6 /><Name6 /><Share6>0</Share6><AutoPayFlag6 /><Prem6>0</Prem6><Amnt6 /><PayType6 /><PayDueType6 /><PayDueDate6 /><InsuDueType6 /><InsuDueDate6 /></Addt><Base><!--基本信息--><SpecArranged /><ArugeFlag /><ArbteName /><ConAccName>李四</ConAccName><ConAccNo>12345678</ConAccNo><!--续期缴费账号--><ApplGetAccNo /><InsuGetAccNo /><ApplyDate>20170419</ApplyDate><PolicyApplySerial>1010100004082</PolicyApplySerial><VchType>8055</VchType><VchName>渤海保单</VchName><VchNo>1800100000617</VchNo><Saler>郝海峰</Saler><BranchCertNo>4401008906584400</BranchCertNo><SalerCertNo>00201009440000026065</SalerCertNo><BranchName>中国农业银行广州东城支行</BranchName><RenewPayType /><ApplGetAccName /><InsuGetAccName /><PoliValidDate /></Base><Reserve1>婚姻状况</Reserve1><Reserve2 /><Reserve3>家庭年收入</Reserve3><Reserve4 /><Reserve5>投保人保费预算</Reserve5><Reserve6 /><Reserve7 /><Reserve8 /><Reserve9 /><Reserve10 /><Reserve11 /><Reserve12 /><Reserve13 /><Reserve14 /><Reserve15 /><Reserve16 /><Reserve17 /><Reserve18 /><Reserve19 /><Reserve20 /></Req></App></ABCB2I>
 
16:09:32,296 INFO net.NewAbcNetImpl(82) - UTF-8 农行的报文: 
16:09:32,300 INFO net.NewAbcNetImpl(102) - 农行交易码为=======:1002
16:09:32,319 INFO common.SaveMessage(94) - 132477_15_1002_in.xml IO输出耗时:0.016s
16:09:32,320 INFO net.NewAbcNetImpl(122) - 保存报文完毕！132477_15_1002_in.xml
16:09:32,321 INFO net.NewAbcNetImpl(148) - Out NewAbcNetImp.receive()!
16:09:32,323 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newabc.format.NewCont
16:09:32,357 INFO format.NewCont(25) - Into newABCNewCont.noStd2Std()...
16:09:32,358 INFO format.NewCont(169) - 受益人个数:0
16:09:32,373 INFO format.NewContInXsl(27) - Into NewContInXsl.load()...
16:09:32,374 INFO format.NewContInXsl(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl...
16:09:32,375 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:31,218) and length=25970 bytes!
16:09:32,656 INFO format.NewContInXsl(37) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContIn.xsl!
16:09:32,656 INFO format.NewContInXsl(50) - Out NewContInXsl.load()!
16:09:32,670 INFO common.Log4jPrint(20) - sdfsdfsdfewre===5.0E7
16:09:32,673 INFO format.NewCont(41) - Out newABCNewCont.noStd2Std()!
16:09:32,674 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newabc.service.NewContInput
16:09:32,711 INFO service.NewContInput(37) - Into NewContInput.service()...
16:09:32,711 INFO service.NewContInput(52) - 判断是否重发，1为重发，重发Body增加ResendFlag节点
16:09:32,712 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=0 and ProposalPrtNo='101010000408244' and bak3='810000456769' and MakeDate =20170419
16:09:51,687 INFO common.Log4jPrint(20) - DBConn Exception1: IO 错误: Socket read timed out
16:09:51,698 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:886)
16:09:51,698 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1167)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1289)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1909)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1871)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:318)
16:09:51,699 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConn.createConnection(DBConn.java:150)
16:09:51,699 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConnPool.getConnection(DBConnPool.java:84)
16:09:51,699 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.ExeSQL.getOneValue(ExeSQL.java:62)
16:09:51,699 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newabc.service.NewContInput.service(NewContInput.java:58)
16:09:51,699 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
16:09:51,699 INFO common.Log4jPrint(20) - Caused by: oracle.net.ns.NetException: Socket read timed out
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.net.ns.Packet.receive(Packet.java:339)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.net.ns.DataPacket.receive(DataPacket.java:106)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:315)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.read(NetInputStream.java:260)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.read(NetInputStream.java:185)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.net.ns.NetInputStream.read(NetInputStream.java:102)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CSocketInputStreamWrapper.readNextPacket(T4CSocketInputStreamWrapper.java:124)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CSocketInputStreamWrapper.read(T4CSocketInputStreamWrapper.java:80)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1137)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:290)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:192)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:193)
16:09:51,699 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:873)
16:09:51,699 INFO common.Log4jPrint(20) - 	... 10 more
16:09:51,699 INFO common.Log4jPrint(20) - DBConn : recreate DBConn
16:09:51,856 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
16:09:51,856 INFO common.Log4jPrint(20) - 进程名：132477
16:09:51,856 INFO common.Log4jPrint(20) - trancom:5
16:09:51,856 INFO common.Log4jPrint(20) - FuncFlag:1002
16:09:51,856 INFO common.Log4jPrint(20) - mHeadEle.getChildText132477_15_1002_in.xml
16:09:51,856 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:09:51,856 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132477,5,'01','01010101001865201','810000456769','apky',1002,20170419,152647,'101010000408244','180010000061793',-1,-1,'127.0.0.1','132477_15_1002_in.xml',20170419,160951,20170419,160951 )
16:09:51,871 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
16:09:51,871 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from cont where bak8='810000456769' and trancom ='05'
16:09:51,871 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000408244' and MakeDate>=20170419 and MakeTime>=160732
16:09:51,887 INFO common.RuleParser(54) - Into RuleParser.check()...
16:09:51,903 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
16:09:51,903 INFO common.Log4jPrint(20) - 对邮编进行校验
16:09:51,903 INFO common.Log4jPrint(20) - 对邮编进行校验
16:09:51,903 INFO common.Log4jPrint(20) - 返回的结果是:0
16:09:51,903 INFO common.Log4jPrint(20) - 对邮编进行校验
16:09:51,903 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules />

16:09:51,903 INFO common.RuleParser(87) - Out RuleParser.checkByXsl()!
16:09:51,903 INFO common.RuleParser(67) - Out RuleParser.check()!
16:09:51,903 INFO net.CallWebsvcAtomSvc(74) - Into CallWebsvcAtomSvc.service()...
16:09:51,925 INFO common.SaveMessage(94) - 132477_18_0_inSvc.xml IO输出耗时:0.022s
16:09:51,925 INFO net.CallWebsvcAtomSvc(91) - 保存报文完毕！132477_18_0_inSvc.xml
16:09:51,925 INFO common.Log4jPrint(20) - start call 录单核保(http://10.2.0.41:8001/ui/services/ServiceForBankInterfaceService.service)...
16:09:51,925 INFO net.CallWebsvcAtomSvc(102) - start call 录单核保(http://10.2.0.41:8001/ui/services/ServiceForBankInterfaceService.service)...
16:09:51,956 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
16:09:51,956 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:09:51,956 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
16:09:51,956 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
16:09:51,956 DEBUG httpclient.Wire(70) - >> "Host: 10.2.0.41:8001[\r][\n]"
16:09:51,956 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
16:09:51,956 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:09:51,956 DEBUG httpclient.Wire(70) - >> "e21[\r][\n]"
16:09:51,956 DEBUG httpclient.Wire(84) - >> "<?xml version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTcwNDE5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTUyNjQ3PC9UcmFuVGltZT48QmFua0NvZGU+MDEwMjwvQmFua0NvZGU+PFpvbmVObz4wMTwvWm9uZU5vPjxOb2RlTm8+MDEwMTAxMDEwMDE4NjUyMDE8L05vZGVObz48VGVsbGVyTm8+YXBreTwvVGVsbGVyTm8+PFRyYW5Obz44MTAwMDA0NTY3Njk8L1RyYW5Obz48Q2xpZW50SXA+MTI3LjAuMC4xPC9DbGllbnRJcD48VHJhbkNvbT4wNTwvVHJhbkNvbT48RnVuY0ZsYWc+MTAwMjwvRnVuY0ZsYWc+PEFnZW50Q29tIC8+PEFnZW50Q29kZSAvPjxJbk5vRG9jPjEzMjQ3N18xNV8xMDAyX2luLnhtbDwvSW5Ob0RvYz48QmFua0NvZGU+MDEwMjwvQmFua0NvZGU+PFNlcnZpY2VJZD4wPC9TZXJ2aWNlSWQ+PC9IZWFkPjxCb2R5PjxTYWxlQ2hhbm5lbD4wPC9TYWxlQ2hhbm5lbD48QXBwbHlObz44MTAwMDA0NTY3Njk8L0FwcGx5Tm8+PFByb3Bvc2FsUHJ0Tm8+MTAxMDEwMDAwNDA4MjQ0PC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8+MTgwMDEwMDAwMDYxNzkzPC9Db250UHJ0Tm8+PFBvbEFwcGx5RGF0ZT4yMDE3MDQxOTwvUG9sQXBwbHlEYXRlPjxHZXRQb2xNb2RlPjE8L0dldFBvbE1vZGU+PEhlYWx0aE5vdGljZT5OPC9IZWFsdGhOb3RpY2U+PEFjY05hbWU+wO7LxDwvQWNjTmFtZT48QWNjTm8+MTIzNDU2Nzg8L0FjY05vPjxTYWxlTmFtZT66wrqjt+U8L1NhbGVOYW1lPjxTYWxlU3RhZmY+MDAyMDEwMDk0NDAwMDAwMjYwNjU8L1NhbGVTdGFmZj48U2FsZUNlcnRObz4wMDIwMTAwOTQ0MDAwMDAyNjA2NTwvU2FsZUNlcnRObz48QXBwbnQ+PE5hbWU+wO7LxDwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk2NzEwMjU8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjMyMDMwNDE5NjcxMDI1NjEzODwvSURObz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5PjxTdGF0dXJlIC8+PFdlaWdodCAvPjxNYXJpdGFsU3RhdHVzIC8+PFllYXJTYWxhcnk+NTAuMDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeSAvPjxJZEV4cERhdGU+MjAzMTAxMzE8L0lkRXhwRGF0ZT48QWRkcmVzc0NvbnRlbnQgLz48Rml4VGVsRG1zdERzdGNObyAvPjxNb2JpbGVJdGxEc3RjTm8gLz48TmF0aW9uYWxpdHlDb2RlIC8+PEFkZHJlc3M+1tjH7EBA0+Wxscf4QECxsbTzvdZAQDI4usVAQDwvQWRkcmVzcz48WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+PE1vYmlsZT4xODUwMTA3NzMxODwvTW9iaWxlPjxQaG9uZSAvPjxFbWFpbCAvPjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxEZW5UeXBlPjE8L0RlblR5cGU+PFByb3Y+va3L1cqhPC9Qcm92PjxDaXR5PtDs1t3K0DwvQ2l0eT48Wm9uZT7Iqsm9x/g8L1pvbmU+PC9BcHBudD48SW5zdXJlZD48TmFtZT7A7svEPC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTY3MTAyNTwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzIwMzA0MTk2NzEwMjU2MTM4PC9JRE5vPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PFN0YXR1cmU+MDwvU3RhdHVyZT48V2VpZ2h0PjA8L1dlaWdodD48TWFyaXRhbFN0YXR1cyAvPjxZZWFyU2FsYXJ5IC8+PElkRXhwRGF0ZT4yMDMxMDEzMTwvSWRFeHBEYXRlPjxBZGRyZXNzPtbYx+xAQNPlsbHH+EBAsbG0873WQEAyOLrFQEA8L0FkZHJlc3M+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxNb2JpbGU+MTg1MDEwNzczMTg8L01vYmlsZT48UGhvbmUgLz48RW1haWwgLz48UHJvdj69rcvVyqE8L1Byb3Y+PENpdHk+0OzW3crQPC9DaXR5Pjxab25lPsiqyb3H+DwvWm9uZT48L0luc3VyZWQ+PFJpc2s+PFJpc2tDb2RlPjAxMkQwMTAwPC9SaXNrQ29kZT48TWFpblJpc2tDb2RlPjAxMkQwMTAwPC9NYWluUmlza0NvZGU+PEFtbnQ+MDwvQW1udD48UHJlbT4xMDAwMDAwPC9QcmVtPjxNdWx0PjEwPC9NdWx0PjxQYXlNb2RlPkI8L1BheU1vZGU+PFBheUludHY+MDwvUGF5SW50dj48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+MTA8L0luc3VZZWFyPjxQYXlFbmRZZWFyRmxhZz5ZPC9QYXlFbmRZZWFyRmxhZz48UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPjxCb251c0dldE1vZGUgLz48RnVsbEJvbnVzR2V0TW9kZSAvPjxHZXRZZWFyRmxhZz5ZPC9HZXRZZWFyRmxhZz48R2V0WWVhcj42PC9HZXRZZWFyPjxHZXRUZXJtcyAvPjxHZXRJbnR2IC8+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnIC8+PC9SaXNrPjxMb2FuPjxMb2FuTm8gLz48TG9hbkJhbmtOYW1lIC8+PExvYW5EYXRlIC8+PExvYW5FbmREYXRlIC8+PExvYW5UeXBlPjAxPC9Mb2FuVHlwZT48QWNjTm8gLz48TG9hblByZW0gLz48SW5zdURhdGUgLz48SW5zdUVuZERhdGUgLz48L0xvYW4+PFBheU1vZGU+QjwvUGF5TW9kZT48Sm9iTm90aWNlIC8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
16:09:51,972 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:09:51,972 DEBUG httpclient.Wire(84) - >> "0"
16:09:51,972 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:09:51,972 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:09:56,482 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:09:56,498 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:09:56,498 DEBUG httpclient.Wire(70) - << "Date: Thu, 27 Apr 2017 08:08:33 GMT[\r][\n]"
16:09:56,499 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
16:09:56,499 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:09:56,500 DEBUG httpclient.Wire(70) - << "X-Powered-By: Servlet/2.5 JSP/2.1[\r][\n]"
16:09:56,500 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:09:56,501 DEBUG httpclient.Wire(84) - << "0"
16:09:56,501 DEBUG httpclient.Wire(84) - << "f"
16:09:56,501 DEBUG httpclient.Wire(84) - << "e"
16:09:56,501 DEBUG httpclient.Wire(84) - << "8"
16:09:56,501 DEBUG httpclient.Wire(84) - << "[\r]"
16:09:56,501 DEBUG httpclient.Wire(70) - << "[\n]"
16:09:56,501 DEBUG httpclient.Wire(84) - << "<?xm"
16:09:56,501 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjA8L0ZsYWc+DQogICAgPERlc2M+vbvS17PJuaajoTwvRGVzYz4NCiAgPC9IZWFkPg0KICA8Qm9keT4NCiAgICA8Q29udE5vPjEwMTAxMDAwMDQwODI0NDwvQ29udE5vPg0KICAgIDxQcm9wb3NhbFBydE5vPjEwMTAxMDAwMDQwODI0NDwvUHJvcG9zYWxQcnRObz4NCiAgICA8Q29udFBydE5vPjE4MDAxMDAwMDA2MTc5MzwvQ29udFBydE5vPg0KICAgIDxQb2xpY3lQbGVkZ2U+MDwvUG9saWN5UGxlZGdlPg0KICAgIDxDb250VmFsdWU+MTAwMDAwMDwvQ29udFZhbHVlPg0KICAgIDxBY2NvdW50VmFsdWU+MTAwMDAwMDwvQWNjb3VudFZhbHVlPg0KICAgIDxQYXlQcm92PjwvUGF5UHJvdj4NCiAgICA8UGF5Tm9kZU5vPjAxMDEwMTAxMDAwMTwvUGF5Tm9kZU5vPg0KICAgIDxQYXlUeXBlPjA8L1BheVR5cGU+DQogICAgPFBheVByZW0+MDwvUGF5UHJlbT4NCiAgICA8QWNjTm8+MTIzNDU2Nzg8L0FjY05vPg0KICAgIDxQcmVtPjEwMDAwMDA8L1ByZW0+DQogICAgPFByZW1UZXh0PsjLw/Gx0tK8zfLUqtX7PC9QcmVtVGV4dD4NCiAgICA8QW1udD45NjAwMDA8L0FtbnQ+DQogICAgPEFtbnRUZXh0PsjLw/Gx0r7Bx6rCvbDb1KrV+zwvQW1udFRleHQ+DQogICAgPEFnZW50Q29kZT41MjAxMzAwMDAzPC9BZ2VudENvZGU+DQogICAgPEFnZW50TmFtZT7Vxcj9PC9BZ2VudE5hbWU+DQogICAgPEFnZW50R3JwQ29kZT4wMDAwMDAwMDAyMjM8L0FnZW50R3JwQ29kZT4NCiAgICA8QWdlbnRHcnBOYW1lPrnz0fTS+LGj06rStbK/MbbTPC9BZ2VudEdycE5hbWU+DQogICAgPEFnZW50Q29tPjAxMDEwMTAxMDAwMTwvQWdlbnRDb20+DQogICAgPEFnZW50Q29tTmFtZT7FqdK10vjQ0Lnz1t2589H0ysC8zbPHzfi14zwvQWdlbnRDb21OYW1lPg0KICAgIDxDb21Db2RlPjg2NTIwMTAxPC9Db21Db2RlPg0KICAgIDxDb21Mb2NhdGlvbj6589bdyqG589H0ytC439DCx/izpMHrxM/CtzE3OLrFw6nMqLn6vMrJzM7x1tDQxEG2sDEzsuM8L0NvbUxvY2F0aW9uPg0KICAgIDxDb21OYW1lPruqufPIy8rZsaPP1bnJt93T0M/euavLvtOq0rXX3LK/PC9Db21OYW1lPg0KICAgIDxDb21aaXBDb2RlPjwvQ29tWmlwQ29kZT4NCiAgICA8Q29tUGhvbmU+PC9Db21QaG9uZT4NCiAgICA8U2FsZVN0YWZmPjAwMjAxMDA5NDQwMDAwMDI2MDY1PC9TYWxlU3RhZmY+DQogICAgPFNhbGVOYW1lPrrCuqO35TwvU2FsZU5hbWU+DQogICAgPFNhbGVDZXJ0Tm8+MDAyMDEwMDk0NDAwMDAwMjYwNjU8L1NhbGVDZXJ0Tm8+DQogICAgPFBvbGljeVN0YXR1cz48L1BvbGljeVN0YXR1cz4NCiAgICA8QmFua0NvbU5vPjAxMDEwMTAxMDAxODY1MjAxPC9CYW5rQ29tTm8+DQogICAgPEFnZW50UGhvbmU+MTUwNjM4MTk2MzI8L0FnZW50UGhvbmU+DQogICAgPFBheUludHY+MDwvUGF5SW50dj4NCiAgICA8SW5zUHJlbV9QeUZfUHJkX051bT4xMDAwPC9JbnNQcmVtX1B5Rl9QcmRfTnVtPg0KICAgIDxQYXllbmRZZWFyPjEwMDA8L1BheWVuZFllYXI+DQogICAgPFBheWVuZFllYXJGbGFnPlk8L1BheWVuZFllYXJGbGFnPg0KICAgIDxBcHBudD4NCiAgICAgIDxDdXN0b21lck5vPjAwMDAwMDIyNzQ8L0N1c3RvbWVyTm8+DQogICAgICA8TmFtZT7A7svEPC9OYW1lPg0KICAgICAgPFNleD4wPC9TZXg+DQogICAgICA8QmlydGhkYXk+MTk2NzEwMjU8L0JpcnRoZGF5Pg0KICAgICAgPElEVHlwZT4wPC9JRFR5cGU+DQogICAgICA8SURObz4zMjAzMDQxOTY3MTAyNTYxMzg8L0lETm8+DQogICAgICA8Sm9iVHlwZT4xPC9Kb2JUeXBlPg0KICAgICAgPEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT4NCiAgICAgIDxKb2JOYW1lPjE8L0pvYk5hbWU+DQogICAgICA8TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT4NCiAgICAgIDxTdGF0dXJlPjwvU3RhdHVyZT4NCiAgICAgIDxXZWlnaHQ+PC9XZWlnaHQ+DQogICAgICA8TWFyaXRhbFN0YXR1cz48L01hcml0YWxTdGF0dXM+DQogICAgICA8QWRkcmVzcz7W2MfsQEDT5bGxx/hAQLGxtPO91kBAMji6xUBAPC9BZGRyZXNzPg0KICAgICAgPFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPg0KICAgICAgPE1vYmlsZT4xODUwMTA3NzMxODwvTW9iaWxlPg0KICAgICAgPFBob25lPjE4NTAxMDc3MzE4PC9QaG9uZT4NCiAgICAgIDxFbWFpbD48L0VtYWlsPg0KICAgICAgPFJlbGFUb0luc3VyZWQ+MDA8L1JlbGFUb0luc3VyZWQ+DQogICAgICA8WWVhclNhbGFyeT41MC4wPC9ZZWFyU2FsYXJ5Pg0KICAgICAgPEZhbWlseVllYXJTYWxhcnk+MC4wPC9GYW1pbHlZZWFyU2FsYXJ5Pg0KICAgICAgPERlblR5cGU+MTwvRGVuVHlwZT4NCiAgICA8L0FwcG50Pg0KICAgIDxJbnN1cmVkPg0KICAgICAgPEN1c3RvbWVyTm8+MDAwMDAwMjI3NDwvQ3VzdG9tZXJObz4NCiAgICAgIDxOYW1lPsDuy8Q8L05hbWU+DQogICAgICA8U2V4PjA8L1NleD4NCiAgICAgIDxCaXJ0aGRheT4xOTY3MTAyNTwvQmlydGhkYXk+DQogICAgICA8SURUeXBlPjA8L0lEVHlwZT4NCiAgICAgIDxJRE5vPjMyMDMwNDE5NjcxMDI1NjEzODwvSURObz4NCiAgICAgIDxKb2JUeXBlPjE8L0pvYlR5cGU+DQogICAgICA8Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPg0KICAgICAgPEpvYk5hbWU+MTwvSm9iTmFtZT4NCiAgICAgIDxTdGF0dXJlPjwvU3RhdHVyZT4NCiAgICAgIDxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5Pg0KICAgICAgPFdlaWdodD48L1dlaWdodD4NCiAgICAgIDxNYXJpdGFsU3RhdHVzPjwvTWFyaXRhbFN0YXR1cz4NCiAgICAgIDxBZGRyZXNzPtbYx+xAQNPlsbHH+EBAsbG0873WQEAyOLrFQEA8L0FkZHJlc3M+DQogICAgICA8WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+DQogICAgICA8TW9iaWxlPjE4NTAxMDc3MzE4PC9Nb2JpbGU+DQog"
16:09:56,501 DEBUG httpclient.Wire(84) - << "[\r]"
16:09:56,501 DEBUG httpclient.Wire(70) - << "[\n]"
16:09:56,501 DEBUG httpclient.Wire(84) - << "0"
16:09:56,501 DEBUG httpclient.Wire(84) - << "d"
16:09:56,501 DEBUG httpclient.Wire(84) - << "b"
16:09:56,501 DEBUG httpclient.Wire(84) - << "3"
16:09:56,501 DEBUG httpclient.Wire(84) - << "[\r]"
16:09:56,501 DEBUG httpclient.Wire(70) - << "[\n]"
16:09:56,501 DEBUG httpclient.Wire(84) - << "ICAgICA8UGhvbmU+MTg1MDEwNzczMTg8L1Bob25lPg0KICAgICAgPEVtYWlsPjwvRW1haWw+DQogICAgICA8RGVuVHlwZT48L0RlblR5cGU+DQogICAgPC9JbnN1cmVkPg0KICAgIDxIZXNpdGF0ZVBlcmlvZD4yMDwvSGVzaXRhdGVQZXJpb2Q+DQogICAgPFJpc2s+DQogICAgICA8Umlza0NvZGU+MDEyRDAxMDA8L1Jpc2tDb2RlPg0KICAgICAgPFJpc2tOYW1lPruqufO24LLK06680sTqvfCxo8/VPC9SaXNrTmFtZT4NCiAgICAgIDxNYWluUmlza0NvZGU+MDEyRDAxMDA8L01haW5SaXNrQ29kZT4NCiAgICAgIDxQb2xBcHBseURhdGU+MjAxNzA0MTk8L1BvbEFwcGx5RGF0ZT4NCiAgICAgIDxTaWduRGF0ZT48L1NpZ25EYXRlPg0KICAgICAgPENWYWxpRGF0ZT4yMDE3MDQxOTwvQ1ZhbGlEYXRlPg0KICAgICAgPEluc3VFbmREYXRlPjIwMjcwNDE5PC9JbnN1RW5kRGF0ZT4NCiAgICAgIDxBbW50Pjk2MDAwMDwvQW1udD4NCiAgICAgIDxQcmVtPjEwMDAwMDA8L1ByZW0+DQogICAgICA8TXVsdD4xMDwvTXVsdD4NCiAgICAgIDxQYXlJbnR2PjA8L1BheUludHY+DQogICAgICA8UGF5TW9kZT4wPC9QYXlNb2RlPg0KICAgICAgPEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+DQogICAgICA8SW5zdVllYXI+MTA8L0luc3VZZWFyPg0KICAgICAgPFllYXJzPjEwPC9ZZWFycz4NCiAgICAgIDxQYXlFbmRZZWFyRmxhZz5ZPC9QYXlFbmRZZWFyRmxhZz4NCiAgICAgIDxQYXlFbmRZZWFyPjEwMDA8L1BheUVuZFllYXI+DQogICAgICA8UGF5RW5kRGF0ZT4zMDE3MDQxOTwvUGF5RW5kRGF0ZT4NCiAgICAgIDxDb3N0SW50dj48L0Nvc3RJbnR2Pg0KICAgICAgPENvc3REYXRlPjwvQ29zdERhdGU+DQogICAgICA8UGF5VG9EYXRlPjwvUGF5VG9EYXRlPg0KICAgICAgPEdldFllYXJGbGFnPlk8L0dldFllYXJGbGFnPg0KICAgICAgPEdldFN0YXJ0RGF0ZT4yMDE3MDQxOTwvR2V0U3RhcnREYXRlPg0KICAgICAgPEdldFllYXI+NjwvR2V0WWVhcj4NCiAgICAgIDxHZXRJbnR2PjwvR2V0SW50dj4NCiAgICAgIDxHZXRUZXJtcz48L0dldFRlcm1zPg0KICAgICAgPEdldEJhbmtDb2RlPjwvR2V0QmFua0NvZGU+DQogICAgICA8R2V0QmFua0FjY05vPjwvR2V0QmFua0FjY05vPg0KICAgICAgPEdldEFjY05hbWU+PC9HZXRBY2NOYW1lPg0KICAgICAgPEF1dG9QYXlGbGFnPjwvQXV0b1BheUZsYWc+DQogICAgICA8Qm9udXNHZXRNb2RlPjwvQm9udXNHZXRNb2RlPg0KICAgICAgPFN1YkZsYWc+PC9TdWJGbGFnPg0KICAgICAgPEZ1bGxCb251c0dldE1vZGU+PC9GdWxsQm9udXNHZXRNb2RlPg0KICAgICAgPEFjY291bnQ+PC9BY2NvdW50Pg0KICAgICAgPENhc2hWYWx1ZXM+DQogICAgICAgIDxDYXNoVmFsdWU+DQogICAgICAgICAgPEVuZFllYXI+MTwvRW5kWWVhcj4NCiAgICAgICAgICA8Q2FzaD45MjYwMDA8L0Nhc2g+DQogICAgICAgIDwvQ2FzaFZhbHVlPg0KICAgICAgICA8Q2FzaFZhbHVlPg0KICAgICAgICAgIDxFbmRZZWFyPjI8L0VuZFllYXI+DQogICAgICAgICAgPENhc2g+OTgxMDAwPC9DYXNoPg0KICAgICAgICA8L0Nhc2hWYWx1ZT4NCiAgICAgICAgPENhc2hWYWx1ZT4NCiAgICAgICAgICA8RW5kWWVhcj4zPC9FbmRZZWFyPg0KICAgICAgICAgIDxDYXNoPjEwNDEwMDA8L0Nhc2g+DQogICAgICAgIDwvQ2FzaFZhbHVlPg0KICAgICAgICA8Q2FzaFZhbHVlPg0KICAgICAgICAgIDxFbmRZZWFyPjQ8L0VuZFllYXI+DQogICAgICAgICAgPENhc2g+MTEwMzAwMDwvQ2FzaD4NCiAgICAgICAgPC9DYXNoVmFsdWU+DQogICAgICAgIDxDYXNoVmFsdWU+DQogICAgICAgICAgPEVuZFllYXI+NTwvRW5kWWVhcj4NCiAgICAgICAgICA8Q2FzaD4xMTcwMDAwPC9DYXNoPg0KICAgICAgICA8L0Nhc2hWYWx1ZT4NCiAgICAgICAgPENhc2hWYWx1ZT4NCiAgICAgICAgICA8RW5kWWVhcj42PC9FbmRZZWFyPg0KICAgICAgICAgIDxDYXNoPjExMjEwMDA8L0Nhc2g+DQogICAgICAgIDwvQ2FzaFZhbHVlPg0KICAgICAgICA8Q2FzaFZhbHVlPg0KICAgICAgICAgIDxFbmRZZWFyPjc8L0VuZFllYXI+DQogICAgICAgICAgPENhc2g+MTA3MDAwMDwvQ2FzaD4NCiAgICAgICAgPC9DYXNoVmFsdWU+DQogICAgICAgIDxDYXNoVmFsdWU+DQogICAgICAgICAgPEVuZFllYXI+ODwvRW5kWWVhcj4NCiAgICAgICAgICA8Q2FzaD4xMDE3MDAwPC9DYXNoPg0KICAgICAgICA8L0Nhc2hWYWx1ZT4NCiAgICAgICAgPENhc2hWYWx1ZT4NCiAgICAgICAgICA8RW5kWWVhcj45PC9FbmRZZWFyPg0KICAgICAgICAgIDxDYXNoPjk2MTAwMDwvQ2FzaD4NCiAgICAgICAgPC9DYXNoVmFsdWU+DQogICAgICAgIDxDYXNoVmFsdWU+DQogICAgICAgICAgPEVuZFllYXI+MTA8L0VuZFllYXI+DQogICAgICAgICAgPENhc2g+MTAwMDAwMDwvQ2FzaD4NCiAgICAgICAgPC9DYXNoVmFsdWU+DQogICAgICA8L0Nhc2hWYWx1ZXM+DQogICAgICA8RGVkdWN0aW9uVmFsdWVzPjwvRGVkdWN0aW9uVmFsdWVzPg0KICAgICAgPEJvbnVzVmFsdWVzPjwvQm9udXNWYWx1ZXM+DQogICAgICA8U3BlY0NvbnRlbnQ+PC9TcGVjQ29udGVudD4NCiAgICA8L1Jpc2s+DQogIDwvQm9keT4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
16:09:56,501 DEBUG httpclient.Wire(84) - << "[\r]"
16:09:56,501 DEBUG httpclient.Wire(70) - << "[\n]"
16:09:56,501 DEBUG httpclient.Wire(84) - << "0"
16:09:56,517 DEBUG httpclient.Wire(84) - << "0"
16:09:56,517 DEBUG httpclient.Wire(84) - << "0"
16:09:56,517 DEBUG httpclient.Wire(84) - << "0"
16:09:56,517 DEBUG httpclient.Wire(84) - << "[\r]"
16:09:56,517 DEBUG httpclient.Wire(70) - << "[\n]"
16:09:56,517 DEBUG httpclient.Wire(84) - << "[\r]"
16:09:56,517 DEBUG httpclient.Wire(70) - << "[\n]"
16:09:56,517 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:09:56,517 INFO net.CallWebsvcAtomSvc(145) - 投保单号101010000408244录单核保(service)耗时：4.592s
16:09:56,544 INFO common.SaveMessage(94) - 132477_21_0_outSvc.xml IO输出耗时:0.027s
16:09:56,545 INFO net.CallWebsvcAtomSvc(165) - 保存报文完毕！132477_21_0_outSvc.xml
16:09:56,545 INFO net.CallWebsvcAtomSvc(167) - Out CallWebsvcAtomSvc.service()!
16:09:56,546 INFO common.Log4jPrint(20) - -----------------------------------------------
16:09:56,546 INFO service.NewContInput(181) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
16:09:56,547 DEBUG service.NewContInput(273) - Into NewContInput.getContDB()...
16:09:56,636 DEBUG service.NewContInput(319) - Out NewContInput.getContDB()!
16:09:56,637 INFO common.Log4jPrint(20) - ExecSQL : select 1 from cont where ProposalPrtno = '101010000408244'
16:09:56,657 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:09:56,658 INFO common.Log4jPrint(20) - mSql: insert into Cont ( RecordNo,Type,ContNo,ProposalPrtNo,ProductId,TranCom,NodeNo,AgentCom,AgentComName,AgentCode,AgentName,ManageCom,AppntNo,AppntName,AppntSex,AppntBirthday,AppntIDType,AppntIDNo,InsuredNo,InsuredName,InsuredSex,InsuredBirthday,InsuredIDType,InsuredIDNo,TranDate,PolApplyDate,SignDate,Prem,Amnt,State,Bak1,Bak8,MakeDate,MakeTime,ModifyDate,ModifyTime,Operator ) values ( 444,0,'101010000408244','101010000408244',0,5,'01010101001865201','010101010001','农业银行贵州贵阳世纪城网点','5201300003','张三','86520101','0000002274','李四','0',19671025,'0','320304196710256138','0000002274','李四','0',19671025,'0','320304196710256138',20170419,20170419,0,1000000.0,960000.0,1,'012D0100','810000456769',20170419,160956,20170419,160956,'sys' )
16:09:56,696 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:09:56,696 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:09:56,696 INFO common.Log4jPrint(20) - 810000456769
16:09:56,696 INFO common.Log4jPrint(20) - 810000456769
16:09:56,696 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132477,TranCom=5,ZoneNo='01',NodeNo='01010101001865201',TranNo='810000456769',Operator='apky',FuncFlag=1002,TranDate=20170419,TranTime=152647,ProposalPrtNo='101010000408244',ContNo=null,OtherNo='180010000061793',AgentCom='010101010001',AgentCode='5201300003',AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86520101',RCode=0,RText='交易成功！',UsedTime=23,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='810000456769',Bak4=null,Bak5=null,InNoDoc='132477_15_1002_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=160951,ModifyDate=20170419,ModifyTime=160956,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='810000456769'
16:09:56,696 INFO service.NewContInput(268) - Out NewContInput.service()!
16:09:56,696 INFO format.NewCont(47) - Into newABCNewCont.std2NoStd()...
16:09:56,765 INFO format.NewContOutXsl(27) - Into NewContInXsl.load()...
16:09:56,765 INFO format.NewContOutXsl(30) - Start load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContOut.xsl...
16:09:56,765 INFO common.XslCache(70) - conf file modified at (2017-04-18 09:00:31,249) and length=959 bytes!
16:09:56,797 INFO format.NewContOutXsl(37) - End load /D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newabc/format/NewContOut.xsl!
16:09:56,797 INFO format.NewContOutXsl(50) - Out NewContInXsl.load()!
16:09:56,797 INFO format.NewCont(65) - 交易成功=========
16:09:56,797 INFO format.NewCont(83) - Out newABCNewCont.std2NoStd()!
16:09:56,797 INFO net.NewAbcNetImpl(153) - Into NewAbcNetImp.send()...
16:09:56,812 INFO common.SaveMessage(94) - 132477_24_1002_out.xml IO输出耗时:0.015s
16:09:56,812 INFO net.NewAbcNetImpl(168) - 保存报文完毕！132477_24_1002_out.xml
16:09:56,812 INFO net.NewAbcNetImpl(175) - xmlStr 去掉 xml投后发送回去的报文:
<ABCB2I><App><Ret><PolicyNo>1010100004082</PolicyNo><CorpCheckNo /><ValidDate /><PolicyDueDate /><Prem>10000.00</Prem><Amnt>9600.00</Amnt></Ret></App><Header><TransDate>20170419</TransDate><TransTime>152647</TransTime><TransCode>1002</TransCode><ProvCode>01</ProvCode><SerialNo>810000456769</SerialNo><CorpNo>1141</CorpNo><TransSide>1</TransSide><EntrustWay>11</EntrustWay><BranchNo>010101001865201</BranchNo><Tlid>apky</Tlid><BankCode>03</BankCode><InsuSerial /><RetCode>000000</RetCode><RetMsg>交易成功！</RetMsg></Header></ABCB2I>

16:09:56,812 INFO common.Log4jPrint(20) - strLen:542
16:09:56,812 INFO common.Log4jPrint(20) - buqizhihou de changdu==
<ABCB2I><App><Ret><PolicyNo>1010100004082</PolicyNo><CorpCheckNo /><ValidDate /><PolicyDueDate /><Prem>10000.00</Prem><Amnt>9600.00</Amnt></Ret></App><Header><TransDate>20170419</TransDate><TransTime>152647</TransTime><TransCode>1002</TransCode><ProvCode>01</ProvCode><SerialNo>810000456769</SerialNo><CorpNo>1141</CorpNo><TransSide>1</TransSide><EntrustWay>11</EntrustWay><BranchNo>010101001865201</BranchNo><Tlid>apky</Tlid><BankCode>03</BankCode><InsuSerial /><RetCode>000000</RetCode><RetMsg>交易成功！</RetMsg></Header></ABCB2I>
  
16:09:56,812 INFO common.Log4jPrint(20) - 密钥路径:/D:/Software/WebLogic/user_projects/domains/ybt/autodeploy/HGLIFE/WEB-INF/key/newABCKey.dat
16:09:56,812 INFO common.Log4jPrint(20) - 密钥：XF0zVFKjelIBClyf
16:09:56,812 INFO common.Log4jPrint(20) - 密钥======XF0zVFKjelIBClyf
16:09:56,812 INFO common.Log4jPrint(20) - 报文长度
<ABCB2I><App><Ret><PolicyNo>1010100004082</PolicyNo><CorpCheckNo /><ValidDate /><PolicyDueDate /><Prem>10000.00</Prem><Amnt>9600.00</Amnt></Ret></App><Header><TransDate>20170419</TransDate><TransTime>152647</TransTime><TransCode>1002</TransCode><ProvCode>01</ProvCode><SerialNo>810000456769</SerialNo><CorpNo>1141</CorpNo><TransSide>1</TransSide><EntrustWay>11</EntrustWay><BranchNo>010101001865201</BranchNo><Tlid>apky</Tlid><BankCode>03</BankCode><InsuSerial /><RetCode>000000</RetCode><RetMsg>交易成功！</RetMsg></Header></ABCB2I>
  
16:09:56,812 INFO common.Log4jPrint(20) - xml字符串的报文长度：1088
16:09:56,897 INFO test.NewABCTest(231) - package_head:X1.0000010883103    00000                                       000000000
16:09:56,901 INFO test.NewABCTest(233) - mBodyLen:1088
16:09:56,902 INFO test.NewABCTest(238) - 解密开始
16:09:56,902 INFO net.NewAbcNetImpl(246) - Out NewAbcNetImp.send()!
16:09:56,903 INFO test.NewABCTest(240) - 解密完成
16:09:56,903 INFO test.NewABCTest(253) - UTF-8 农行的报文: 
16:09:56,903 INFO test.NewABCTest(257) - 客户端接收返回报文完毕！耗时：25.323s
16:09:56,919 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:09:56,919 INFO common.Log4jPrint(20) - null
16:09:56,919 INFO common.Log4jPrint(20) - null
16:09:56,919 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:09:56,919 INFO common.Log4jPrint(20) - i=0
16:09:56,919 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:09:56,919 INFO midplat.Ybt4Socket(192) - 处理总耗时：25.112s
16:09:56,919 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:30:36,068 INFO test.SPDBTestUI(69) - Socket连接127.0.0.1:9003
16:30:36,088 INFO test.SPDBTestUI(81) - 请求报文体长度1：4
16:30:36,089 INFO test.SPDBTestUI(86) - 请求报文体长度：3162    
16:30:36,090 INFO test.SPDBTestUI(97) - 发送请求报文！INSU80003162    <?xml version="1.0" encoding='GBK'?>
<REQUEST>
   <DIST>
      <BANK>SPDB</BANK>
      <ZONE>9800</ZONE>
      <DEPT>120101010001</DEPT>
      <TELLER>11024392</TELLER>
      <ASK>99</ASK>
      <INSU>6000</INSU>
      <PROC>0</PROC>
   </DIST>
   <BUSI>
      <TRSDATE>20170419</TRSDATE>
      <TRANS>201704191036030001127039</TRANS>
      <CATE>2</CATE>
      <SUBJECT>1</SUBJECT>
      <CONTENT>
         <MAIN>
            <APPNO>1010100005501</APPNO>
            <APPDATE>20170419</APPDATE>
            <PAYACC>6225160101084786</PAYACC>
            <DELIVER>4</DELIVER>
            <CALL_T>1</CALL_T>
            <SPEC />
         </MAIN>
         <TBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <MP />
            <LITTLE_MOBILE />
            <EMAIL />
            <BBR_RELA>5</BBR_RELA>
            <INCOME>300000.00</INCOME>
         </TBR>
         <BBR>
            <NAME>黄健</NAME>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <COUNTRY_CODE>中国</COUNTRY_CODE>
            <ADDR>上海市浦东新区高东二路118弄2号903</ADDR>
            <ZIP>200129</ZIP>
            <TEL>13816063054</TEL>
            <LITTLE_MOBILE />
            <EMAIL />
         </BBR>
         <SYR>
            <NAME>黄健</NAME>
            <IDTYPE>1</IDTYPE>
            <IDNO>310224197002104118</IDNO>
            <IDVALIDATE>20250428</IDVALIDATE>
            <ORDER>1</ORDER>
            <RATIO>100</RATIO>
            <BBR_RELA>5</BBR_RELA>
            <SEX>1</SEX>
            <BIRTH>19700210</BIRTH>
         </SYR>
         <PTS>
            <PT>
               <ID>012D0100</ID>
               <UNIT>10</UNIT>
               <CRG_T>1</CRG_T>
               <CRG_Y>0</CRG_Y>
               <COVER_T>2</COVER_T>
               <COVER_Y>10</COVER_Y>
               <DRAW_T>0</DRAW_T>
               <DRAW_FST />
               <DRAW_LST />
               <PREMIUM>8000000</PREMIUM>
               <INVEST>
                  <NVEST_ACC_TYPE />
                  <INVEST_ACC>
                     <ACC_ID />
                     <RATE />
                  </INVEST_ACC>
               </INVEST>
            </PT>
         </PTS>
         <HEALTH>
            <NOTICE>N</NOTICE>
            <LoanNo />
            <LoanBank />
            <LoanDate />
            <LoanEndDate />
            <LoanType />
            <AccNo />
            <LoanPrem />
            <InsuDate />
            <InsuEndDate />
         </HEALTH>
         <BILL>
            <BILL_T />
            <BILL_USED>1800100002501</BILL_USED>
         </BILL>
      </CONTENT>
   </BUSI>
</REQUEST>


16:30:36,096 INFO test.SPDBTestUI(100) - 客户端请求发送完毕！耗时：0.0090s
16:30:36,097 INFO test.SPDBTestUI(104) - 收到返回报文！
16:30:36,090 INFO midplat.Ybt4Socket(34) - TranLogNo:132480
16:30:36,105 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.spdb.net.SpdbNetImpl
16:30:36,106 INFO net.SocketNetImpl(56) - 客户端IP：127.0.0.1；服务端口：9003
16:30:36,114 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:30:36,114 INFO net.SpdbNetImpl(28) - 132483Into SpdbNetImpl.receive()...
16:30:36,116 INFO net.SpdbNetImpl(33) - Head：INSU80003162    
16:30:36,117 INFO net.SpdbNetImpl(37) - 请求报文包头：INSU8000
16:30:36,118 INFO net.SpdbNetImpl(38) - 请求报文长度：3162
16:30:36,139 INFO net.SpdbNetImpl(61) - 交易代码：1001
16:30:36,153 INFO common.SaveMessage(94) - 132483_27_1001_in.xml IO输出耗时:0.012s
16:30:36,154 INFO net.SpdbNetImpl(77) - 保存报文完毕！132483_27_1001_in.xml
16:30:36,161 INFO net.SpdbNetImpl(107) - Out SpdbNetImpl.receive()!
16:30:36,162 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.spdb.format.NewCont
16:30:36,163 INFO format.NewCont(18) - Into NewCont.noStd2Std()...
16:30:36,183 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
16:30:36,184 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
16:30:36,186 INFO format.NewCont(22) - Out NewCont.noStd2Std()!
16:30:36,186 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.spdb.service.NewContInput
16:30:36,187 INFO service.NewContInput(31) - Into NewContInput.service()...
16:30:36,187 DEBUG service.ServiceImpl(67) - Into ServiceImpl.insertTranLog()...
16:30:36,188 INFO common.Log4jPrint(20) - 进程名：132483
16:30:36,189 INFO common.Log4jPrint(20) - trancom:12
16:30:36,189 INFO common.Log4jPrint(20) - FuncFlag:1001
16:30:36,190 INFO common.Log4jPrint(20) - mHeadEle.getChildText132483_27_1001_in.xml
16:30:36,201 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:30:36,202 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 132483,12,'9800','120101010001','201704191036030001127039','11024392',1001,20170419,163036,'101010000550183','180010000250189',-1,-1,'127.0.0.1','132483_27_1001_in.xml',20170419,163036,20170419,163036 )
16:30:36,203 DEBUG service.ServiceImpl(209) - Out ServiceImpl.insertTranLog()!
16:30:36,203 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101010000550183' and MakeDate>=20170419 and MakeTime>=162716
16:30:36,434 INFO common.RuleParser(54) - Into RuleParser.check()...
16:30:36,434 INFO common.RuleParser(76) - Into RuleParser.checkByXsl()...
16:30:36,434 INFO common.Log4jPrint(20) - 对邮编进行校验
16:30:36,434 INFO common.Log4jPrint(20) - 对邮编进行校验
16:30:36,434 INFO common.Log4jPrint(20) - 返回的结果是:0
16:30:36,434 INFO common.Log4jPrint(20) - 对邮编进行校验
16:30:36,434 INFO common.RuleParser(80) - <?xml version="1.0"?>
<rules />

16:30:36,434 INFO common.RuleParser(87) - Out RuleParser.checkByXsl()!
16:30:36,450 INFO common.RuleParser(67) - Out RuleParser.check()!
16:30:36,450 INFO net.CallWebsvcAtomSvc(74) - Into CallWebsvcAtomSvc.service()...
16:30:36,450 INFO common.SaveMessage(94) - 132483_30_0_inSvc.xml IO输出耗时:0.0s
16:30:36,450 INFO net.CallWebsvcAtomSvc(91) - 保存报文完毕！132483_30_0_inSvc.xml
16:30:36,450 INFO common.Log4jPrint(20) - start call 录单核保(http://10.2.0.41:8001/ui/services/ServiceForBankInterfaceService.service)...
16:30:36,450 INFO net.CallWebsvcAtomSvc(102) - start call 录单核保(http://10.2.0.41:8001/ui/services/ServiceForBankInterfaceService.service)...
16:30:36,503 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
16:30:36,503 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:30:36,503 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
16:30:36,519 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
16:30:36,519 DEBUG httpclient.Wire(70) - >> "Host: 10.2.0.41:8001[\r][\n]"
16:30:36,519 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
16:30:36,519 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:30:36,519 DEBUG httpclient.Wire(70) - >> "d95[\r][\n]"
16:30:36,519 DEBUG httpclient.Wire(84) - >> "<?xml version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTcwNDE5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTYzMDM2PC9UcmFuVGltZT48QmFua0NvZGU+MDExNzwvQmFua0NvZGU+PFpvbmVObz45ODAwPC9ab25lTm8+PE5vZGVObz4xMjAxMDEwMTAwMDE8L05vZGVObz48VGVsbGVyTm8+MTEwMjQzOTI8L1RlbGxlck5vPjxUcmFuTm8+MjAxNzA0MTkxMDM2MDMwMDAxMTI3MDM5PC9UcmFuTm8+PENsaWVudElwPjEyNy4wLjAuMTwvQ2xpZW50SXA+PFRyYW5Db20+MTI8L1RyYW5Db20+PEZ1bmNGbGFnPjEwMDE8L0Z1bmNGbGFnPjxBZ2VudENvbSAvPjxBZ2VudENvZGUgLz48SW5Ob0RvYz4xMzI0ODNfMjdfMTAwMV9pbi54bWw8L0luTm9Eb2M+PEJhbmtDb2RlPjAxMTc8L0JhbmtDb2RlPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48U2FsZUNoYW5uZWw+MDwvU2FsZUNoYW5uZWw+PEFwcGx5Tm8gLz48UHJvcG9zYWxQcnRObz4xMDEwMTAwMDA1NTAxODM8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObz4xODAwMTAwMDAyNTAxODk8L0NvbnRQcnRObz48UG9sQXBwbHlEYXRlPjIwMTcwNDE5PC9Qb2xBcHBseURhdGU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48QWNjTmFtZT67xr2hPC9BY2NOYW1lPjxBY2NObz42MjI1MTYwMTAxMDg0Nzg2PC9BY2NObz48U2FsZU5hbWUgLz48U2FsZVN0YWZmPjExMDI0MzkyPC9TYWxlU3RhZmY+PFNhbGVDZXJ0Tm8gLz48QXBwbnQ+PE5hbWU+u8a9oTwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3MDAyMTA8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjMxMDIyNDE5NzAwMjEwNDExODwvSURObz48Sm9iQ29kZSAvPjxOYXRpb25hbGl0eT5PVEg8L05hdGlvbmFsaXR5PjxTdGF0dXJlIC8+PFdlaWdodCAvPjxNYXJpdGFsU3RhdHVzIC8+PFllYXJTYWxhcnk+MzAuMDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeSAvPjxJZEV4cERhdGU+MjAyNTA0Mjg8L0lkRXhwRGF0ZT48QWRkcmVzc0NvbnRlbnQgLz48Rml4VGVsRG1zdERzdGNObyAvPjxNb2JpbGVJdGxEc3RjTm8gLz48TmF0aW9uYWxpdHlDb2RlIC8+PEFkZHJlc3M+yc+6o8rQxta2q9DCx/i437artv7CtzExOMWqMrrFOTAzPC9BZGRyZXNzPjxaaXBDb2RlPjIwMDEyOTwvWmlwQ29kZT48TW9iaWxlIC8+PFBob25lPjEzODE2MDYzMDU0PC9QaG9uZT48RW1haWwgLz48UmVsYVRvSW5zdXJlZD4wMDwvUmVsYVRvSW5zdXJlZD48RGVuVHlwZSAvPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+u8a9oTwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3MDAyMTA8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjMxMDIyNDE5NzAwMjEwNDExODwvSURObz48Sm9iQ29kZSAvPjxOYXRpb25hbGl0eT5PVEg8L05hdGlvbmFsaXR5PjxTdGF0dXJlIC8+PFdlaWdodCAvPjxNYXJpdGFsU3RhdHVzIC8+PFllYXJTYWxhcnk+MC4wPC9ZZWFyU2FsYXJ5PjxJZEV4cERhdGU+MjAyNTA0Mjg8L0lkRXhwRGF0ZT48QWRkcmVzcz7Jz7qjytDG1rar0MLH+Ljftqu2/sK3MTE4xaoyusU5MDM8L0FkZHJlc3M+PFppcENvZGU+MjAwMTI5PC9aaXBDb2RlPjxNb2JpbGUgLz48UGhvbmU+MTM4MTYwNjMwNTQ8L1Bob25lPjxFbWFpbCAvPjwvSW5zdXJlZD48Qm5mPjxUeXBlIC8+PEdyYWRlPjE8L0dyYWRlPjxOYW1lPrvGvaE8L05hbWU+PFNleD4wPC9TZXg+PEJpcnRoZGF5PjE5NzAwMjEwPC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4zMTAyMjQxOTcwMDIxMDQxMTg8L0lETm8+PFJlbGFUb0luc3VyZWQ+MDA8L1JlbGFUb0luc3VyZWQ+PExvdD4xMDA8L0xvdD48SWRFeHBEYXRlPjIwMjUwNDI4PC9JZEV4cERhdGU+PEJlbmVmaWNUeXBlPk48L0JlbmVmaWNUeXBlPjwvQm5mPjxSaXNrPjxSaXNrQ29kZT4wMTJEMDEwMDwvUmlza0NvZGU+PE1haW5SaXNrQ29kZT4wMTJEMDEwMDwvTWFpblJpc2tDb2RlPjxBbW50PjA8L0FtbnQ+PFByZW0+ODAwMDAwMDAwPC9QcmVtPjxNdWx0PjEwPC9NdWx0PjxQYXlNb2RlPkI8L1BheU1vZGU+PFBheUludHY+MDwvUGF5SW50dj48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+MTA8L0luc3VZZWFyPjxQYXlFbmRZZWFyRmxhZz5ZPC9QYXlFbmRZZWFyRmxhZz48UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPjxCb251c0dldE1vZGUgLz48RnVsbEJvbnVzR2V0TW9kZSAvPjxHZXRZZWFyRmxhZyAvPjxHZXRZZWFyPjA8L0dldFllYXI+PEdldFRlcm1zIC8+PEdldEludHYgLz48R2V0QmFua0NvZGUgLz48R2V0QmFua0FjY05vIC8+PEdldEFjY05hbWUgLz48QXV0b1BheUZsYWcgLz48L1Jpc2s+PFBheU1vZGU+QjwvUGF5TW9kZT48Sm9iTm90aWNlIC8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
16:30:36,519 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:30:36,519 DEBUG httpclient.Wire(84) - >> "0"
16:30:36,519 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:30:36,519 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:30:37,468 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:30:37,473 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:30:37,473 DEBUG httpclient.Wire(70) - << "Date: Thu, 27 Apr 2017 08:29:17 GMT[\r][\n]"
16:30:37,474 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
16:30:37,475 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:30:37,475 DEBUG httpclient.Wire(70) - << "X-Powered-By: Servlet/2.5 JSP/2.1[\r][\n]"
16:30:37,475 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:30:37,475 DEBUG httpclient.Wire(84) - << "0"
16:30:37,475 DEBUG httpclient.Wire(84) - << "2"
16:30:37,475 DEBUG httpclient.Wire(84) - << "2"
16:30:37,475 DEBUG httpclient.Wire(84) - << "f"
16:30:37,475 DEBUG httpclient.Wire(84) - << "[\r]"
16:30:37,475 DEBUG httpclient.Wire(70) - << "[\n]"
16:30:37,475 DEBUG httpclient.Wire(84) - << "<?xm"
16:30:37,475 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+amF2YS5zcWwuQmF0Y2hVcGRhdGVFeGNlcHRpb246IE9SQS0wMTQwMDogzt63qL2rIE5VTEwgsuXI6yAoIExJU0RBVEEgLiBMQ0JORiAuIEJORlRZUEUgKTwvRGVzYz4NCiAgPC9IZWFkPg0KPC9UcmFuRGF0YT4NCg0K</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
16:30:37,475 DEBUG httpclient.Wire(84) - << "[\r]"
16:30:37,475 DEBUG httpclient.Wire(70) - << "[\n]"
16:30:37,475 DEBUG httpclient.Wire(84) - << "0"
16:30:37,475 DEBUG httpclient.Wire(84) - << "0"
16:30:37,475 DEBUG httpclient.Wire(84) - << "0"
16:30:37,475 DEBUG httpclient.Wire(84) - << "0"
16:30:37,491 DEBUG httpclient.Wire(84) - << "[\r]"
16:30:37,492 DEBUG httpclient.Wire(70) - << "[\n]"
16:30:37,492 DEBUG httpclient.Wire(84) - << "[\r]"
16:30:37,493 DEBUG httpclient.Wire(70) - << "[\n]"
16:30:37,494 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:30:37,496 INFO net.CallWebsvcAtomSvc(145) - 投保单号101010000550183录单核保(service)耗时：1.046s
16:30:37,506 INFO common.SaveMessage(94) - 132483_33_0_outSvc.xml IO输出耗时:0.0060s
16:30:37,506 INFO net.CallWebsvcAtomSvc(165) - 保存报文完毕！132483_33_0_outSvc.xml
16:30:37,506 INFO net.CallWebsvcAtomSvc(167) - Out CallWebsvcAtomSvc.service()!
16:30:37,506 ERROR service.NewContInput(123) - 新契约试算交易失败！
com.sinosoft.midplat.exception.MidplatException: java.sql.BatchUpdateException: ORA-01400: 无法将 NULL 插入 ( LISDATA . LCBNF . BNFTYPE )
	at com.sinosoft.midplat.spdb.service.NewContInput.service(NewContInput.java:79)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
16:30:37,506 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:30:37,506 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:30:37,506 INFO common.Log4jPrint(20) - 201704191036030001127039
16:30:37,506 INFO common.Log4jPrint(20) - 201704191036030001127039
16:30:37,506 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=132483,TranCom=12,ZoneNo='9800',NodeNo='120101010001',TranNo='201704191036030001127039',Operator='11024392',FuncFlag=1001,TranDate=20170419,TranTime=163036,ProposalPrtNo='101010000550183',ContNo=null,OtherNo='180010000250189',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='java.sql.BatchUpdateException: ORA-01400: 无法将 NULL 插入 ( LISDATA . LCBNF . BNFTYPE )',UsedTime=1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='132483_27_1001_in.xml',MakeDate=20170419,InDoc=null,OutDoc=null,MakeTime=163036,ModifyDate=20170419,ModifyTime=163037,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='201704191036030001127039'
16:30:37,521 INFO service.NewContInput(143) - Out NewContInput.service()!
16:30:37,521 INFO format.NewCont(27) - Into NewCont.std2NoStd()...
16:30:37,521 INFO format.NewCont(31) - Out NewCont.std2NoStd()!
16:30:37,521 INFO net.SpdbNetImpl(112) - Into SpdbNetImpl.send()...
16:30:37,521 INFO common.SaveMessage(94) - 132483_36_1001_out.xml IO输出耗时:0.0s
16:30:37,537 INFO net.SpdbNetImpl(118) - 保存报文完毕！132483_36_1001_out.xml
16:30:37,537 INFO net.SpdbNetImpl(121) - 返回报文：<?xml version="1.0" encoding="GBK"?>
<RETURN><ACKSTS>0</ACKSTS><STSDESC>正常</STSDESC><BUSI><SUBJECT>1</SUBJECT><TRANS>201704191036030001127039</TRANS><CONTENT><REJECT_CODE>1234</REJECT_CODE><REJECT_DESC>java.sql.BatchUpdateException: ORA-01400: 无法将 NULL 插入 ( LISDATA . LCBNF . BNFTYPE )</REJECT_DESC></CONTENT></BUSI></RETURN>

16:30:37,537 INFO net.SpdbNetImpl(130) - 返回报文长度：335
16:30:37,537 INFO net.SpdbNetImpl(142) - Out SpdbNetImpl.send()!
16:30:37,537 INFO test.SPDBTestUI(115) - 返回报文头：INSU800000000335
16:30:37,541 INFO test.SPDBTestUI(116) - 返回报文包头：INSU8000
16:30:37,543 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:30:37,543 INFO common.Log4jPrint(20) - null
16:30:37,543 INFO common.Log4jPrint(20) - null
16:30:37,543 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:30:37,558 INFO common.Log4jPrint(20) - i=0
16:30:37,558 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:30:37,558 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.444s
16:30:37,558 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
